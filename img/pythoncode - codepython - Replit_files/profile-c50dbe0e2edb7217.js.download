(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277,6459,3308,2606],{56896:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(55194)}])},31724:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(34051),o=r.n(n),i=r(35944),l=r(79547),a=r.n(l),c=r(67294),u=r(8996),s=r(39155),d=r(38956),f=r(38880),p=r(72829),h=r(45309);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t,r,n,o,i,l){try{var a=e[i](l),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t=e.currentUser,r=e.onChange,n=(0,f.Z)(),l=n.showError,m=n.showConfirm,g=b(c.useState(t.image),2),y=g[0],Z=g[1];c.useEffect((function(){return Z(t.image)}),[t.image]);var w=(0,d.Z)({onUpload:function(e){var t=e.id;return r({imageId:t})},onUploadPreview:function(e){var t=e.dataUrl;Z(t),m("Uploading profile image")},onError:function(e){return l(e.message)}}),x=function(){var e,t=(e=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function l(e){v(i,n,o,l,a,"next",e)}function a(e){v(i,n,o,l,a,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,i.BX)("div",{className:"jsx-362e6927095639b7 profile-image",children:[(0,i.tZ)(u.gC,{align:"center",spacing:2,css:{width:"inherit"},children:t.hasPrivacyRole?(0,i.tZ)(s.Z,{size:"inherit",url:y}):(0,i.BX)("div",{onDrop:function(e){var t,r;e.preventDefault();var n=null===(t=e.dataTransfer)||void 0===t||null===(r=t.files)||void 0===r?void 0:r[0];n&&(n.type.startsWith("image/")?w.uploadImage(n,h.N.ProfileImage):l("Expected an image file"))},onDragOver:x,className:"jsx-362e6927095639b7 drop-target",children:[(0,i.tZ)(s.Z,{size:"inherit",url:y}),(0,i.BX)("label",{className:"jsx-362e6927095639b7",children:[(0,i.tZ)("input",{accept:p.W9.join(","),type:"file",onChange:function(e){var t=e.target,r=t.validity,n=t.files;r.valid&&(null===n||void 0===n?void 0:n.length)&&w.uploadImage(n[0],h.N.ProfileImage)},className:"jsx-362e6927095639b7"}),(0,i.tZ)("span",{className:"jsx-362e6927095639b7",children:"Drag or upload"})]})]})}),(0,i.tZ)(a(),{id:"362e6927095639b7",children:".drop-target.jsx-362e6927095639b7{position:relative;width:inherit;text-align:center}.drop-target.jsx-362e6927095639b7:hover label.jsx-362e6927095639b7{opacity:1}label.jsx-362e6927095639b7{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:var(--foreground-default);background-color:var(--background-overlay);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;font-size:var(--font-size-default)}input.jsx-362e6927095639b7{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.error.jsx-362e6927095639b7{text-align:center;font-size:var(--font-size-default);color:var(--accent-negative-default)}.profile-image.jsx-362e6927095639b7{width:inherit}"})]})}},20322:function(e,t,r){"use strict";var n=r(35944),o=r(79547),i=r.n(o);r(67294);t.Z=function(e){var t=e.stroke,r=void 0===t?"var(--accent-yellow-dimmer)":t,o=e.width,l=void 0===o?"40px":o,a=e.height;return(0,n.BX)("div",{className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]]),children:[(0,n.tZ)("svg",{width:"53px",height:"37px",viewBox:"0 0 53 37",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]]),children:(0,n.tZ)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]]),children:(0,n.tZ)("g",{stroke:r,strokeWidth:"2",className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]]),children:(0,n.BX)("g",{className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]]),children:[(0,n.tZ)("polygon",{points:"41.73 29.68 5 23 5 7 41.73 0.32",className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]])}),(0,n.tZ)("path",{d:"M11,6 L11,31.25 C11.0036168,33.6295084 12.7465542,35.6487651 15.1,36 L17.5,36",className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]])}),(0,n.tZ)("path",{d:"M5,9 L5,21 C2.23857625,21 8.8817842e-16,18.7614237 8.8817842e-16,16 L8.8817842e-16,14 C8.8817842e-16,11.2385763 2.23857625,9 5,9 Z",className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]])}),(0,n.tZ)("path",{d:"M48,15 L52,15",className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]])}),(0,n.tZ)("path",{d:"M47.44,10.25 L50.56,7.75",className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]])}),(0,n.tZ)("path",{d:"M50.56,22.25 L47.44,19.75",className:i().dynamic([["94bc383aed2e87b",[l||"auto",a||"auto"]]])})]})})})}),(0,n.tZ)(i(),{id:"94bc383aed2e87b",dynamic:[l||"auto",a||"auto"],children:"svg.__jsx-style-dynamic-selector{display:block;width:".concat(l||"auto",";height:").concat(a||"auto","}")})]})}},10438:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(35944),o=(r(67294),r(78135)),i=r(8849),l=r(88768),a=r(41041),c=r(38880),u=r(56834),s=r(54929),d=r(3204),f=r(21130),p=r(67938),h=r(19689),m=r(24388);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t=(0,c.Z)().showError,r=e.post,v=(0,o.I0)(),g=(0,o.v9)((function(e){return e.user.userInfo.isLoggedIn}),o.wU),y=b((0,l.YsJ)({onError:function(e){return t((0,i.Z)(e.message))},onCompleted:function(e){var t;"PostVote"===(null===(t=e.createPostVote)||void 0===t?void 0:t.__typename)&&(0,u.j)(u.U3.REACTED_TO_REPL,{replView:"",reaction:"upvote",isReplTalk:!0,item:"post"})}}),2),Z=y[0],w=y[1].loading,x=b((0,l.e1h)({onError:function(e){return t((0,i.Z)(e.message))}}),2),k=x[0],S=x[1].loading,O=function(){if(g){if(!w&&!S){r.canVote||t("Voting not allowed");var e={postId:r.id};r.hasVoted?k({variables:e}):Z({variables:e})}}else v({type:"AUTH_MODAL_SHOW"})};return e.v2?(0,n.BX)(s.Z,{css:[d.l0.rowWithGap(8),d.l0.align.center],children:[r.voteCount>0?(0,n.tZ)(p.x,{children:(0,m.d)(r.voteCount)}):null,(0,n.tZ)(s.Z,{children:(0,n.tZ)(f.Z,{alt:r.hasVoted?"Remove upvote":"Upvote",onClick:O,size:32,children:(0,n.tZ)(h.Z,{})})})]}):(0,n.tZ)(a.Z,{hasVoted:r.hasVoted,canVote:r.canVote,voteCount:r.voteCount,lite:e.lite,small:e.small,onClick:O})}},41041:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(35944),o=r(79547),i=r.n(o),l=(r(67294),r(94184)),a=r.n(l);function c(e){return(0,n.BX)("button",{onClick:function(){e.canVote&&e.onClick()},title:"Upvote",className:"jsx-bc8b23de2f1164ad "+(a()("vote-control",e.lite?"vote-control-lite":"vote-control-heavy",{"vote-control-active":e.hasVoted,"vote-control-can-vote":e.canVote,"vote-control-small":e.small})||""),children:[(0,n.tZ)("div",{className:"jsx-bc8b23de2f1164ad vote-control-arrow",children:"\u25b2"}),(0,n.tZ)("div",{className:"jsx-bc8b23de2f1164ad vote-control-count",children:e.voteCount}),(0,n.tZ)(i(),{id:"bc8b23de2f1164ad",children:"button.jsx-bc8b23de2f1164ad{background-color:transparent;border:0 none}.vote-control.jsx-bc8b23de2f1164ad{color:var(--foreground-default);text-align:center;width:40px;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vote-control-heavy.jsx-bc8b23de2f1164ad{border:1px solid var(--foreground-default);-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.vote-control-can-vote.jsx-bc8b23de2f1164ad{cursor:pointer}.vote-control-heavy.vote-control-can-vote.jsx-bc8b23de2f1164ad:hover{background-color:var(--accent-positive-default);color:white}.vote-control-heavy.vote-control-can-vote.jsx-bc8b23de2f1164ad:hover,.vote-control-heavy.vote-control-active.jsx-bc8b23de2f1164ad{border:1px solid var(--accent-positive-default)}.vote-control-lite.vote-control-can-vote.jsx-bc8b23de2f1164ad:hover,.vote-control-lite.vote-control-active.jsx-bc8b23de2f1164ad{color:var(--accent-positive-default)}.vote-control-arrow.jsx-bc8b23de2f1164ad{font-size:16px;padding:5px;pointer-events:none}.vote-control-count.jsx-bc8b23de2f1164ad{pointer-events:none;font-size:16px;font-weight:bold;padding:0 5px 5px}.vote-control-small.jsx-bc8b23de2f1164ad{display:block;width:36px}.vote-control-small.jsx-bc8b23de2f1164ad .vote-control-arrow.jsx-bc8b23de2f1164ad{padding:0;font-size:var(--font-size-small);-webkit-transform:scaleX(1.7);-moz-transform:scaleX(1.7);-ms-transform:scaleX(1.7);-o-transform:scaleX(1.7);transform:scaleX(1.7)}.vote-control-small.jsx-bc8b23de2f1164ad .vote-control-count.jsx-bc8b23de2f1164ad{padding:0;font-weight:normal}.vote-control-active.jsx-bc8b23de2f1164ad,.vote-control-active.jsx-bc8b23de2f1164ad:hover{color:var(--accent-positive-default)}.vote-control-heavy.vote-control-active.jsx-bc8b23de2f1164ad,.vote-control-heavy.vote-control-active.jsx-bc8b23de2f1164ad:hover{background-color:var(--accent-positive-default);color:white}.vote-control-heavy.vote-control-active.jsx-bc8b23de2f1164ad,.vote-control-heavy.vote-control-active.jsx-bc8b23de2f1164ad:hover{color:white}"})]})}},83308:function(e,t,r){"use strict";r.d(t,{a:function(){return U},Z:function(){return R}});var n=r(34051),o=r.n(n),i=r(35944),l=r(79547),a=r.n(l),c=r(67294),u=r(80796),s=r(48966),d=r(48010);function f(e,t,r,n,o,i,l){try{var a=e[i](l),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function l(e){f(i,n,o,l,a,"next",e)}function a(e){f(i,n,o,l,a,"throw",e)}l(void 0)}))}}var h={isEmail:[[s.isEmail,"Invalid email address"]],email:[[s.isEmail,"Invalid email address"],[function(){var e=p(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.uz)("/data/user/exists",{email:t});case 2:return r=e.sent.exists,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"Email already in use"]],username:[[function(e){return(0,s.isByteLength)(e,2,15)},"Your username must be between 2 and 15 characters"],[function(e){return!!e.match(/^[0-9a-zA-Z]+$/)},"Your username can only contain alphanumeric characters (letters A-Z, numbers 0-9)"],[function(){var e=p(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.uz)("/data/user/exists",{username:t});case 2:return r=e.sent.exists,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"Username is taken"]],name:[[function(e){return(0,s.isByteLength)(e,1,255)},"Your name must be at least 1 character long"]],classroomName:[[function(e){return(0,s.isByteLength)(e,1,255)},"Classroom name must be at least 1 character long"]],replTitle:[[function(e){return(0,s.isByteLength)(e,1,60)},"Titles must be between 1 and 60 characters"]],replDescription:[[function(e){return(0,s.isByteLength)(e,0,255)},"Description should not be longer than 255 characters"]],notEmpty:[[function(e){return!(0,s.isEmpty)(e)},"Cannot be empty"]],postTitle:[[function(e){return(0,s.isByteLength)(e,1,100)&&!!e.match(/[0-9a-zA-Z]+/)},"Your post title must be less than 100 characters and contain at least one alphanumeric character"]],replTag:[[function(e){return(0,s.isByteLength)(e,2,15)},"Tag must be between 2 and 15 characters"],[function(e){return!!e.match(/^[0-9a-zA-Z_]+$/)},"Tag must be alphanumeric characters"]],replFolderName:[[function(e){return(0,s.isByteLength)(e.trim(),1,60)},"Folder name must be between 1 and 60 characters"],[function(e){return!e.match(/[/*?"\\]+/)},'Folder name cannot contain /, *, ", ? \\']]},m=r(28593),v=r(57541);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,r,n,o,i,l){try{var a=e[i](l),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){k(e,t,r[t])}))}return e}function C(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function P(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?g(e):t}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}var R=function(e){O(r,e);var t=E(r);function r(){return Z(this,r),t.apply(this,arguments)}return x(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,r=t.error,n=t.isLoading,o=C(t,["error","isLoading"]),l=r?[{message:r,state:"error"}]:void 0;return(0,i.BX)("div",{className:"jsx-ac5406405936ddf form-input-with-ui",children:[(0,i.tZ)(v.ZP,j({},o,{validationResults:l,ref:function(t){return e.input=t}})),n?(0,i.tZ)(m.Z,{style:{right:"8px",top:"12px",height:"16px",width:"16px",position:"absolute"}}):null,(0,i.tZ)(a(),{id:"ac5406405936ddf",children:".form-input-with-ui.jsx-ac5406405936ddf{position:relative;width:100%}"})]})}}]),r}(c.Component);k(R,"defaultProps",{isLoading:!1,type:"text",value:"",required:!1});var U=function(e){O(r,e);var t=E(r);function r(e){var n;Z(this,r),k(g(n=t.call(this,e)),"onBlur",(function(e){n.props.onBlur&&n.props.onBlur(e),n.validateNow()})),k(g(n),"onChange",(function(e){n.props.onChange(e),n.clearErrTimeout=setTimeout((function(){return n.setState({error:null})}),200),n.validate()})),k(g(n),"validateNow",(function(){n.validate.cancel(),n._validate()}));var i,l=g(n);return k(g(n),"_validate",(i=o().mark((function e(){var t,r,n,i,a,c,u,s,d,f,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,r=l.props.validators||h[l.props.validator]){e.next=4;break}throw new Error("Please supply validators or a type of validator");case 4:n=!0,i=!1,a=void 0,e.prev=5,c=r[Symbol.iterator]();case 7:if(n=(u=c.next()).done){e.next=25;break}if(s=B(u.value,2),d=s[0],f=s[1],!(p=d(l.props.value)).then){e.next=16;break}return l.setState({isLoading:!0}),e.next=14,p;case 14:p=e.sent,l.setState({isLoading:!1});case 16:if(p){e.next=22;break}return l.props.onValidation(f),t=!1,l.setState({error:f}),l.clearErrTimeout&&clearTimeout(l.clearErrTimeout),e.abrupt("break",25);case 22:n=!0,e.next=7;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(5),i=!0,a=e.t0;case 31:e.prev=31,e.prev=32,n||null==c.return||c.return();case 34:if(e.prev=34,!i){e.next=37;break}throw a;case 37:return e.finish(34);case 38:return e.finish(31);case 39:t&&(l.setState({error:null}),l.props.onValidation(null));case 40:case"end":return e.stop()}}),e,null,[[5,27,31,39],[32,,34,38]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var o=i.apply(e,t);function l(e){y(o,r,n,l,a,"next",e)}function a(e){y(o,r,n,l,a,"throw",e)}l(void 0)}))})),k(g(n),"validate",(0,u.Z)((function(){return n._validate()}),n.props.debounceTime)),n.state={error:null,isLoading:!1},n}return x(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,r=(t.onValidation,t.validator,t.validators,t.debounceTime,j({},C(t,["onValidation","validator","validators","debounceTime"]),{onChange:this.onChange,onBlur:this.onBlur,ref:function(t){return e.input=t},error:this.state.error,isLoading:this.state.isLoading}));return(0,i.tZ)(R,j({},r))}}]),r}(c.Component);k(U,"defaultProps",{debounceTime:1e3})},74545:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(35944),o=(r(67294),r(70917)),i=r(79744),l=r(54929),a=r(3204),c=r(19837),u=function(){return(0,n.tZ)("svg",{width:"6px",height:"9px",viewBox:"0 0 6 9",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,n.tZ)("g",{children:(0,n.BX)("g",{fill:"var(--accent-yellow-default)",children:[(0,n.tZ)("rect",{x:"0",y:"0",width:"3",height:"3"}),(0,n.tZ)("rect",{x:"3",y:"3",width:"3",height:"3"}),(0,n.tZ)("rect",{x:"0",y:"6",width:"3",height:"3"})]})})})},s=(0,o.F4)("\n  0% {\n    width: 16px;\n  }\n  10% {\n    width: 16px;\n  }\n  100% {\n    width: 100%;\n  }\n"),d=(0,o.F4)("\n  0% {\n    width: 0%;\n  }\n  50% {\n    width: 0%;\n  }\n  100% {\n    width: 100%;\n  }\n"),f=(0,o.F4)("\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n");function p(){return(0,n.BX)(l.Z,{css:[a.l0.position.relative,a.l0.flex.column,a.l0.center,a.l0.color.foregroundDimmer,a.l0.minHeight("calc(100vh - 100px)")],children:[(0,n.tZ)(l.Z,{children:(0,n.tZ)(i.Z,{src:"/public/images/404.svg",width:"500px",height:"500px",alt:"broken computer with 404 message on screen"})}),(0,n.BX)(l.Z,{css:[a.l0.justify.center,a.l0.flex.column,a.l0.pl(8),a.l0.pr(8),a.l0.fontSize(a.TV.fontSizeSubheadDefault),a.l0.color.accentNegativeStronger,a.l0.minHeight("70px"),{margin:"0 auto"}],children:[(0,n.BX)(l.Z,{css:[a.l0.pl(16),a.l0.overflow("hidden"),a.l0.position.relative,{whiteSpace:"nowrap"},{"@media(max-width: 550px)":{animation:"none",width:"auto",whiteSpace:"normal",overflow:"auto"}},{animation:"".concat(s," 2.5s steps(60, end)")}],children:[(0,n.BX)(l.Z,{css:[a.l0.flex.row,a.l0.align.center],children:[(0,n.tZ)(l.Z,{css:[a.l0.position.absolute,a.l0.left(0),{"@media(max-width:550px)":{top:8}}],children:(0,n.tZ)(u,{})}),"Not found error: This is not the page you\u2019re looking for."]}),(0,n.tZ)(l.Z,{tag:"br"})]}),(0,n.BX)(l.Z,{css:[a.l0.display.block,a.l0.pl(16),a.l0.overflow("hidden"),{lineHeight:"25px"},{whiteSpace:"nowrap"},{animation:"".concat(d," 5s steps(60, end)")},{"@media(max-width: 550px)":{animation:"none",width:"auto",whiteSpace:"normal",overflow:"auto"}}],children:["If you think this is a mistake please let us know by"," ",(0,n.tZ)("a",{href:c.av,children:"contacting support"})," or"," ",(0,n.tZ)("a",{href:c.xz,children:"ask the community"}),"."," ",(0,n.tZ)(l.Z,{tag:"span",css:[a.l0.display.inline,a.l0.color.accentNegativeStronger,{animation:"".concat(f," 1s infinite")}],children:"_"})]})]})]})}},17388:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});var n=function(e){return{as:e.url,href:{pathname:"/post",query:{id:String(e.id)}}}}},99971:function(e,t,r){"use strict";var n=r(35944),o=(r(67294),r(3204)),i=r(54929),l=r(67938);t.Z=function(e){var t=e.text;return(0,n.BX)(i.Z,{css:[o.l0.flex.row,o.l0.align.center],children:[(0,n.tZ)(i.Z,{css:[o.l0.mr(8),{borderBottom:"1px solid ".concat(o.TV.backgroundHighest),width:o.TV.space8}]}),(0,n.tZ)(l.x,{css:[o.l0.color.foregroundDimmest],children:t}),(0,n.tZ)(i.Z,{css:[o.l0.ml(8),o.l0.flex.grow(2),{borderBottom:"1px solid ".concat(o.TV.backgroundHighest),width:o.TV.space16}]})]})}},58338:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(67294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(){var e=i(n.useState({}),2)[1];return n.useCallback((function(){e({})}),[])}},95343:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(67294);function o(e){var t=n.useRef(null),r=n.useRef(e);return n.useEffect((function(){r.current=e}),[e]),function(e){t.current&&t.current.disconnect(),e&&window.IntersectionObserver&&(t.current=new window.IntersectionObserver((function(e){e[0].isIntersecting&&r.current()})),t.current.observe(e))}}},43907:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(17673);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return Object.keys(e).filter((function(t){return null!=e[t]})).reduce((function(t,r){return t[r]=e[r],t}),{})}function u(e,t){var r=a(function(e,t){var r=e.indexOf("?");return r<0?[e,c(t)]:[e.slice(0,r),c(l({},(0,n.decode)(e.slice(r+1)),t))]}(e.asPath,t),2),o=r[0],i=r[1];return{href:{pathname:e.pathname,query:c(l({},e.query,t))},as:{pathname:o,query:i}}}},77405:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var n=r(35944),o=(r(67294),r(41664)),i=r.n(o),l=r(70917),a=r(67938),c=r(66552),u=r(54929),s=r(3204),d=r(10438),f=r(20322),p=r(37026),h=r(85352),m=r(42672),v=r(16055),b=r(17388),g=r(24506);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}var w=(0,u.K)("a"),x=(0,l.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function k(e){var t,r=e.post,o=e.onPostClick,l=e.onTagClick,y=e.onCommentClick,k=e.onUserClick,S=r.user,O=r.repl;return S?(0,n.BX)(u.Z,{css:[s.l0.colWithGap(8)],children:[(0,n.BX)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.justify.spaceBetween,s.l0.align.center],children:[(0,n.tZ)(h.Z,{user:S,timeCreated:r.timeCreated,postType:"post",onUserClick:k}),r.isAnnouncement?(0,n.tZ)(f.Z,{width:"24px"}):(0,n.tZ)(d.Z,{post:r,v2:!0})]}),(0,n.BX)(c.Z,{css:[g.gU.filled,s.l0.borderRadius(8),s.l0.colWithGap(8),s.l0.p(8),s.l0.position.relative],children:[(0,n.BX)(u.Z,{css:[s.l0.colWithGap(16)],children:[(0,n.BX)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.align.start,s.l0.flex.growAndShrink(1)],children:[(0,n.tZ)(u.Z,{css:[s.l0.flex.growAndShrink(1),s.l0.colWithGap(4)],children:(0,n.tZ)(i(),Z({passHref:!0},(0,b.i)(r),{children:(0,n.tZ)(w,{css:[{color:"inherit"},x],onClick:o,children:(0,n.tZ)(a.x,{variant:"subheadBig",children:r.title})})}))}),(0,n.tZ)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.align.center],children:O?(0,n.tZ)(v.Vs,{tags:O.tags,onTagClick:l}):null})]}),(0,n.tZ)(a.x,{maxLines:2,css:{marginBottom:"0px"},children:r.preview}),O?(0,n.BX)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.align.center],children:[(0,n.tZ)(p.Z,{size:16,alt:O.title,iconUrl:O.templateInfo.iconUrl}),(0,n.tZ)(a.x,{children:O.templateInfo.label})]}):null]}),(null===(t=r.recentComments)||void 0===t?void 0:t.length)?(0,n.tZ)(u.Z,{css:[s.l0.p(16)],children:(0,n.tZ)(m.Z,{onCommentClick:y,comments:r.recentComments.map((function(e){return{id:e.id,user:e.user||void 0,body:e.preview,timeCreated:e.timeCreated}}))})}):null]})]}):null}},42672:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(35944),o=(r(67294),r(67938)),i=r(54929),l=r(3204),a=r(84409),c=r(9917),u=r(7163),s=r(6618),d=(0,i.K)("a");function f(e){var t=e.comments,r=e.onCommentClick;return(0,n.tZ)(i.Z,{css:[l.l0.colWithGap(8)],children:t.map((function(e){var t=e.id,f=e.body,p=e.timeCreated,h=e.user;return h?(0,n.BX)(i.Z,{css:[l.l0.rowWithGap(8)],children:[(0,n.tZ)(s.Z,{username:h.username,children:(0,n.tZ)(u.ZP,{user:h,children:(0,n.tZ)(d,{onClick:r,children:(0,n.tZ)(a.Z,{username:h.username,src:h.image,size:16})})})}),(0,n.tZ)(s.Z,{inline:!0,username:h.username,children:(0,n.tZ)(u.ZP,{user:h,children:(0,n.tZ)(d,{onClick:r,css:[{color:l.TV.foregroundDimmer,position:"relative",zIndex:1}],children:(0,n.tZ)(o.x,{children:h.username})})})})," ",(0,n.tZ)(o.x,{color:"dimmest",css:[l.l0.flex.growAndShrink(1)],children:f}),(0,n.tZ)(o.x,{variant:"small",color:"dimmest",children:(0,c.F)(p)})]},t):null}))})}},44144:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(35944),o=(r(67294),r(54929)),i=r(66552),l=r(3204),a=r(3104),c=r(85352),u=r(42672),s=r(16055),d=r(24506);function f(e){var t,r=e.post,f=e.currentUser,p=e.onUserClick,h=e.onReplClick,m=e.onTagClick,v=e.onCommentClick,b=r.user,g=r.repl;return b&&g?(0,n.BX)(o.Z,{css:[l.l0.colWithGap(8)],children:[(0,n.BX)(o.Z,{css:[l.l0.rowWithGap(8),l.l0.justify.spaceBetween,l.l0.align.center],children:[(0,n.tZ)(c.K,{user:b,timeCreated:r.timeCreated,postType:"repl",onUserClick:p}),(0,n.tZ)(a.Z,{repl:g,currentUser:f,surface:!1})]}),(0,n.BX)(i.Z,{elevated:!0,css:[d.gU.filledAndOutlined,l.l0.borderRadius(8),l.l0.position.relative,{overflow:"hidden"}],children:[(0,n.tZ)(i.Z,{css:[l.l0.p(8)],children:(0,n.tZ)(s.p0,{repl:g,onReplClick:h,onUserClick:p,onTagClick:m})}),(null===(t=g.recentComments)||void 0===t?void 0:t.length)?(0,n.tZ)(o.Z,{css:[l.l0.p(8),{borderBottomLeftRadius:8,borderBottomRightRadius:8,borderTop:"0 none",backgroundColor:"var(--background-root)"}],children:(0,n.tZ)(u.Z,{comments:g.recentComments.slice(0,2),onCommentClick:v})}):null]})]}):null}},42045:function(e,t,r){"use strict";r.d(t,{Z:function(){return S},x:function(){return k}});var n=r(35944),o=(r(67294),r(41664)),i=r.n(o),l=r(70917),a=r(67938),c=r(66552),u=r(54929),s=r(3204),d=r(3104),f=r(85352),p=r(42672),h=r(67615),m=r(16055),v=r(53009),b=r(74302),g=r(24506);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}var w=(0,u.K)("a"),x=(0,l.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function k(e){var t=e.replUrl,r=e.replCommentId;return{as:{pathname:t,query:{c:r}},href:{pathname:"/replView",query:{c:r,replUrl:t}}}}function S(e){var t,r=e.post,o=e.currentUser,l=e.onReplClick,y=e.onUserClick,k=e.onTagClick,S=e.onCommentClick,O=r.user,j=r.repl,C=r.replComment;return O&&j&&C?(0,n.BX)(u.Z,{css:[s.l0.colWithGap(8)],children:[(0,n.BX)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.justify.spaceBetween,s.l0.align.center],children:[(0,n.tZ)(f.K,{user:O,timeCreated:r.timeCreated,postType:"post",onUserClick:y}),(0,n.tZ)(d.Z,{repl:j,currentUser:o,surface:!1})]}),(0,n.BX)(c.Z,{css:[g.gU.filled,s.l0.borderRadius(8),s.l0.colWithGap(8),s.l0.p(8),s.l0.position.relative],children:[(0,n.tZ)(u.Z,{css:[s.l0.colWithGap(16)],children:(0,n.tZ)(u.Z,{css:[s.l0.rowWithGap(16),s.l0.justify.spaceBetween],children:(0,n.BX)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.align.start,s.l0.flex.growAndShrink(1)],children:[(0,n.tZ)(v.ZP,{iconUrl:j.iconUrl,alt:j.title,size:64}),(0,n.BX)(u.Z,{css:[s.l0.flex.growAndShrink(1),s.l0.colWithGap(4)],children:[(0,n.tZ)(i(),Z({passHref:!0},(0,b.j3)(j),{children:(0,n.tZ)(w,{css:[{color:"inherit"},x],onClick:l,children:(0,n.tZ)(a.x,{variant:"subheadBig",children:j.title})})})),j.description?(0,n.tZ)(a.x,{color:"dimmer",maxLines:1,css:[s.l0.maxWidth(450)],children:j.description}):null]})]})})}),(0,n.BX)(u.Z,{css:[{border:"1px solid "+s.TV.outlineDimmer,overflow:"hidden"},s.l0.borderRadius(8)],children:[(0,n.tZ)(c.Z,{elevated:!0,background:"higher",css:[s.l0.p(8),{borderTopLeftRadius:8,borderTopRightRadius:8}],children:(0,n.tZ)(u.Z,{css:[s.l0.p(8),s.l0.colWithGap(32)],children:(0,n.BX)(u.Z,{css:[s.l0.colWithGap(8)],children:[(0,n.tZ)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.align.center,s.l0.justify.spaceBetween],children:(0,n.tZ)(a.x,{variant:"subheadDefault",css:{flexShrink:1},children:r.title})}),(0,n.tZ)(a.x,{maxLines:2,css:{marginBottom:"0px"},children:C.body})]})})}),(null===(t=r.recentReplComments)||void 0===t?void 0:t.length)?(0,n.tZ)(u.Z,{css:[s.l0.p(16),{borderTop:"0px solid "+s.TV.outlineDimmest}],children:(0,n.tZ)(p.Z,{comments:r.recentReplComments,onCommentClick:S})}):null]}),(0,n.BX)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.justify.spaceBetween,s.l0.minHeight(24)],children:[(0,n.tZ)(h.Z,{repl:j}),(0,n.tZ)(u.Z,{css:[s.l0.position.relative,{zIndex:1},s.l0.flex.shrink(1)],children:(0,n.tZ)(c.Z,{elevated:!0,children:(0,n.tZ)(m.Vs,{tags:j.tags,onTagClick:k})})})]})]})]}):null}},85352:function(e,t,r){"use strict";r.d(t,{K:function(){return p},Z:function(){return f}});var n=r(35944),o=(r(67294),r(7163)),i=r(6618),l=r(67938),a=r(54929),c=r(3204),u=r(71431),s=r(9917),d=(0,a.K)("a");function f(e){var t=e.user,r=e.postType,f=e.timeCreated,p=e.onUserClick;return(0,n.BX)(a.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center],children:[(0,n.BX)(a.Z,{css:[c.l0.rowWithGap(4),c.l0.align.center],children:[(0,n.tZ)(i.Z,{username:t.username,onUserClick:p,children:(0,n.tZ)(o.ZP,{user:t,children:(0,n.tZ)(d,{css:[{color:"inherit"}],onClick:p,children:(0,n.tZ)(u.Z,{username:t.username,src:t.image,small:!0})})})}),(0,n.BX)(l.x,{color:"dimmest",children:["shared a ","post"===r?"Post":"Repl"]})]}),(0,n.tZ)(l.x,{color:"dimmest",variant:"small",children:"\u2022"}),(0,n.tZ)(l.x,{color:"dimmest",variant:"small",children:(0,s.F)(f)})]})}function p(e){var t=e.user,r=e.postType,f=e.timeCreated,p=e.onUserClick;return(0,n.BX)(a.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center,c.l0.flex.shrink(1)],children:[(0,n.BX)(a.Z,{css:[c.l0.rowWithGap(4),c.l0.align.center],children:[(0,n.tZ)(i.Z,{username:t.username,onUserClick:p,children:(0,n.tZ)(o.ZP,{user:t,children:(0,n.tZ)(d,{css:[{color:"inherit"}],onClick:p,children:(0,n.tZ)(u.Z,{username:t.username,src:t.image,small:!0})})})}),(0,n.BX)(l.x,{color:"dimmest",children:["published ","post"===r?"an Update":"a Repl"]})]}),(0,n.tZ)(l.x,{color:"dimmest",variant:"small",children:"\u2022"}),(0,n.tZ)(l.x,{color:"dimmest",variant:"small",css:[c.l0.flex.shrink(1)],children:(0,s.F)(f)})]})}},38696:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(35944),o=r(67294),i=r(88768),l=r(79523),a=r(46829),c=r(56834),u=r(11163),s=r(94933),d=r(23139);function f(e){var t=e.replId,r=(0,u.useRouter)();o.useEffect(l.S,[]),o.useEffect((function(){(0,c.Md)({pageName:"replView",sourcePage:r.pathname})}),[r]);var f=(0,i.EVm)({variables:{replId:t}}).data,p=(0,a.useApolloClient)().readFragment({id:t,fragment:i.LOX}),h="Repl"===(null===f||void 0===f?void 0:f.repl.__typename)?f.repl:null,m=(null===f||void 0===f?void 0:f.currentUser)||void 0;return(0,n.tZ)(d.G7,{css:[d.l0.borderRadius(8)],children:h?(0,n.tZ)(s.Z,{repl:h,currentUser:m,withSidebar:!1}):(0,n.tZ)(s.G,{title:(null===p||void 0===p?void 0:p.title)||void 0,withSidebar:!1})})}},57541:function(e,t,r){"use strict";r.d(t,{P3:function(){return k},QE:function(){return O}});var n=r(35944),o=r(79547),i=r.n(o),l=r(67294),a=r(94184),c=r.n(a),u=r(86677),s=r(8286),d=r(28614),f=r(58458),p=r(8996),h=r(11542),m=r(28593),v=r(17632),b=r(37424);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}function w(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k={default:"default",loading:"default",error:"negative",success:"positive",warning:"default"},S=l.forwardRef((function(e,t){var r,o,a,u=e.label,g=e.description,y=e.icon,S=e.id,j=e.onChange,C=e.large,P=e.placeholder,A=void 0===P?"":P,B=e.validationResults,I=e.onValidationError,E=w(e,["label","description","icon","id","onChange","large","placeholder","validationResults","onValidationError"]),R=(0,b.H)(),U=S||R("input"),X=g?R("input-description"):void 0,T=x(l.useState(!1),2),_=T[0],z=T[1];(null===B||void 0===B?void 0:B.some((function(e){return"loading"===e.state})))?(r="loading",o=(0,n.tZ)(m.Z,{style:{width:"24px",height:"24px"}})):(null===B||void 0===B?void 0:B.some((function(e){return"error"===e.state})))?(r="error",a="var(--accent-negative-default)",o=(0,n.tZ)(d.Z,{}),_&&(null===I||void 0===I||I())):(null===B||void 0===B?void 0:B.some((function(e){return"warning"===e.state})))?(r="warning",a="var(--foreground-dimmest)",o=(0,n.tZ)(v.Z,{})):(null===B||void 0===B?void 0:B.every((function(e){return"success"===e.state})))?(r="success",a="var(--accent-positive-default)",o=(0,n.tZ)(s.Z,{})):r="default";var G=k[r],W=C?"var(--font-size-subhead-default)":"var(--font-size-default)";return(0,n.BX)("div",{className:i().dynamic([["8596e7f04cb3da62",[a,W,E.monospace?"var(--font-family-code)":"var(--font-family-default)",W,y?"var(--space-24)":"auto"]]])+" container",children:[u&&(0,n.BX)(n.HY,{children:[E.required?(0,n.BX)(p.Ug,{spacing:"2px",children:[(0,n.tZ)(f.Z,{tag:"label",foreground:_?1:2,size:C?"small":"xsmall",htmlFor:U,children:u}),(0,n.tZ)("span",{className:i().dynamic([["8596e7f04cb3da62",[a,W,E.monospace?"var(--font-family-code)":"var(--font-family-default)",W,y?"var(--space-24)":"auto"]]])+" required",children:"*"})]}):(0,n.tZ)(f.Z,{tag:"label",foreground:_?1:2,size:C?"small":"xsmall",htmlFor:U,children:u}),(0,n.tZ)(h.Z,{height:"4px"})]}),(0,n.BX)("div",{className:i().dynamic([["8596e7f04cb3da62",[a,W,E.monospace?"var(--font-family-code)":"var(--font-family-default)",W,y?"var(--space-24)":"auto"]]])+" input-container",children:[y&&(0,n.tZ)("div",{className:i().dynamic([["8596e7f04cb3da62",[a,W,E.monospace?"var(--font-family-code)":"var(--font-family-default)",W,y?"var(--space-24)":"auto"]]])+" icon-container left",children:y}),(0,n.tZ)("input",Z({id:U,ref:t,required:E.required||!1,onChange:j,placeholder:A,"aria-busy":"loading"===r,"aria-invalid":"error"===r,"aria-describedby":X},E,{onFocus:function(e){z(!0),E.onFocus&&E.onFocus(e)},onBlur:function(e){z(!1),E.onBlur&&E.onBlur(e)},className:i().dynamic([["8596e7f04cb3da62",[a,W,E.monospace?"var(--font-family-code)":"var(--font-family-default)",W,y?"var(--space-24)":"auto"]]])+" "+(c()(G,E.className)||"")})),o&&(0,n.tZ)("div",{onMouseEnter:function(){return z(!0)},onMouseLeave:function(){return z(!1)},className:i().dynamic([["8596e7f04cb3da62",[a,W,E.monospace?"var(--font-family-code)":"var(--font-family-default)",W,y?"var(--space-24)":"auto"]]])+" icon-container right",children:o})]}),g&&(0,n.BX)(n.HY,{children:[(0,n.tZ)(h.Z,{height:"4px"}),(0,n.tZ)(f.Z,{id:X,tag:"span",foreground:3,size:C?"medium":"small",children:g})]}),(null===B||void 0===B?void 0:B.some((function(e){return!!e.message})))&&_&&(0,n.tZ)(O,{validationResults:B}),(0,n.tZ)(i(),{id:"8596e7f04cb3da62",dynamic:[a,W,E.monospace?"var(--font-family-code)":"var(--font-family-default)",W,y?"var(--space-24)":"auto"],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.spacer.row.__jsx-style-dynamic-selector{width:var(--space-4)}.spacer.col.__jsx-style-dynamic-selector{height:var(--space-4)}.input-container.__jsx-style-dynamic-selector{position:relative}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(a,"}.icon-container.left.__jsx-style-dynamic-selector{left:var(--space-4);background-color:transparent;color:var(--foreground-dimmest)}input.__jsx-style-dynamic-selector{font-size:").concat(W,";font-family:").concat(E.monospace?"var(--font-family-code)":"var(--font-family-default)",";line-height:").concat(W,";background-color:var(--background-default);color:var(--foreground-default);padding:var(--space-8);padding-left:").concat(y?"var(--space-24)":"auto",";border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:color.1s,background-color.1s;-moz-transition:color.1s,background-color.1s;-o-transition:color.1s,background-color.1s;transition:color.1s,background-color.1s}input.__jsx-style-dynamic-selector:disabled{opacity:.5}input.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}input.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-stronger)}input.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}input.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}input.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}input.__jsx-style-dynamic-selector:active,input.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})})),O=function(e){var t=e.validationResults;return(0,n.BX)("div",{"aria-live":"polite",className:"jsx-717f837fe0108fc4 container",children:[t.map((function(e,t){var r;switch(e.state){case"success":r=(0,n.tZ)(s.Z,{color:"var(--accent-positive-default)"});break;case"error":r=(0,n.tZ)(d.Z,{color:"var(--accent-negative-default)"});break;case"warning":r=(0,n.tZ)(v.Z,{color:"var(--foreground-dimmest)"});break;default:r=(0,n.tZ)(u.Z,{color:"var(--foreground-dimmest)"})}return(0,n.BX)("div",{className:"jsx-717f837fe0108fc4 validation-row",children:[(0,n.tZ)("div",{className:"jsx-717f837fe0108fc4 validation-icon-container",children:r}),(0,n.tZ)(h.Z,{width:"4px"}),(0,n.tZ)(f.Z,{foreground:2,size:"small",children:e.message})]},e.state+t.toString())})),(0,n.tZ)(i(),{id:"717f837fe0108fc4",children:".container.jsx-717f837fe0108fc4{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:absolute;top:-webkit-calc(100% + var(--space-4));top:-moz-calc(100% + var(--space-4));top:calc(100% + var(--space-4));background-color:var(--background-default);padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);z-index:9999;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2)}.validation-row.jsx-717f837fe0108fc4{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;width:100%;padding-bottom:var(--space-4)}.validation-icon-container.jsx-717f837fe0108fc4{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding-right:var(--space-4)}"})]})};t.ZP=S},55194:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return bo}});var n=r(34051),o=r.n(n),i=r(35944),l=r(67294),a=r(12918),c=r(11163),u=r(9116),s=r(74545),d=r(1517),f=r(36526),p=r(88768),h=r(54929),m=r(3204),v=r(42045),b=r(44144),g=r(77405),y=r(92704),Z=r(56834),w=r(23139);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){k(e,t,r[t])}))}return e}function O(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(e){var t,r=e,n=(0,p.lyt)({variables:r}),o=n.data,l=n.loading,a=n.fetchMore;if(l)return(0,i.tZ)(h.Z,{css:[m.l0.p(8),m.l0.center],children:(0,i.tZ)(d.Z,{})});if(!(null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.posts))return null;var c=o.user.posts,u=o.currentUser,s=o.user.posts.pageInfo.nextCursor;return(0,i.BX)(h.Z,{css:[m.l0.colWithGap(32)],children:[(0,i.BX)(h.Z,{css:[m.l0.colWithGap(64)],children:[0===c.items.length&&(0,i.tZ)(h.Z,{css:[m.l0.center,m.l0.p(32)],children:(0,i.tZ)(w.xv,{variant:"subheadBig",children:"No posts yet"})}),c.items.map((function(e){return e.title?e.replComment?(0,i.tZ)(v.Z,{post:e,currentUser:u||void 0},e.id):(0,i.tZ)(g.Z,{post:e},e.id):(0,i.tZ)(b.Z,{post:e,currentUser:u||void 0},e.id)}))]}),(0,i.BX)(h.Z,{css:[m.l0.center],children:[l?(0,i.tZ)(y.zx,{disabled:!0,text:"Loading..."}):null,s&&!l?(0,i.tZ)(y.zx,{onClick:function(){(0,Z.j)(Z.U3.PROFILE_POSTS_LOAD_MORE_CLICKED,{username:e.username}),a({variables:S({},r,{after:c.pageInfo.nextCursor}),updateQuery:function(e,t){var r,n,o,i;if(!(null===(r=t.fetchMoreResult)||void 0===r||null===(n=r.user)||void 0===n?void 0:n.posts))return e;var l=t.fetchMoreResult,a=e&&e.user&&e.user.posts?e.user.posts.items:[],c=S({},l);return(null===(o=c.user)||void 0===o?void 0:o.posts)&&(null===(i=l.user)||void 0===i?void 0:i.posts)&&(c.user.posts.items=O(a).concat(O(l.user.posts.items))),c}})},text:"Load more"}):null]})]})},C=r(7177),P=r(4993),A=r(66552),B=r(67938),I=r(94590),E=r(73248),R=r(30666),U=r(66658),X=r(74302),T=r(15985),_=r(28747),z=r(58375);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(e){var t=e.onCancel,r=e.repl,n=e.onDelete,o=W((0,p.kEC)({variables:{id:r.id},onCompleted:function(){return n()}}),2),l=o[0],a=o[1];return(0,i.BX)(h.Z,{css:[m.l0.colWithGap(24)],children:[(0,i.BX)(B.h,{variant:"headerDefault",level:1,css:[m.l0.color.accentNegativeStronger],children:["Delete ",r.title]}),(0,i.tZ)(B.x,{multiline:!0,children:"Are you sure you want to delete this Repl? This cannot be undone."}),(0,i.BX)(h.Z,{css:[m.l0.rowWithGap(16),{alignSelf:"flex-end"}],children:[(0,i.tZ)(y.ZP,{onClick:t,text:"Cancel"}),(0,i.tZ)(y.ZP,{onClick:function(){return l()},disabled:a.loading,text:"Yes, delete this Repl",colorway:"negative",iconLeft:(0,i.tZ)(z.Z,{})})]})]})},L=r(22307),M=r(83348),N=r(30327),V=r(29698),Y=r(71841),F=r(23589);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"===typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}var J=[{id:"copy_link",icon:(0,i.tZ)(Y.Z,{}),text:"Copy Link",color:"default"},{id:"cover_page",icon:(0,i.tZ)(F.Z,{}),text:"Cover page",color:"default"}],Q=[{id:"edit",icon:(0,i.tZ)(V.Z,{}),text:"Edit",color:"default"},{id:"unpin",icon:(0,i.tZ)(M.Z,{}),text:"Unpin",color:"default"},{id:"delete",icon:(0,i.tZ)(z.Z,{}),text:"Delete",color:"var(--accent-negative-stronger)"}],ee=function(e){var t=e.onSelect,r=e.showExtendedOptions,n=e.isOwner,o=$(l.useState([]),2),a=o[0],c=o[1];return l.useEffect((function(){c(q(r?J:[]).concat(q(n?Q:[])))}),[r,n]),n||r?(0,i.tZ)(L.ZE,{cssProps:[{backgroundColor:"transparent"}],"aria-label":"more options",icon:(0,i.tZ)(N.Z,{}),onAction:t,children:a.map((function(e){return(0,i.tZ)(L.ck,{"aria-label":e.text,children:(0,i.BX)(h.Z,{css:[m.l0.flex.row,m.l0.rowWithGap(8),{width:200,color:e.color}],children:[l.cloneElement(e.icon),(0,i.tZ)(B.x,{children:e.text})]})},e.id)}))}):null},te=r(79635),re=r(98647);function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ie=function(e){var t=e.repl,r=oe(l.useState(!1),2),n=r[0],o=r[1];return(0,i.tZ)(te.ZP,{isOpen:n,placement:"bottom",tooltip:"Copied!",onOpenChange:function(){n&&setTimeout((function(){o(!1)}),2e3)},children:(0,i.tZ)(y.ZP,{text:"Copy Link",iconLeft:(0,i.tZ)(Y.Z,{}),onClick:function(){(null===t||void 0===t?void 0:t.url)&&((0,re.Z)("".concat(window.location.origin).concat(t.url)),o(!0))}})})},le=r(73345);function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ce=function(e){var t=e.spotlightLinkProps;return(0,i.tZ)(le.Co,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ae(e,t,r[t])}))}return e}({text:"Cover page",iconLeft:(0,i.tZ)(F.Z,{})},t))},ue=r(46253),se=r(41664),de=r.n(se),fe=r(34860),pe=r(21555),he=r(28593);function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var be=function(e){var t=e.spotlightLinkProps,r=e.repl,n=e.loading,o=e.comments,a=(0,c.useRouter)(),u=ve(l.useState(!1),2),s=u[0],d=u[1];return r?(0,i.BX)(h.Z,{css:[m.l0.my(16),m.l0.flex.grow(2),m.l0.flex.shrink(2),m.l0.position.relative,m.l0.overflow("hidden")],children:[(0,i.BX)(h.Z,{css:[m.l0.center,m.l0.position.absolute,m.l0.height("100%"),m.l0.width(292),m.l0.zIndex(2),m.l0.top(0),m.l0.cursor.pointer],onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onClick:function(){return a.push(t.href,t.as)},children:[s&&(0,i.tZ)(h.Z,{css:[{backgroundColor:m.TV.backgroundHigher,opacity:.8,position:"absolute",top:0,width:"100%",height:"100%"}]}),s&&(0,i.BX)(h.Z,{css:[m.l0.center,m.l0.rowWithGap(8),m.l0.zIndex(3)],children:[(0,i.tZ)(fe.Z,{}),(0,i.tZ)(B.x,{children:"View all comments"})]})]}),n&&(0,i.tZ)(h.Z,{css:[m.l0.justify.center,m.l0.align.center],children:(0,i.tZ)(he.Z,{})}),r&&(0,i.tZ)(h.Z,{css:[m.l0.flex.row],children:(0,i.BX)(B.x,{variant:"small",color:"dimmer",children:["Recent comments (",r.commentCount,")"]})}),o.filter((function(e){return!e.isHidden})).map((function(e){return(0,i.BX)(h.Z,{css:[m.l0.flex.row,m.l0.mt(8)],children:[e.user&&(0,i.tZ)(h.Z,{children:(0,i.tZ)(pe.Yt,{user:e.user})}),(0,i.BX)(h.Z,{css:[m.l0.ml(8),m.l0.flex.shrink(2)],children:[e.user&&(0,i.tZ)(pe.wb,{user:e.user,timeCreated:e.timeCreated}),(0,i.tZ)(B.x,{multiline:!0,css:[m.l0.flex.shrink(2)],children:e.body})]})]},e.id)}))]}):null},ge=r(35013);function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ze(e,t,r[t])}))}return e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ke=function(e){var t,r,n,o,a,c,u,s=e.repl,d=xe(l.useState(!1),2),f=d[0],v=d[1],b=(0,p.ex8)({variables:{replId:s.id,count:6}}),g=b.data,Z=b.loading,w=b.refetch,x=!(null===(t=s.source)||void 0===t||null===(r=t.deployment)||void 0===r||null===(n=r.repl)||void 0===n?void 0:n.owner),k=(null===(o=s.source)||void 0===o||null===(a=o.deployment)||void 0===a?void 0:a.repl)&&(0,X.aq)(s.source.deployment.repl),S=(0,X.j3)(s),O="Repl"===(null===g||void 0===g?void 0:g.repl.__typename)?g.repl:null,j=null!==(u=null===O||void 0===O||null===(c=O.comments)||void 0===c?void 0:c.items)&&void 0!==u?u:[];return(0,i.BX)(h.Z,{css:[m.l0.pl(8),m.l0.ml(8),{width:300,height:470}],children:[(x||!k)&&(0,i.BX)(B.x,{children:["Made with ",s.lang.displayName]}),!x&&k&&(0,i.BX)(B.x,{children:["Made with"," ",(0,i.tZ)(de(),we({},k,{children:(0,i.tZ)("a",{children:s.templateInfo.label})}))]}),(0,i.tZ)(B.x,{css:[m.l0.pt(8)],multiline:!0,children:null===s||void 0===s?void 0:s.description}),(0,i.tZ)(be,{loading:Z,repl:O,comments:j,spotlightLinkProps:S}),(0,i.BX)(h.Z,{css:[{zIndex:2}],children:[(0,i.tZ)(h.Z,{css:[m.l0.width("100%"),m.l0.position.relative,m.l0.top(-10),{boxShadow:"0px -8px 12px 8px var(--background-default)",border:"1px solid var(--background-default)"}]}),f?(0,i.tZ)(ge.H,{autoFocus:!0,onCancel:function(){return v(!1)},onComment:function(){w()},replId:s.id,placeholder:s?"Say something about ".concat(s.title):""}):(0,i.tZ)(y.ZP,{text:"Leave a comment",iconLeft:(0,i.tZ)(ue.Z,{}),onClick:function(){return v(!0)}})]})]})};function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ce=function(e){var t=e.currentUser,r=e.user,n=e.refetchRepls,o=e.repl,a=e.width,u=(0,c.useRouter)(),s=je(l.useState(!1),2),d=s[0],f=s[1],v=je(l.useState(!1),2),b=v[0],g=v[1],y=je((0,_.Z)(),2),w=y[0],x=y[1].loading,k=je((0,p.gpq)({onCompleted:function(e){n(),(0,Z.j)(Z.U3.PINNED_REPL_UNPIN,{replId:e.unpinReplFromProfile.id})}}),1)[0],S=(0,X.aq)(o),O=(0,X.j3)(o),j=l.useCallback((function(){(null===o||void 0===o?void 0:o.url)&&(0,re.Z)("".concat(window.location.origin).concat(o.url))}),[o.url]),z=l.useCallback((function(e){switch(e){case"edit":u.push(S.href,S.as);break;case"delete":f(!0);break;case"unpin":k({variables:{replId:o.id}});break;case"copy_link":j();break;case"cover_page":u.push(O.href,O.as)}}),[j,S,O,u,o,k]),G=je(l.useState(0),2),W=G[0],L=G[1],M=je(l.useState(!0),2),N=M[0],V=M[1];l.useEffect((function(){a<900?(L(a/1.7),V(!1)):(L(a/2),V(!0))}),[a]);var Y=(null===t||void 0===t?void 0:t.id)===r.id,F=o.publishedAs===p.O2h.Template?{text:x?"Forking...":"Fork Template",icon:(0,i.tZ)(I.Z,{}),count:o.publicReleasesForkCount}:{text:x?"Forking...":"Fork Repl",icon:(0,i.tZ)(E.Z,{}),count:o.publicForkCount},H=(0,i.tZ)(T.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Oe(e,t,r[t])}))}return e}({},F,{onClick:function(){var e,t;x||w({originId:o.id,replReleaseId:(null===(e=o.deployment)||void 0===e||null===(t=e.activeRelease)||void 0===t?void 0:t.id)||void 0,trackingData:{forkSource:"profileShowcase",isApp:o.publishedAs===p.O2h.App,isTemplate:o.publishedAs===p.O2h.Template}})},icon:(0,i.tZ)(E.Z,{}),colorway:"primary",onCountClick:function(){return g(!0)}}));return(0,i.BX)(A.Z,{background:"default",css:[m.l0.colWithGap(16),m.l0.p(16),m.l0.width("100%"),Oe({},(0,P.et)("tabletMin"),[m.l0.borderRadius(16)])],children:[(0,i.BX)(h.Z,{css:[m.l0.flex.row,m.l0.justify.spaceBetween,m.l0.flex.wrap],children:[(0,i.tZ)(B.h,{variant:"headerDefault",level:2,children:o.title}),(0,i.BX)(h.Z,{css:[m.l0.rowWithGap(8),m.l0.pt(8)],children:[(Y||!N)&&(0,i.tZ)(ee,{onSelect:z,showExtendedOptions:!N,isOwner:Y}),N&&(0,i.tZ)(ie,{repl:o}),N&&(0,i.tZ)(ce,{spotlightLinkProps:O}),N&&H]})]}),(0,i.BX)(h.Z,{css:[m.l0.flex.row],children:[(0,i.tZ)(h.Z,{css:[m.l0.flex.grow(2),m.l0.height(null!==W&&void 0!==W?W:470),m.l0.display.grid],children:(0,i.tZ)(U.Z,{currentUser:t||void 0,repl:o})}),N&&(0,i.tZ)(ke,{repl:o})]}),!N&&(0,i.tZ)(h.Z,{css:[m.l0.align.end],children:H}),(0,i.tZ)(C.Z,{isOpen:d,onRequestClose:function(){return f(!1)},maxWidth:512,children:(0,i.tZ)(D,{repl:o,onCancel:function(){return f(!1)},onDelete:n})}),(0,i.tZ)(C.Z,{isOpen:b,onRequestClose:function(){return g(!1)},maxWidth:512,children:(0,i.tZ)(R.Z,{replId:o.id})})]})},Pe=r(50553);function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ae(e,t,r[t])}))}return e}var Ie={visibility:"hidden",opacity:0,pointerEvents:"none"},Ee=function(e){var t=e.dir,r=e.slider,n=e.currentSlide;if(!r)return null;var o="left"===t,l=r.details().size,a=(o?0===n:n===l-1)?Ie:{},c=o?"-":"";return(0,i.tZ)(w.G7,{css:[w.l0.center,w.l0.backgroundColor.foregroundDimmest,w.l0.color.backgroundRoot,w.l0.position.absolute,w.l0.cursor.pointer,w.l0.width(36),w.l0.height(36),w.l0.top("50%"),w.l0.left(o?0:"auto"),w.l0.right(o?"auto":0),w.l0.zIndex(1),w.l0.borderRadius("full"),Be({opacity:.75,transform:"translateX(".concat(c,"25%) translateY(-50%)"),transition:"background 0.1s, opacity 0.1s, transform 0.1s"},a,{":hover":{transform:"translateX(".concat(c,"25%) translateY(-50%) scale(1.2)"),background:"var(--foreground-dimmer)",opacity:1}})],onClick:function(){o?r.prev():r.next()},children:(0,i.tZ)(Pe.Z,{size:24,rotate:o?90:-90})})},Re=function(e){var t=e.slider,r=e.currentSlide,n=e.openPickModal,o=e.isOwner;if(!t)return null;var l=null===t||void 0===t?void 0:t.details().size;return(0,i.BX)(w.G7,{css:[w.l0.rowWithGap(16),w.l0.center],children:[(0,i.tZ)(w.G7,{css:[w.l0.rowWithGap(12),w.l0.align.center],children:Array.from({length:l},(function(e,n){var o=r===n;return(0,i.tZ)(w.G7,{css:[o?w.l0.cursor.default:w.l0.cursor.pointer,w.l0.width(16),w.l0.height(16),w.l0.justify.center,w.l0.align.center],onClick:function(){return e=n,void t.moveToSlide(e);var e},children:(0,i.tZ)(w.G7,{css:[o?w.l0.backgroundColor.accentPrimaryDefault:w.l0.backgroundColor.foregroundDimmest,w.l0.width(8),w.l0.height(8),w.l0.borderRadius("full")]})},n)}))}),o&&(0,i.tZ)(w.zx,{onClick:n,iconLeft:(0,i.tZ)(V.Z,{}),text:"Edit pinned Repls",small:!0,outlined:!0})]})},Ue=r(96594),Xe=r(90652),Te=r(9917),_e=r(27291),ze=r(53009),Ge=r(70917),We=r(24506),De=r(88503),Le=r(79162),Me=r(45718);function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ve(e,t,r[t])}))}return e}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||$e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){if(e){if("string"===typeof e)return Ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(e,t):void 0}}var qe=(0,h.K)("input"),Ke=(0,h.K)("div"),Je=(0,h.K)("li"),Qe=(0,Ge.iv)([We.gU.filled,m.l0.p(8),{color:m.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:m.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:m.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function et(e){var t,r=e.disabled,n=e.filter,o=e.manualSelect,a=e.excludePrivate,c=e.onSelect,u=e.selectedIconOverride,s=Fe(l.useState([]),2),f=s[0],v=s[1],b=Fe(l.useState(""),2),g=b[0],y=b[1],Z=l.useRef(null),w=n?f.filter(n):f,x=(0,Ue.Kb)({items:w,initialHighlightedIndex:o?-1:0,itemToString:function(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}});l.useEffect((function(){return y(x.inputValue)}),[x.inputValue]);var k=(0,Xe.Z)(g,100),S=(0,p.aFh)({variables:{search:k,excludePrivate:a},onCompleted:function(e){if(!e.currentUser)throw new Error("Expected currentUser");e.currentUser.replSearch?v(e.currentUser.replSearch.reduce((function(e,t){return t?He(e).concat([t]):e}),[])):v([])}}).loading,O=(0,_e.Z)(c);l.useEffect((function(){var e;x.selectedItem&&(null===(e=Z.current)||void 0===e||e.blur(),O.current(x.selectedItem))}),[x.selectedItem,O]);var j=(null===(t=x.selectedItem)||void 0===t?void 0:t.iconUrl)&&x.inputValue?(0,i.tZ)(h.Z,{css:[m.l0.px(8),m.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:u||(0,i.tZ)(ze.ZP,{alt:x.selectedItem.title,iconUrl:x.selectedItem.iconUrl,size:16})}):null;return(0,i.BX)(h.Z,{css:[{position:"relative"}],children:[(0,i.BX)(Ke,Ye({},x.getComboboxProps(),{css:{position:"relative"},children:[j,(0,i.tZ)(qe,Ye({css:[Qe,m.l0.pr(32),j&&m.l0.pl(32)]},x.getInputProps({ref:Z,placeholder:"Search for a Repl",onFocus:function(e){x.selectedItem&&(e.preventDefault(),e.currentTarget.select(),y("")),x.openMenu()}}))),(0,i.tZ)(h.Z,{css:[m.l0.center,m.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,i.tZ)(De.Z,{})})]})),(0,i.tZ)(Ke,Ye({},x.getMenuProps(),{css:{position:"relative"},children:x.isOpen&&!r?(0,i.BX)(Le.Z,{children:[S?(0,i.tZ)(Je,{css:[m.l0.center,m.l0.py(32)],children:(0,i.tZ)(d.Z,{})}):null,w.length||S?null:(0,i.tZ)(Je,{css:[m.l0.center,m.l0.py(32)],children:(0,i.BX)(B.x,{color:"dimmer",variant:"small",children:["No ",f.length>0?"more ":null,"repls found"]})}),w.map((function(e,t){return(0,i.tZ)(Je,Ye({},x.getItemProps({item:e,index:t}),{children:(0,i.tZ)(Me.Z,{filter:g,title:e.title,subtitle:(0,Te.F)(e.timeUpdated),selected:x.selectedItem===e,highlighted:x.highlightedIndex===t,icon:e.iconUrl?(0,i.tZ)(ze.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)}))]}):null}))]})}var tt=r(38880),rt=r(37026);function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var it=function(e){var t=e.onSelect,r=e.showcasedRepls,n=(0,tt.Z)(),o=n.showConfirm,l=n.showError,a=ot((0,p.lr0)({onCompleted:function(e){o("Repl added to showcase"),t(),(0,Z.j)(Z.U3.PINNED_REPL_PIN,{replId:e.pinReplToProfile.id})},onError:function(e){l(e.message)}}),2),c=a[0],u=a[1],s=ot((0,p.gpq)({onCompleted:function(e){o("Repl removed from showcase"),t(),(0,Z.j)(Z.U3.PINNED_REPL_UNPIN,{replId:e.unpinReplFromProfile.id})},onError:function(e){l(e.message)}}),2),d=s[0],f=s[1].loading||u.loading;return(0,i.BX)(h.Z,{css:[m.l0.colWithGap(16)],children:[(0,i.tZ)(B.h,{level:2,variant:"headerDefault",children:"Pick a Repl to showcase:"}),(0,i.tZ)(et,{disabled:f,filter:function(e){return!r.find((function(t){return t.id===e.id}))},manualSelect:!0,onSelect:function(e){r.find((function(t){return t.id===e.id}))||c({variables:{replId:e.id}})}}),r.length>0?(0,i.BX)(h.Z,{css:[m.l0.pt(8),m.l0.colWithGap(8)],children:[(0,i.tZ)(B.h,{level:3,children:"Current Repls showcased:"}),r.map((function(e){return(0,i.BX)(A.Z,{background:"highest",css:[m.l0.flex.row,m.l0.justify.spaceBetween,m.l0.align.center,m.l0.p(8),m.l0.borderRadius(8)],children:[(0,i.BX)(h.Z,{css:[m.l0.rowWithGap(8)],children:[(0,i.tZ)(rt.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,i.tZ)(B.x,{css:[m.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],children:e.title})]}),(0,i.tZ)(y.ZP,{disabled:f,outlined:!0,onClick:function(){return d({variables:{replId:e.id}})},text:"Remove"})]},e.id)}))]}):null]})},lt=r(94184),at=r.n(lt),ct=r(85252),ut=r(58338),st=r(82730);function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ft(e,t,r[t])}))}return e}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mt=function(e){var t=e.currentUser,r=e.user,n=e.refetchRepls,o=r.pinnedRepls||[],a=ht(l.useState(!1),2),c=a[0],u=a[1],s=ht(l.useState(0),2),d=s[0],f=s[1],p=ht(l.useState(0),2),v=p[0],b=p[1],g=ht(l.useState(!1),2),y=g[0],Z=g[1],w=ht((0,st.useKeenSlider)({controls:!y,initial:0,slideChanged:function(e){var t=e.details().relativeSlide;f(t)}}),2),x=w[0],k=w[1],S=(0,ut.Z)(),O=(0,ct.Z)((function(e){k&&k.resize(),e.width&&(b(e.width),e.width<800?Z(!1):Z(!0))}));l.useEffect((function(){k&&(S(),k.refresh())}),[r.pinnedRepls,k,S]);var j=(null===t||void 0===t?void 0:t.id)===r.id;return(0,i.BX)(h.Z,{css:[m.l0.flex.grow(2),ft({},(0,P.et)("tabletMin"),[m.l0.px(16)])],children:[(0,i.BX)(h.Z,{tag:"div",css:[m.l0.width("100%"),m.l0.position.relative,m.l0.colWithGap(16)],innerRef:O,children:[y&&(0,i.tZ)(Ee,{dir:"left",slider:k,currentSlide:d}),(0,i.tZ)("ul",{ref:x,className:"keen-slider",css:[{userSelect:"auto",touchAction:"auto",listStyleType:"none"}],children:o.map((function(t){return(0,i.tZ)("li",{className:at()("keen-slider__slide"),children:(0,i.tZ)(Ce,pt({},e,{repl:t,width:v}))},t.id)}))}),y&&(0,i.tZ)(Ee,{dir:"right",slider:k,currentSlide:d}),(0,i.tZ)(Re,{isOwner:j,currentSlide:d,slider:k,openPickModal:function(){return u(!0)}})]}),(0,i.tZ)(C.Z,{isOpen:c,onRequestClose:function(){return u(!1)},centered:!0,maxWidth:600,children:(0,i.tZ)(it,{onSelect:n,showcasedRepls:o})})]})};function vt(e){var t=e.username,r=(0,c.useRouter)(),n=(0,p.tP8)({variables:{username:t}}),o=n.data,i=n.loading;return l.useEffect((function(){o&&!i&&"Team"===o.team.__typename&&o.team.isMember&&r.replace({pathname:"/teamProfile",query:{teamname:t}},"/team/".concat(t))}),[r,t,o,i]),null}var bt=r(44778),gt=r(39155),yt=r(83135),Zt=r(57198),wt=r(19240),xt=r(78245),kt=function(e){var t=e.tagline;return(0,i.tZ)(xt.Z,{tagline:null!==t&&void 0!==t?t:"detective",name:"detective",color:"green"})},St=function(e){var t=e.tagline;return(0,i.tZ)(xt.Z,{tagline:null!==t&&void 0!==t?t:"language jammer",name:"language jammer",color:"purple"})},Ot=function(e){var t=e.tagline;return(0,i.tZ)(xt.Z,{tagline:null!==t&&void 0!==t?t:"Featured",name:"Verified",color:"green"})},jt=function(e){var t=e.role,r=e.tagline,n=e.name;switch(t){case"DETECTIVE":return(0,i.tZ)(kt,{tagline:r});case"MODERATOR":return(0,i.tZ)(Zt.Z,{tagline:r});case"CONTENT_CREATOR":return(0,i.tZ)(wt.Z,{tagline:r});case"LANGUAGE_JAMMER":return(0,i.tZ)(St,{tagline:r});case"FEATURED":return(0,i.tZ)(Ot,{tagline:r});case"hacker":return(0,i.tZ)(yt.Z,{tagline:r});default:return(0,i.tZ)(xt.Z,{tagline:r,name:n})}},Ct=r(22546),Pt=r(51095),At=r(32666),Bt=r(88076),It=r(57170),Et=r(25514),Rt=r(56933),Ut=r(534),Xt=r(95343),Tt=r(7163);function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Gt=function(e){var t=e.active,r=e.children;return(0,i.tZ)(h.Z,{children:(0,i.tZ)(B.x,{variant:"headerDefault",css:[t?m.l0.color.foregroundDefault:m.l0.color.foregroundDimmest,{":hover":{color:m.TV.foregroundDefault}}],children:r})})},Wt=function(e){var t=e.active,r=e.children,n=e.href,o=zt(e,["active","children","href"]);return(0,i.tZ)(de(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_t(e,t,r[t])}))}return e}({href:n},o,{passHref:!0,children:(0,i.tZ)("a",{css:{textDecoration:"none"},children:(0,i.tZ)(Gt,{active:t,children:r})})}))};function Dt(e,t,r,n,o,i,l){try{var a=e[i](l),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}function Lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Lt(e,t,r[t])}))}return e}var Nt=function(e){var t=e.user,r=e.currentUser,n=t.id===(null===r||void 0===r?void 0:r.id);return(0,i.BX)(w.G7,{tag:"li",css:[w.l0.p(8),w.l0.rowWithGap(8),w.l0.align.center,We.gU.nofill],children:[(0,i.tZ)(de(),Mt({},(0,Tt.Ru)(t),{passHref:!0,children:(0,i.BX)(w.G7,{tag:"a",css:[{color:"unset"},w.l0.rowWithGap(8),w.l0.flex.growAndShrink(1),w.l0.align.center,w.l0.focusRing],children:[(0,i.tZ)(Ut.Z,{size:40,alt:"",src:t.image}),(0,i.BX)(w.G7,{css:[w.l0.flex.growAndShrink(1)],children:[(0,i.tZ)(w.xv,{children:t.fullName}),(0,i.BX)(w.xv,{variant:"small",color:"dimmer",children:["@",t.username]})]})]})})),!n&&(0,i.tZ)(Et.Z,{user:t})]})},Vt=function(){return(0,i.tZ)(w.G7,{css:[w.l0.height(40),w.l0.flex.row,w.l0.align.center,w.l0.justify.center],children:(0,i.tZ)(d.Z,{size:24})})},Yt=function(e){var t=e.text;return(0,i.BX)(w.G7,{css:[w.l0.height(208),w.l0.align.center,w.l0.justify.spaceEvenly,w.l0.textAlign.center],children:[(0,i.tZ)(w.xv,{variant:"subheadDefault",multiline:!0,children:t}),(0,i.tZ)(le.ZP,{href:"/community",text:"Go to Community",colorway:"primary"})]})},Ft=function(e,t,r){var n,i,a=(null===e||void 0===e||null===(n=e.pageInfo)||void 0===n?void 0:n.hasNextPage)||!1,c=l.useCallback((i=o().mark((function n(){var i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===e||void 0===e?void 0:e.pageInfo.hasNextPage){n.next=2;break}return n.abrupt("return");case 2:return i=null===e||void 0===e?void 0:e.pageInfo.nextCursor,n.next=5,r({variables:{username:t,after:i,count:20}});case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,n){var o=i.apply(e,t);function l(e){Dt(o,r,n,l,a,"next",e)}function a(e){Dt(o,r,n,l,a,"throw",e)}l(void 0)}))}),[e,r,t]);return{hasMore:a,ref:(0,Xt.Z)(c),loadMore:c}},Ht=function(e){var t,r,n,o=e.username,l=(0,p.wgC)({variables:{username:o,count:20},notifyOnNetworkStatusChange:!0}),a=l.data,c=l.loading,u=l.error,s=l.fetchMore,d=Ft(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.followers,o,s),f=d.hasMore,h=d.ref,m=d.loadMore;if(u)return(0,i.BX)(w.G7,{children:[(0,i.tZ)(w.xv,{children:"An error has occurred."}),(0,i.tZ)(w.xv,{children:u.message})]});if(!c&&0===(null===a||void 0===a||null===(r=a.user)||void 0===r?void 0:r.followers.items.length)){var v,b,g=(null===a||void 0===a||null===(v=a.currentUser)||void 0===v?void 0:v.id)===(null===a||void 0===a||null===(b=a.user)||void 0===b?void 0:b.id)?"No followers yet. Get others to follow you by engaging with them in Community!":"Nothing to see here. Check out what's new in Community!";return(0,i.tZ)(Yt,{text:g})}return(0,i.BX)(w.G7,{tag:"ul","aria-busy":c,css:w.l0.colWithGap(16),children:[a&&(null===(n=a.user)||void 0===n?void 0:n.followers.items.map((function(e){return(0,i.tZ)(Nt,{user:e,currentUser:a.currentUser},e.id)}))),c&&(0,i.tZ)(Vt,{}),f&&!c&&(0,i.tZ)(w.zx,{text:"Load more",ref:h,onClick:m})]})},$t=function(e){var t,r,n,o=e.username,l=(0,p.j$H)({variables:{username:o,count:20},notifyOnNetworkStatusChange:!0}),a=l.data,c=l.loading,u=l.error,s=l.fetchMore,d=Ft(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.follows,o,s),f=d.hasMore,h=d.ref,m=d.loadMore;if(u)return(0,i.BX)(w.G7,{children:[(0,i.tZ)(w.xv,{children:"An error has occurred."}),(0,i.tZ)(w.xv,{children:u.message})]});if(!c&&0===(null===a||void 0===a||null===(r=a.user)||void 0===r?void 0:r.follows.items.length)){var v,b,g=(null===a||void 0===a||null===(v=a.currentUser)||void 0===v?void 0:v.id)===(null===a||void 0===a||null===(b=a.user)||void 0===b?void 0:b.id)?"You aren\u2019t following anyone yet. Check out the cool creators in Community!":"".concat(o," hasn\u2019t followed anyone yet.");return(0,i.tZ)(Yt,{text:g})}return(0,i.BX)(w.G7,{tag:"ul","aria-busy":c,children:[a&&(null===(n=a.user)||void 0===n?void 0:n.follows.items.map((function(e){return(0,i.tZ)(Nt,{user:e,currentUser:a.currentUser},e.id)}))),c&&(0,i.tZ)(Vt,{}),f&&!c&&(0,i.tZ)(w.zx,{text:"Load more",ref:h,onClick:m})]})},qt=function(e){var t=e.username,r=e.initialTab,n=void 0===r?"following":r;return(0,i.tZ)(Rt.mQ,{defaultIndex:"followers"===n?0:1,css:w.l0.p(16),children:function(e){var r=e.selectedIndex;return(0,i.BX)(i.HY,{children:[(0,i.BX)(Rt.td,{css:[w.l0.rowWithGap(24)],children:[(0,i.tZ)(Rt.OK,{css:w.d$,children:(0,i.tZ)(Gt,{active:0===r,children:"Followers"})}),(0,i.tZ)(Rt.OK,{css:w.d$,children:(0,i.tZ)(Gt,{active:1===r,children:"Following"})})]}),(0,i.BX)(Rt.nP,{css:[w.l0.mt(16)],children:[(0,i.tZ)(Rt.x4,{children:(0,i.tZ)(Ht,{username:t})}),(0,i.tZ)(Rt.x4,{children:(0,i.tZ)($t,{username:t})})]})]})}})},Kt=r(37424),Jt=r(31724),Qt=r(82160),er=r(89957),tr=r(33108),rr=r(99971),nr=/^([A-Za-z0-9_]{1,15})\/?$/g,or=/^(([A-Za-z0-9]+)|-)*\/?$/g,ir=/^([A-Za-z\d](?:[A-Za-z\d]|-(?=[A-Za-z\d])){0,38})\/?$/g,lr=/^https:\/\/(www\.)?youtube\.com(\/(c|channel|user))*\/(([A-Za-z0-9]+)|-)*\/?$/g,ar=/^.{2,32}#[0-9]{4}$/,cr="https://twitter.com/",ur="https://www.linkedin.com/in/",sr="https://github.com/",dr=/\/$/,fr=r(8286);function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){hr(e,t,r[t])}))}return e}function vr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gr=function(e){var t=e.image,r=e.hasPrivacyRole,n=(0,tt.Z)(),o=n.showError,l=n.showConfirm,a=br((0,p.WPz)({onCompleted:function(){return l("Updated profile image")},onError:function(e){return o(e.message)}}),1)[0];return(0,i.tZ)(h.Z,{css:[hr({width:80},(0,P.et)("tabletMax"),{width:160})],children:(0,i.tZ)(Jt.Z,{currentUser:{image:t,hasPrivacyRole:r},onChange:function(e){var t=e.imageId;return a({variables:{imageId:t}})}})})},yr=function(e){var t=e.label,r=e.multiline,n=void 0!==r&&r,o=vr(e,["label","multiline"]),l=(0,Kt.H)()(t);return n?(0,i.BX)(h.Z,{css:[m.l0.colWithGap(8)],children:[(0,i.tZ)("label",{htmlFor:l,children:t}),(0,i.tZ)(er.B,mr({id:l},o))]}):(0,i.BX)(h.Z,{css:[m.l0.colWithGap(8)],children:[(0,i.tZ)("label",{htmlFor:l,children:t}),(0,i.tZ)(er.ZP,mr({id:l},o))]})},Zr=function(e){var t,r,n=e.onUpdate,o=e.onRequestClose,a=(0,tt.Z)().showConfirm,c=(0,tr.Y)("",(function(){return null})),u=(0,tr.Y)("",(function(){return null})),s=(0,tr.Y)("",(function(e){return(null===e||void 0===e?void 0:e.length)>140?{message:"Maximum length 140 characters"}:null})),d=(0,tr.Y)(void 0,(function(e){if(e&&!nr.test(e.replace(cr,"")))return{message:'Profile must be a valid Twitter username or URL ("username" or "https://twitter.com/username")'}})),f=(0,tr.Y)(void 0,(function(e){if(e&&!or.test(e.replace(ur,"")))return{message:'Profile must be a valid Linkedin username or URL ("username" or "https://linkedin.com/in/username")'}})),v=(0,tr.Y)(void 0,(function(e){if(e&&!ir.test(e.replace(sr,"")))return{message:'Profile must be a valid GitHub username or URL ("username" or "https://github.com/username")'}})),b=(0,tr.Y)(void 0,(function(e){if(e&&!lr.test(e))return{message:"Profile URL must match https://www.youtube.com/c/id or https://www.youtube.com/channel/id"}})),g=(0,tr.Y)(void 0,(function(e){if(e&&!ar.test(e))return{message:"Discord username must match username#number"}})),Z=(0,tr.Y)(void 0,(function(){return null})),w=(0,p.t2E)(),x=w.data,k=w.error,S=w.loading,O=br((0,p.J6S)({onCompleted:function(e){var t;"CurrentUser"===e.setUserSocials.__typename&&"CurrentUser"===(null===(t=e.updateCurrentUser)||void 0===t?void 0:t.__typename)&&(a("Updated profile"),n(),o())}}),2),j=O[0],C=O[1];l.useEffect((function(){var e,t,r,n,o,i,l,a,p,h,m;"CurrentUser"===(null===x||void 0===x||null===(e=x.currentUser)||void 0===e?void 0:e.__typename)&&(c.setValue(x.currentUser.firstName||""),u.setValue(x.currentUser.lastName||""),s.setValue(x.currentUser.bio||""),d.setValue(null===(t=x.currentUser.socials.find((function(e){return"twitter"===e.type})))||void 0===t||null===(r=t.url)||void 0===r?void 0:r.replace(cr,"").replace(dr,"")),v.setValue(null===(n=x.currentUser.socials.find((function(e){return"github"===e.type})))||void 0===n||null===(o=n.url)||void 0===o?void 0:o.replace(sr,"").replace(dr,"")),f.setValue(null===(i=x.currentUser.socials.find((function(e){return"linkedin"===e.type})))||void 0===i||null===(l=i.url)||void 0===l?void 0:l.replace(ur,"").replace(dr,"")),b.setValue(null===(a=x.currentUser.socials.find((function(e){return"youtube"===e.type})))||void 0===a||null===(p=a.url)||void 0===p?void 0:p.replace(dr,"")),g.setValue(null===(h=x.currentUser.socials.find((function(e){return"discord"===e.type})))||void 0===h?void 0:h.url),Z.setValue(null===(m=x.currentUser.socials.find((function(e){return"website"===e.type})))||void 0===m?void 0:m.url))}),[null===x||void 0===x?void 0:x.currentUser]);var P=l.useCallback((function(){j({variables:{userInfoInput:{firstName:c.value,lastName:u.value,bio:s.value},socialInput:{socials:[{type:p.bkE.Twitter,url:d.value||void 0},{type:p.bkE.Github,url:v.value||void 0},{type:p.bkE.Linkedin,url:f.value||void 0},{type:p.bkE.Youtube,url:b.value||void 0},{type:p.bkE.Discord,url:g.value||void 0},{type:p.bkE.Website,url:Z.value||void 0}]}}})}),[c.value,u.value,s.value,Z.value,g.value,b.value,f.value,d.value,v.value]),A=x&&"CurrentUser"===(null===(t=x.currentUser)||void 0===t?void 0:t.__typename)&&x.currentUser;return A&&A.hasPrivacyRole?(0,i.tZ)(h.Z,{css:m.l0.align.center,children:(0,i.tZ)(B.x,{children:"You can\u2019t edit your profile settings since you are an education user."})}):(0,i.tZ)(h.Z,{children:S?(0,i.tZ)(h.Z,{css:m.l0.align.center,children:(0,i.tZ)(Qt.Z,{})}):k?(0,i.tZ)(h.Z,{css:m.l0.align.center,children:(0,i.BX)(B.x,{children:["Something went wrong. Please"," ",(0,i.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"contact support"})]})}):A?(0,i.tZ)("form",{onSubmit:function(e){e.preventDefault(),P()},children:(0,i.BX)(h.Z,{css:[m.l0.colWithGap(24)],children:[(0,i.tZ)(B.h,{level:1,variant:"headerDefault",children:"Edit Profile"}),(0,i.tZ)(yr,{label:"First name",value:c.value,onChange:function(e){return c.setValue(e.target.value)}}),(0,i.tZ)(yr,{label:"Last name",value:u.value,onChange:function(e){return u.setValue(e.target.value)}}),(0,i.tZ)(yr,{label:"Bio",value:s.value,multiline:!0,onChange:function(e){return s.setValue(e.target.value)}}),(0,i.tZ)(rr.Z,{text:"Social Media Links"}),(0,i.tZ)(yr,{label:"Twitter username",value:d.value,onChange:function(e){return d.setValue(e.target.value)}}),(0,i.tZ)(yr,{label:"GitHub username",value:v.value,onChange:function(e){return v.setValue(e.target.value)}}),(0,i.tZ)(yr,{label:"LinkedIn username",value:f.value,onChange:function(e){return f.setValue(e.target.value)}}),(0,i.tZ)(yr,{label:"Discord username",value:g.value,onChange:function(e){return g.setValue(e.target.value)}}),(0,i.tZ)(yr,{label:"YouTube channel",value:b.value,onChange:function(e){return b.setValue(e.target.value)}}),(0,i.tZ)(yr,{label:"Website",value:Z.value,onChange:function(e){return Z.setValue(e.target.value)}}),C.error&&(0,i.tZ)(B.x,{multiline:!0,css:{color:m.TV.redStrongest},children:C.error.message}),C.data&&"UserError"===C.data.setUserSocials.__typename&&(0,i.tZ)(B.x,{multiline:!0,css:{color:m.TV.redStrongest},children:null===(r=C.data.setUserSocials)||void 0===r?void 0:r.message}),(0,i.BX)(h.Z,{css:[m.l0.justify.end,m.l0.rowWithGap(12)],children:[(0,i.tZ)(y.zx,{text:"Cancel",type:"button",disabled:C.loading,onClick:function(e){e.preventDefault(),o()}}),(0,i.tZ)(y.zx,{text:"Save",type:"submit",disabled:C.loading,colorway:"primary",iconLeft:(0,i.tZ)(fr.Z,{})})]})]})}):null})},wr=r(89431);function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Or,jr;!function(e){e.Following="following",e.Followers="followers"}(Or||(Or={})),function(e){e.Report="Report",e.Block="Block"}(jr||(jr={}));var Cr=function(e){var t,r=e.user,n=e.currentUser,o=e.onUpdate,a=(0,wr.Z)("flag-follow-rollout"),c=(0,wr.Z)("flag-follow-rollout-reporting"),u=(null===n||void 0===n?void 0:n.id)===r.id,s=Sr(l.useState(!1),2),d=s[0],f=s[1],h=Sr(l.useState(!1),2),v=h[0],b=h[1],g=Sr(l.useState(!1),2),y=g[0],Z=g[1],x=(0,Kt.H)()("reportingReason"),k=Sr(l.useState(""),2),S=k[0],O=k[1],j=Sr(l.useState(Or.Followers),2),C=j[0],A=j[1],B=(kr(t={display:"grid",rowGap:8,columnGap:12,gridTemplateColumns:"min-content 1fr",gridTemplateAreas:'"photo buttons" "name name"'},(0,P.wS)("tabletMin","tabletMax"),{gridTemplateColumns:"min-content 1fr min-content",gridTemplateAreas:'"photo name buttons"'}),kr(t,(0,P.et)("tabletMax"),{gridTemplateColumns:"1fr",gridTemplateAreas:'"photo" "name" "buttons"',rowGap:16}),t),I={border:"none",fontWeight:m.TV.fontWeightMedium,padding:0,height:"auto",":not([disabled]):hover":{backgroundColor:"transparent"}," span":{lineHeight:m.TV.lineHeightDefault}},E=Sr(l.useState("Copy profile link"),2),R=E[0],U=E[1],X=Sr(l.useState(r.isBlockedByCurrentUser),2),T=X[0],_=X[1],z={label:jr.Report,icon:(0,i.tZ)(Pt.Z,{}),isDestructive:!0},G={label:jr.Block,icon:(0,i.tZ)(At.Z,{}),isDestructive:!0},W=[];a&&!T?W=c?[z,G]:[G]:a&&T&&(W=c?[z]:[]);var D,L,M,N=(0,tt.Z)(),Y=N.showError,F=N.showConfirm,H=Sr((0,p.Aps)({onCompleted:function(e){var t,r;"NotFoundError"!==(null===(t=e.setBlocking)||void 0===t?void 0:t.__typename)&&"UnauthorizedError"!==(null===(r=e.setBlocking)||void 0===r?void 0:r.__typename)||Y(e.setBlocking.message)},onError:function(e){Y(e.message)}}),1),$=H[0],q=Sr((0,p.cJf)({onCompleted:function(e){var t;(null===(t=e.createBoardReport.reportedUser)||void 0===t?void 0:t.id)===r.id&&F("User reported")},onError:function(e){Y(e.message)}}),1),K=q[0];return(0,i.BX)(w.G7,{css:[m.l0.colWithGap(8),{userSelect:"none"},kr({},(0,P.et)("tabletMax"),[m.l0.colWithGap(16),{width:328}])],children:[u&&!r.hasPrivacyRole&&(0,i.tZ)(w.u_,{isOpen:d,onRequestClose:function(){return f(!1)},maxWidth:512,children:(0,i.tZ)(Zr,{onUpdate:o,onRequestClose:function(){return f(!1)}})}),(0,i.BX)("div",{css:B,children:[(0,i.tZ)(w.G7,{css:kr({gridArea:"photo",width:80},(0,P.et)("tabletMax"),{width:160}),children:u?(0,i.tZ)(gr,{image:r.image,hasPrivacyRole:r.hasPrivacyRole}):(0,i.tZ)(gt.Z,{size:"inherit",url:r.image})}),(0,i.BX)(w.G7,{css:[m.l0.pt(0),kr({gridArea:"name"},(0,P.wS)("tabletMin","tabletMax"),[m.l0.pt(24)])],children:[(0,i.BX)(w.G7,{css:[m.l0.flex.row,m.l0.flex.wrap,m.l0.align.start,m.l0.pb(4),kr({},(0,P.et)("tabletMax"),[m.l0.pb(8)])],children:[(0,i.tZ)(w.h4,{level:1,css:[m.l0.mr(8),m.l0.mt(4),kr({fontSize:m.TV.fontSizeSubheadBig,fontWeight:m.TV.fontWeightMedium,lineHeight:m.TV.lineHeightSubheadBig,userSelect:"text",width:"100%",maxWidth:"max-content"},(0,P.et)("tabletMax"),{maxWidth:"min(max-content, 328px)",marginTop:0,fontSize:m.TV.fontSizeHeaderBig,fontWeight:m.TV.fontWeightMedium,lineHeight:m.TV.lineHeightHeaderBig})],children:r.fullName||r.username}),(0,i.BX)(w.G7,{css:[m.l0.rowWithGap(8),m.l0.pt(8)],children:[r.isHacker&&(0,i.tZ)(jt,{name:"hacker",role:"hacker"}),r.roles.map((function(e){return(0,i.tZ)(jt,{role:e.key,name:e.name,tagline:e.tagline||void 0},e.id)}))]})]}),(0,i.BX)(w.xv,{color:"dimmer",css:{userSelect:"text"},children:["@",r.username]})]}),(0,i.BX)(w.G7,{css:[m.l0.align.start,m.l0.pt(32),m.l0.flex.rowReverse,{gridArea:"buttons",gap:8},kr({},(0,P.et)("tabletMax"),[m.l0.pt(0),m.l0.flex.row])],children:[r.isLoggedIn&&!r.hasPrivacyRole&&(0,i.tZ)(w.zx,{iconLeft:(0,i.tZ)(V.Z,{}),text:"Edit",onClick:function(){return f(!0)}}),a&&!u&&!T&&!r.isBlockingCurrentUser&&(0,i.tZ)(Et.Z,{user:r}),!u&&T&&(0,i.tZ)(w.ZE,{label:"Blocked","aria-label":"Update blocked status",cssProps:[m.l0.backgroundColor.accentNegativeDimmer,m.l0.color.accentNegativeStrongest,m.l0.transition.snappy,{":not([disabled]):hover":{border:m.TV.accentNegativeStronger+" 1px solid"}}],icon:(0,i.tZ)(At.Z,{}),onAction:function(){$({variables:{input:{targetUserId:r.id,shouldBlock:!1}}}),_(!1)},children:(0,i.tZ)(w.ck,{children:(0,i.BX)(w.G7,{css:m.l0.rowWithGap(8),children:[(0,i.tZ)(Bt.Z,{}),(0,i.tZ)(w.xv,{children:"Unblock"})]})},"option")}),!r.isBlockingCurrentUser&&(0,i.tZ)(w.zx,{iconLeft:(0,i.tZ)(It.Z,{}),text:R,onClick:function(){(0,re.Z)(window.location.href),U("Copied!"),setTimeout((function(){U("Copy profile link")}),1e3)},css:[m.l0.display.none,{"@media screen and (min-width: 420px)":[m.l0.display.flex]}]}),!u&&a&&W.length>0&&(0,i.tZ)(Ct.Z,{orientation:"horizontal",items:W,onItemClick:function(e){e.label===jr.Block&&($({variables:{input:{targetUserId:r.id,shouldBlock:!0}}}),_(!0)),e.label===jr.Report&&Z(!0)}})]})]}),a&&!r.isBlockingCurrentUser&&(0,i.BX)(w.G7,{css:m.l0.rowWithGap(12),children:[(0,i.tZ)(w.zx,{outlined:!0,css:I,onClick:function(){A(Or.Followers),b(!0)},text:(D=r.followerCount,L="follower",M="followers",1===D?"".concat(D," ").concat(L):"".concat(D," ").concat(M))}),(0,i.tZ)(w.zx,{outlined:!0,css:I,onClick:function(){A(Or.Following),b(!0)},text:"".concat(r.followCount," following")})]}),r.bio&&(0,i.tZ)(w.G7,{css:{userSelect:"text"},children:(0,i.tZ)(w.xv,{multiline:!0,children:(0,i.tZ)(bt.ZP,{properties:{rel:"nofollow"},children:r.bio})})}),a&&(0,i.tZ)(w.u_,{isOpen:v,onRequestClose:function(){return b(!1)},children:r.username&&(0,i.tZ)(qt,{initialTab:C,username:r.username})}),c&&(0,i.tZ)(w.u_,{isOpen:y,onRequestClose:function(){return Z(!1)},elevation:"higher",children:(0,i.BX)(w.G7,{css:[m.l0.colWithGap(8),m.l0.p(8)],children:[(0,i.tZ)(w.G7,{css:[m.l0.pl(8),m.l0.pr(8)],children:(0,i.tZ)(w.h4,{level:2,variant:"headerDefault",children:"Report user"})}),(0,i.tZ)(w.G7,{css:[m.l0.p(8)],children:(0,i.tZ)(w.II,{id:x,onChange:function(e){O(e.currentTarget.value)},placeholder:"Why do you want to report ".concat(r.username,"?")})}),(0,i.tZ)(w.G7,{css:[m.l0.align.end,m.l0.p(8)],children:(0,i.tZ)(w.zx,{text:"Report",colorway:"negative",iconLeft:(0,i.tZ)(Pt.Z,{}),onClick:function(){K({variables:{reportedUserId:r.id,reason:S}}),Z(!1)}})})]})})]})},Pr=r(43907);function Ar(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ar(e,t,r[t])}))}return e}var Ir=["community","warnings"],Er=function(e,t){return(0,Pr.Z)(e,{tab:t})},Rr=function(e){var t=e.currentTab,r=e.currentUser,n=(0,c.useRouter)(),o="firewalledreplit.com"===(null===window||void 0===window?void 0:window.location.hostname);return(0,i.BX)(h.Z,{css:[m.l0.rowWithGap(24),m.l0.pl(16)],children:[(0,i.tZ)(Wt,Br({active:!t},Er(n),{children:"Repls"})),o||(null===r||void 0===r?void 0:r.isStudent)?null:(0,i.tZ)(Wt,Br({active:"community"===t},Er(n,"community"),{children:"Community"})),(null===r||void 0===r?void 0:r.isModerator)||(null===r||void 0===r?void 0:r.isAdmin)?(0,i.tZ)(Wt,Br({active:"warnings"===t},Er(n,"warnings"),{children:"Warnings"})):null]})},Ur=r(38696),Xr=r(79547),Tr=r.n(Xr),_r=r(61766),zr=r(58458),Gr={styles:(0,i.tZ)(Tr(),{id:"7b374cb2f56b87b1",children:".card.jsx-7b374cb2f56b87b1{position:relative;border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);background:var(--background-default)}"}),className:"jsx-7b374cb2f56b87b1"},Wr=Gr.className,Dr=Gr.styles,Lr=((0,i.tZ)(Tr(),{id:"e4513650184e0548",children:".h1.jsx-e4513650184e0548{font-size:var(--font-size-header-big)}.h2.jsx-e4513650184e0548{font-size:var(--font-size-header-default)}"}),r(22272));function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vr=(0,Ge.iv)([m.l0.py(16),m.l0.px(24)]),Yr=(0,Ge.iv)([m.l0.my(8),{display:"block"}]),Fr=function(e){var t,r,n=e.warning,o=e.username,l=e.onDelete,a=(0,tt.Z)(),c=a.showError,u=a.showConfirm,s=Nr((0,p.bwb)({variables:{username:o,warnId:n.id},onCompleted:function(e){var t=e.removeWarn;"UserError"===t.__typename?c(t.message):"Warning"===t.__typename&&(u("Warning with ID ".concat(t.id," has been deleted.")),l())}}),2),d=s[0],f=s[1].loading;return(0,i.tZ)("div",{css:[m.l0.py(16)],children:(0,i.BX)("div",{className:at()(Wr,"card"),css:Vr,children:[(0,i.BX)("div",{css:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.BX)(B.x,{variant:"headerDefault",children:["Warning #",n.id]}),(0,i.tZ)(y.zx,{iconLeft:(0,i.tZ)(z.Z,{}),css:[m.l0.ml(16)],colorway:"negative",text:"Delete",disabled:f,onClick:function(){return d()},outlined:!0,big:!0})]}),(0,i.BX)(B.x,{variant:"subheadDefault",css:Yr,children:["REASON:"," ",(0,i.tZ)("span",{css:[{fontWeight:"normal"},m.l0.ml(8)],children:n.reason})]}),(0,i.BX)("div",{children:["Warned by"," ",n.moderator?(0,i.BX)("a",{target:"_blank",href:"/@"+(null===(t=n.moderator)||void 0===t?void 0:t.username),children:["@",null===(r=n.moderator)||void 0===r?void 0:r.username]}):"(deleted user)"]}),(0,i.tZ)(Lr.Z,{css:[m.l0.ml(8)],date:n.timeCreated}),Dr]})})},Hr=function(e){var t=e,r=(0,p.Ut1)({variables:t}),n=r.data,o=r.loading,l=r.error,a=r.refetch;if(o)return(0,i.tZ)(_r.Z,{});if(l)return(0,i.tZ)(zr.Z,{children:"error.message"});if(!n||!n.user)return(0,i.tZ)(zr.Z,{children:'"There seems to be some trouble finding this user\u2019s warnings."'});var c=n.user.warnings||[];return c.length?(0,i.tZ)("div",{children:c.map((function(t){return t&&(0,i.tZ)(Fr,{warning:t,username:e.username,css:m.l0.mt(16),onDelete:a})}))}):(0,i.BX)("div",{className:"jsx-55a1ee8ada7ce880 profile-no-repls",children:[(0,i.BX)(zr.Z,{fontWeight:"medium",size:"xlarge",children:[n.user.displayName," has never been warned yet."]}),(0,i.tZ)(Tr(),{id:"55a1ee8ada7ce880",children:".profile-no-repls.jsx-55a1ee8ada7ce880{margin-left:auto;margin-right:auto;padding-top:var(--deprecated-spacing-4);text-align:center}"})]})},$r=r(46029),qr=r(96175),Kr=(r(41595),r(32537)),Jr=r(84409),Qr=r(44054);function en(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){en(e,t,r[t])}))}return e}var rn={mobileMax:"@media (min-width: ".concat(Qr.j.mobileMax,"px)")},nn=(0,h.K)("time"),on=(0,h.K)("a"),ln=(0,Ge.iv)([m.l0.color.foregroundDefault,m.l0.flex.growAndShrink(1),{fontSize:m.TV.fontSizeHeaderDefault,fontWeight:m.TV.fontWeightMedium,textDecoration:"none","::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1},":focus":{"::after":{outline:"2px solid",outlineColor:m.TV.accentPrimaryDefault}}},m.l0.focusRing]),an=function(e){var t=e.repl,r=(0,c.useRouter)(),n=(0,Te.F)(t.timeCreated);return(0,i.BX)(h.Z,{css:[m.l0.py(16),m.l0.px(24),m.l0.minHeight(96),m.l0.rowWithGap(8),m.l0.align.center,m.l0.justify.spaceBetween,m.l0.position.relative,{":hover":{backgroundColor:m.TV.backgroundHigher}}],children:[(0,i.BX)(h.Z,{css:[m.l0.colWithGap(4),m.l0.flex.shrink(1),en({},rn.mobileMax,m.l0.width("60%"))],children:[(0,i.BX)(h.Z,{css:[m.l0.rowWithGap(8),m.l0.flex.growAndShrink(1)],children:[(0,i.tZ)(rt.Z,{alt:t.templateInfo.label,iconUrl:t.templateInfo.iconUrl}),(0,i.tZ)(de(),tn({},(0,X.j3)(t),{passHref:!0,children:(0,i.tZ)(on,{css:ln,onClick:function(e){!t.isOwner&&t.pinnedToProfile&&(0,Z.j)(Z.U3.PINNED_REPL_VISITED,{replId:t.id}),(0,Z.j)(Z.U3.PROFILE_REPL_CLICKED,{replId:t.id,isOwner:t.isOwner}),window.innerWidth<1080||function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||(e.preventDefault(),r.push({pathname:r.pathname,query:tn({},r.query,{dialogReplId:t.id})},t.url+"?v=1",{shallow:!0}))},children:(0,i.tZ)(B.x,{variant:"headerDefault",children:t.title})})}))]}),t.description?(0,i.tZ)(B.x,{multiline:!0,color:"dimmer",css:(0,Ge.iv)({fontWeight:m.TV.fontWeightMedium}),children:t.description}):null]}),(0,i.BX)(h.Z,{css:[m.l0.rowWithGap(8),m.l0.align.center,en({display:"none"},rn.mobileMax,[m.l0.rowWithGap(8),m.l0.flex.row,m.l0.flex.wrap])],children:[(0,i.tZ)(nn,{css:(0,Ge.iv)({color:m.TV.foregroundDimmest,fontWeight:m.TV.fontWeightMedium}),dateTime:t.timeCreated,children:n}),(0,i.tZ)(h.Z,{tag:"ul",css:[m.l0.flex.row,m.l0.flex.rowReverse,m.l0.width(112),{listStyleType:"none"}],children:t.multiplayers.slice(0,5).map((function(e,t){return(0,i.tZ)(h.Z,{tag:"li",css:t>0&&{marginRight:-12,zIndex:t},children:(0,i.tZ)(Jr.Z,{size:32,username:e.username,src:e.image})},e.username)}))})]})]})},cn=r(57541);function un(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var dn=(0,l.forwardRef)((function(e,t){var r=e.onChange,n=sn(e,["onChange"]),o=(0,_e.Z)(r),a=(0,l.useMemo)((function(){return(0,Kr.Z)((function(e){var t;return null===(t=o.current)||void 0===t?void 0:t.call(o,e)}),500,{leading:!1,trailing:!0})}),[o]);return(0,i.tZ)(cn.ZP,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){un(e,t,r[t])}))}return e}({ref:t,onChange:a},n))})),fn=function(e){var t,r,n,o=e.user,a=(0,l.useState)(""),c=a[0],u=a[1],s=(0,p.bAM)({ssr:!1,variables:{username:o.username,search:c}}),d=s.data,f=s.loading,v=s.error,b=s.fetchMore;if(v)return(0,i.tZ)(h.Z,{css:[m.l0.center,m.l0.p(32)],children:(0,i.tZ)(B.x,{children:"Error loading repls"})});var g=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.profileRepls.items,Z=null===d||void 0===d||null===(r=d.user)||void 0===r||null===(n=r.profileRepls)||void 0===n?void 0:n.pageInfo;return""===c&&0===(null===g||void 0===g?void 0:g.length)?(0,i.tZ)(h.Z,{css:[m.l0.center,m.l0.p(32)],children:(0,i.BX)(B.x,{variant:"subheadBig",children:[o.fullName||o.username," has no repls yet \ud83d\ude1e"]})}):(0,i.BX)(h.Z,{css:[m.l0.colWithGap(16)],children:[(0,i.BX)(h.Z,{css:[m.l0.rowWithGap(8),m.l0.justify.spaceBetween],children:[(0,i.tZ)(B.x,{variant:"headerBig",children:"All repls"}),(0,i.tZ)("form",{onSubmit:function(e){e.preventDefault()},children:(0,i.tZ)(dn,{placeholder:"search in repls...",defaultValue:"",onChange:function(e){return u(e.target.value)}})})]}),(0,i.tZ)(A.Z,{elevated:!0,css:[m.l0.borderRadius(8),{border:"1px solid "+m.TV.outlineDimmest}],children:null==g||null==Z?(0,i.tZ)(he.Z,{style:{margin:"40px auto"}}):0===g.length?(0,i.tZ)(h.Z,{css:[m.l0.center,m.l0.p(32)],children:(0,i.BX)(B.x,{variant:"subheadDefault",children:['No repls found for "',c,'"']})}):(0,i.BX)(i.HY,{children:[(0,i.tZ)(h.Z,{tag:"ul",css:{listStyle:"none"},children:g.map((function(e){return(0,i.tZ)(h.Z,{tag:"li",children:(0,i.tZ)(an,{repl:e})},e.id)}))}),Z.hasNextPage&&(0,i.tZ)(h.Z,{css:[m.l0.center,m.l0.p(32)],children:(0,i.tZ)(y.zx,{onClick:function(e){e.preventDefault(),f||b({variables:{username:o.username,after:Z.nextCursor,search:c}})},text:"View more"})})]})})]})},pn=r(15853),hn=r(55435),mn=r(4590);function vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){vn(e,t,r[t])}))}return e}var gn=(0,Ge.F4)("\n  from {transform: rotate(0deg);}\n  to {transform: rotate(5deg);}\n"),yn=(0,Ge.F4)("\n  0% {transform: rotate(0deg) translateX(clamp(45px, 10vw, 70px)) rotate(0deg) rotate(20deg);}\n  25% {transform: rotate(90deg) translateX(clamp(45px, 10vw, 70px)) rotate(-90deg) rotate(-20deg); }\n  50% {transform: rotate(180deg) translateX(clamp(45px, 10vw, 70px)) rotate(-180deg) rotate(20deg); }\n  75% {transform: rotate(270deg) translateX(clamp(45px, 10vw, 70px)) rotate(-270deg) rotate(-20deg); }\n  100% {transform: rotate(360deg) translateX(clamp(45px, 10vw, 70px)) rotate(-360deg) rotate(20deg); }\n"),Zn=" 7s linear infinite",wn=function(e){var t=e.isOwnProfile;return(0,i.BX)(h.Z,{css:[m.l0.align.center,m.l0.colWithGap(64),m.l0.pt(32),m.l0.zIndex(2),vn({},(0,P.EM)("tabletMin"),bn({},m.l0.p(4),m.l0.colWithGap(32)))],children:[(0,i.BX)("div",{css:[m.l0.width("100%"),m.l0.maxWidth(436),m.l0.position.relative,{aspectRatio:"2.18 / 1"}],children:[(0,i.tZ)("img",{src:"/public/images/profile/wizard-cat.svg",alt:"a drawing of a cat wearing a lab coat and holding a wizard\u2019s wand",css:{position:"absolute",width:"46%",bottom:0,left:0,transformOrigin:"25% 100%",animation:gn+" "+7/6+"s alternate infinite ease-out"}}),(0,i.tZ)("img",{src:"/public/images/profile/monitor.svg",alt:"a drawing of a monitor",css:{position:"absolute",width:"19%",top:44,right:56,animation:yn+Zn}}),(0,i.tZ)("img",{src:"/public/images/profile/phone.svg",alt:"a drawing of a phone",css:{position:"absolute",width:"11%",top:51,right:68,animation:yn+Zn,animationDelay:-7/3+"s"}}),(0,i.tZ)("img",{src:"/public/images/profile/coffee.svg",alt:"a drawing of a cup of coffee",css:{position:"absolute",width:"16%",top:56,right:64,animation:yn+Zn,animationDelay:-14/3+"s"}})]}),(0,i.BX)(h.Z,{css:[m.l0.colWithGap(24),m.l0.align.center,m.l0.textAlign.center],children:[(0,i.tZ)(B.x,{variant:"subheadBig",multiline:!0,children:t?"This is where your Repls would go... if you had any!":"This person does not have any Repls yet!"}),t?(0,i.tZ)(h.Z,{css:{boxShadow:"0 0 16px rgba(87, 171, 255, 0.5)",borderRadius:8},children:(0,i.tZ)(hn.Z,{trackingContext:"profile",children:(0,i.tZ)(y.ZP,{text:"Create your first Repl",colorway:"primary",iconLeft:(0,i.tZ)(I.Z,{})})})}):(0,i.tZ)(i.HY,{children:(0,i.tZ)(le.Co,{iconLeft:(0,i.tZ)(mn.Z,{}),colorway:"primary",text:"Invite them to a Repl",href:"/~"})})]})]})},xn=r(77982),kn=r(62246),Sn=r(59488),On=r(10751),jn=r(47836);function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||Bn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e){return function(e){if(Array.isArray(e))return Cn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){if(e){if("string"===typeof e)return Cn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cn(e,t):void 0}}var In=function(e){switch(e){case p.bkE.Twitter:return(0,i.tZ)(xn.Z,{});case p.bkE.Discord:return(0,i.tZ)(jn.Z,{});case p.bkE.Github:return(0,i.tZ)(kn.Z,{});case p.bkE.Linkedin:return(0,i.tZ)(Sn.Z,{});case p.bkE.Youtube:return(0,i.tZ)(On.Z,{});case p.bkE.Website:return(0,i.tZ)(It.Z,{})}},En=[m.l0.mb(8),m.l0.p(4),m.l0.height("inherit"),m.l0.borderRadius(4),m.l0.backgroundColor.backgroundRoot,m.l0.color.foregroundDimmer,{border:"none","&:hover":{color:m.TV.foregroundDefault}}],Rn=function(e){var t,r,n,o=e.user,a=Pn(l.useState(!1),2),c=a[0],u=a[1];return o&&o.socials.length?(0,i.tZ)(h.Z,{css:[m.l0.rowWithGap(16),m.l0.flex.wrap,m.l0.justify.start,m.l0.align.start,(t={userSelect:"none"},r=(0,P.et)("tabletMax"),n={maxWidth:328},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)],children:o.socials.map((function(e){return"discord"===e.type?(0,i.tZ)(te.ZP,{isOpen:c,tooltip:"".concat(e.url," copied to clipboard"),placement:"bottom-end",children:(0,i.tZ)(y.ZP,{iconLeft:In(e.type),text:e.url,css:En,onClick:function(){(0,re.Z)(e.url),u(!0),setTimeout((function(){return u(!1)}),4e3)}},e.type)}):(0,i.tZ)(le.Co,{iconLeft:In(e.type),href:e.url,target:"_blank",text:e.type,css:An(En).concat([{textTransform:"capitalize"}])},e.type)}))}):null},Un=r(52620),Xn=r(79744),Tn=r(14011),_n=r(88353),zn=r(38956),Gn=r(72829),Wn=r(45309);function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mn=[["#C83625","#D7B02D"],["#00C9FF","#92FE9D"],["#0E55E0","#C36CEC"],["#CC4194","#EF967A"]],Nn=function(){var e=Math.floor(Math.random()*Mn.length);return"linear-gradient(to right, ".concat(Mn[e][0],", ").concat(Mn[e][1],")")}(),Vn=function(e){return"touches"in e},Yn=function(e){var t=e.hasImage,r=e.onClick,n=[(0,i.tZ)(L.ck,{children:(0,i.BX)(h.Z,{css:[m.l0.flex.row,m.l0.rowWithGap(8),{width:200}],children:[(0,i.tZ)(Un.Z,{}),(0,i.tZ)(B.x,{children:"Upload banner image"})]})},"upload")];return t&&n.push((0,i.tZ)(L.ck,{children:(0,i.BX)(h.Z,{css:[m.l0.flex.row,m.l0.rowWithGap(8),{width:200}],children:[(0,i.tZ)(Tn.Z,{}),(0,i.tZ)(B.x,{children:"Position banner image"})]})},"position"),(0,i.tZ)(L.ck,{children:(0,i.BX)(h.Z,{css:[m.l0.flex.row,m.l0.rowWithGap(8),{width:200}],children:[(0,i.tZ)(z.Z,{}),(0,i.tZ)(B.x,{children:"Remove banner image"})]})},"remove")),(0,i.tZ)(L.ZE,{"aria-label":"update banner image",icon:(0,i.tZ)(_n.Z,{}),onAction:function(e){return r(e)},children:n})},Fn=function(e){var t,r,n=e.username,o=e.isOwnProfile,a=(0,tt.Z)(),c=a.showError,u=a.showConfirm,s=function(e,t){var r=function(){c(n(o))},n=function(e){return window.matchMedia(e).matches},o="(".concat(e,"-width: ").concat(Qr.j[t],"px)"),i=(0,l.useState)(n(o)),a=i[0],c=i[1];return(0,l.useEffect)((function(){var e=window.matchMedia(o);return r(),e.addListener?e.addListener(r):e.addEventListener("change",r),function(){e.removeListener?e.removeListener(r):e.removeEventListener("change",r)}}),[o]),a}("min","tabletMax"),d=s?200:120,f=(0,p.YF_)({variables:{username:n},onCompleted:function(e){var t=e.user;(null===t||void 0===t?void 0:t.coverImage)&&(k(t.coverImage.url),A(t.coverImage.offsetY))}}).data,v=Ln((0,p.jVI)({onCompleted:function(e){var t=e.setUserCoverImage;"CurrentUser"===t.__typename&&(t.coverImage?(k(t.coverImage.url),A(t.coverImage.offsetY)):(k(void 0),A(0))),u("Updated cover image")},onError:function(e){return c(e.message)}}),1)[0],b="User"===(null===f||void 0===f||null===(t=f.user)||void 0===t?void 0:t.__typename)&&f.user,g="User"===(null===f||void 0===f||null===(r=f.user)||void 0===r?void 0:r.__typename)&&f.user.coverImage,Z=(0,zn.Z)({onUpload:function(e){var t=e.id,r=e.url;b&&v({variables:{input:{imageId:t,offsetY:0}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:b.id,coverImage:{url:r,offsetY:0}}}})},onUploadPreview:function(e){var t=e.dataUrl;return k(t)},onError:function(e){return c(e.message)}}),w=Ln(l.useState(),2),x=w[0],k=w[1],S=Ln(l.useState(0),2),O=S[0],j=S[1],C=Ln(l.useState(0),2),P=C[0],A=C[1],B=Ln(l.useState(0),2),I=B[0],E=B[1],R=Ln(l.useState(0),2),U=R[0],X=R[1],T=Ln(l.useState(!1),2),_=T[0],z=T[1],G=l.useRef(null),W=l.useRef(null),D=l.useRef(),L=l.useRef(null),M=(0,ct.Z)((function(){D.current&&j(D.current.naturalHeight)})),N=l.useCallback((function(e){if(null!==e&&0!==e.length){var t=e.find((function(e){return e.type.startsWith("image/")}));t?Z.uploadImage(t,Wn.N.ProfileCoverImage):c("Please select an image file")}}),[Z,c]),V=l.useCallback((function(e){if(e.target===G.current&&null===L.current){e.preventDefault();var t=Vn(e)?e.touches[0].clientY:e.clientY;L.current=t}}),[]),Y=l.useCallback((function(e){if(null!==L.current){e.preventDefault();var t=(Vn(e)?e.touches[0].clientY:e.clientY)-L.current,r=I+t;if(r<=0){if(O&&Math.abs(r)+d>O)return;X(t)}}}),[I,O]),F=l.useCallback((function(e){null!==L.current&&(e.preventDefault(),E(I+U),X(0),L.current=null)}),[I,U]);return l.useEffect((function(){if(G.current&&_){var e=G.current;return e.addEventListener("mousedown",V),e.addEventListener("touchstart",V),window.addEventListener("mousemove",Y),window.addEventListener("mouseup",F),e.addEventListener("touchmove",Y),e.addEventListener("touchend",F),e.addEventListener("touchcancel",F),function(){e&&(e.removeEventListener("mousedown",V),window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",F),e.removeEventListener("touchstart",V),e.removeEventListener("touchmove",Y),e.removeEventListener("touchend",F),e.removeEventListener("touchcancel",F))}}}),[G,_,V,Y,F]),b?(0,i.BX)(h.Z,{css:[{position:"absolute",height:d,width:"100%",userSelect:"none"},f&&!x&&{backgroundImage:Nn}],children:[o&&!b.hasPrivacyRole&&(0,i.BX)(h.Z,{innerRef:G,css:[{position:"absolute",top:0,left:0,width:"100%",height:_?"100%":"auto",cursor:_?"move":"auto",zIndex:10}],children:[(0,i.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:W,accept:Gn.W9.join(","),type:"file",onChange:function(e){var t=e.target,r=t.validity,n=t.files;r.valid&&N(n?Array.from(n):null)}}),(0,i.tZ)(h.Z,{css:[{position:"absolute",top:10,right:10,zIndex:99}],children:Z.isLoading?(0,i.tZ)(h.Z,{css:[{margin:10,width:24,height:24}],children:(0,i.tZ)(he.Z,{})}):_?(0,i.BX)(h.Z,{css:[m.l0.rowWithGap(8)],children:[(0,i.tZ)(y.ZP,{text:"Cancel",onClick:function(e){e.stopPropagation(),E(0),X(0),z(!1)}}),(0,i.tZ)(y.ZP,{text:"Done",onClick:function(e){e.stopPropagation();var t=Math.floor(100*Math.abs(I/O));A(t),z(!1),b&&g&&v({variables:{input:{offsetY:t}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:b.id,coverImage:{url:g.url,offsetY:t}}}})}})]}):(0,i.tZ)(Yn,{hasImage:!!x,onClick:function(e){var t;("remove"===e&&b&&(E(0),X(0),j(0),v({variables:{input:{remove:!0}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:b.id,coverImage:null}}})),"position"===e&&(z(!0),E(-Math.floor(O*(P/100))),X(0)),"upload"===e)&&(null===(t=W.current)||void 0===t||t.click())}})})]}),(0,i.tZ)(h.Z,{tag:"div",innerRef:M,css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}],children:x&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(Xn.Z,{onLoad:function(e){D.current=e.target},onLoadingComplete:function(e){j(e.naturalHeight)},objectFit:"cover",objectPosition:"0 ".concat(_?I+U:O-P/100*O<200?0:-P/100*O,"px"),layout:"fill",src:x,priority:!0,alt:"user-chosen profile cover image"}),(0,i.tZ)(h.Z,{css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.4))",backgroundRepeat:"no-repeat"}]})]})})]}):null},Hn=r(73216),$n=r(43552),qn=r(14646),Kn=r(26535);var Jn={id:"Profile",title:"New Replit Profile",content:function(){return(0,i.tZ)(h.Z,{children:(0,i.BX)("ul",{css:[m.l0.p(16),{listStyle:"disc",lineHeight:2}],children:[(0,i.tZ)("li",{children:"Appear online or offline"}),(0,i.tZ)("li",{children:"Repls are now part of your profile"}),(0,i.tZ)("li",{children:"Set a profile cover image"}),(0,i.tZ)("li",{children:"Add social media links to your profile"}),(0,i.tZ)("li",{children:"Show off Repl comment activity"})]})})}};function Qn(e){var t=e.targetElement,r=(0,$n.Z)("announcement","learn-onboarding"),n=r.finished,o=r.register,a=(0,$n.Z)("announcement","profile2"),c=a.shouldDisplay,u=a.register,s=a.dismiss;return l.useEffect((function(){o()}),[o]),l.useEffect((function(){u()}),[u]),!t||!n||!c?null:(0,i.BX)(i.HY,{children:[(0,i.tZ)(qn.w,{targetElement:t}),(0,i.tZ)(Kn.k,{placement:"bottom-start",targetElement:t,activeStep:Jn,currentStepIndex:0,done:s,goto:function(){},totalSteps:1,disableAnimation:!0})]})}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function to(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return eo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ro=function(e){var t,r,n,o,a,c,u,s,d=e.username,f=(0,p.bUN)({variables:{username:d},pollInterval:12e4}).data,v=(0,tt.Z)().showError,b=l.useRef(null),g=to((0,p.Do3)({onCompleted:function(e){var t,r;"UserError"!==(null===(t=e.updateUserPrivacyPreferences)||void 0===t?void 0:t.__typename)&&"UnauthorizedError"!==(null===(r=e.updateUserPrivacyPreferences)||void 0===r?void 0:r.__typename)||v(e.updateUserPrivacyPreferences.message)},onError:function(e){return v(e.message)}}),1),y=g[0],Z=null!=(null===f||void 0===f?void 0:f.user)&&(null===(t=f.user)||void 0===t?void 0:t.id)===(null===(r=f.currentUser)||void 0===r?void 0:r.id),w=null===(u=null===f||void 0===f||null===(n=f.currentUser)||void 0===n?void 0:n.showPresence)||void 0===u||u,x=l.useCallback((function(){var e;y({variables:{input:{show_presence:w?p.YHs.Never:p.YHs.WhenOnline}},optimisticResponse:{updateUserPrivacyPreferences:{__typename:"CurrentUser",id:(null===f||void 0===f||null===(e=f.currentUser)||void 0===e?void 0:e.id)||0,showPresence:!w}}})}),[null===f||void 0===f||null===(o=f.currentUser)||void 0===o?void 0:o.id,w,y]),k=(0,ut.Z)();if(l.useEffect((function(){return k()}),[k]),!f||(null===(a=f.user)||void 0===a?void 0:a.hasPrivacyRole)||!f.currentUser||!(null===f||void 0===f||null===(c=f.user)||void 0===c?void 0:c.presenceStatus))return null;var S=Z?w:null!==(s=f.user.presenceStatus.isOnline)&&void 0!==s&&s,O=S?m.l0.color.accentPositiveStronger:m.l0.color.foregroundDimmer,j=function(e){return e?"Online":"Offline"},C=!S&&!Z&&null!=f.user.presenceStatus.lastSeen&&"Last online ".concat((0,Te.F)(f.user.presenceStatus.lastSeen));return Z?(0,i.BX)(i.HY,{children:[(0,i.tZ)(h.Z,{css:[m.l0.align.start],children:(0,i.tZ)(L.ZE,{css:{backgroundColor:"transparent"},label:C||j(S),"aria-label":"update online presence",icon:(0,i.tZ)(Hn.SmallCircle,{css:[O]}),onAction:function(){return x()},innerRef:b,children:(0,i.BX)(L.ck,{children:[(0,i.BX)(B.x,{children:["Set yourself as ",j(!S).toLowerCase()]}),S&&(0,i.tZ)(B.x,{multiline:!0,color:"dimmer",variant:"small",children:"This will not affect your visibility within Repls or Teams."})]},"option")})}),(0,i.tZ)(Qn,{targetElement:b.current})]}):(0,i.BX)(h.Z,{css:[m.l0.rowWithGap(4),m.l0.align.center,m.l0.p(4)],children:[(0,i.tZ)(Hn.SmallCircle,{css:[O]}),(0,i.tZ)(B.x,{css:[O],children:C||j(S)})]})};function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return no(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return no(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lo=function(e){var t=e.refetchRepls,r=io(l.useState(!1),2),n=r[0],o=r[1];return(0,i.BX)(h.Z,{css:[m.l0.flex.grow(2),oo({},(0,P.et)("tabletMin"),[m.l0.px(16)])],children:[(0,i.BX)(A.Z,{background:"higher",css:[m.l0.width("100%"),m.l0.justify.center,m.l0.align.center,{height:240,position:"relative",overflow:"hidden"},oo({},(0,P.et)("tabletMin"),{borderRadius:16})],children:[(0,i.BX)(h.Z,{css:[m.l0.colWithGap(16),m.l0.px(32),m.l0.align.center,m.l0.textAlign.center,m.l0.zIndex(2)],children:[(0,i.tZ)(B.x,{variant:"headerDefault",multiline:!0,children:"Pin a Repl to showcase it to others!"}),(0,i.tZ)(y.ZP,{iconLeft:(0,i.tZ)(M.Z,{}),colorway:"primary",text:"Pin a Repl",onClick:function(){return o(!0)},stretch:!1})]}),(0,i.tZ)(h.Z,{css:[{position:"absolute",top:68,left:"max(75%, 256px)",width:256}],children:(0,i.tZ)("img",{src:"/public/images/robot_holding_a_pen_512w.png",alt:"a drawing of a robot hand holding a pen"})})]}),(0,i.tZ)(C.Z,{isOpen:n,onRequestClose:function(){return o(!1)},centered:!0,maxWidth:600,children:(0,i.tZ)(it,{onSelect:function(){t(),o(!1)},showcasedRepls:[]})})]})},ao=r(50876);var co,uo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",r=(0,c.useRouter)(),n=r.query,o=n[e];if("boolean"===t)return"true"===o;if("number"===t){if(!o)return;var i=parseInt(o.toString(),10);if(isNaN(i))return;return i}return null===o||void 0===o?void 0:o.toString()};function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fo(e,t,r,n,o,i,l){try{var a=e[i](l),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}function po(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){po(e,t,r[t])}))}return e}function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return so(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return so(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e[e.ReplDialog=0]="ReplDialog",e[e.Publish=1]="Publish",e[e.None=2]="None"}(co||(co={}));var vo=function(){var e,t,r,n,o,f,h,m=(0,c.useRouter)(),v=m.query,b=m.asPath,g=uo("username","string")||"",y=uo("order","string"),Z=uo("count","number"),x=uo("tab","string"),k=Ir.find((function(e){return e===x})),S=uo("showcasedReplIndex","number"),O=mo(function(){var e=uo("dialogReplId","string"),t=mo(l.useState(co.None),2),r=t[0],n=t[1];return e?[co.ReplDialog,e,n]:[r,void 0,n]}(),3),A=O[0],B=O[1],I=O[2],E=(0,p.DCT)({variables:{username:g}}),R=E.data,U=E.loading,X=E.error,T=E.refetch,_=null===R||void 0===R?void 0:R.currentUser,z=null===R||void 0===R?void 0:R.user,G=(0,pn.vT)(b),W=(0,pn.EZ)(G);if(X)return(0,i.tZ)(a.default,{statusCode:404});var D=!U&&z&&void 0!==S?z.pinnedRepls[S]:void 0,L=(null===_||void 0===_?void 0:_.username)===g,M=L?null===_||void 0===_?void 0:_.hasRepl:(null===z||void 0===z||null===(e=z.publicRepls)||void 0===e?void 0:e.items)&&(null===z||void 0===z||null===(t=z.publicRepls)||void 0===t||null===(r=t.items)||void 0===r?void 0:r.length)>0,N=(null===D||void 0===D?void 0:D.description)||(null===z||void 0===z?void 0:z.bio)||void 0,V=(null===D||void 0===D?void 0:D.imageUrl)||(null===z||void 0===z?void 0:z.image),Y="";if(z){var F=z.fullName?" (".concat(z.fullName,")"):"";Y=z.username+F,D&&(Y="".concat(D.title," by ").concat(Y))}var H,$=z&&(0,i.tZ)(mt,{currentUser:_,refetchRepls:T,user:z});return(0,i.BX)(u.Z,{description:N,image:V,title:Y,children:[(0,i.tZ)(Fn,{username:g,isOwnProfile:L}),U?(0,i.tZ)(d.Z,{css:{margin:"40px auto"}}):z?z.redirectToTeamDashboard?(0,i.tZ)(vt,{username:z.username}):(0,i.BX)(w.G7,{css:[w.l0.flex.row,w.l0.width("100%"),w.l0.maxWidth(1400),po({flexDirection:"column",paddingTop:104},(0,P.et)("tabletMax"),{flexDirection:"row",margin:"0 auto",paddingTop:96})],children:[(0,i.BX)(w.G7,{css:[w.l0.pb(32),w.l0.px(16),w.l0.position.relative,w.l0.colWithGap(8),(H={},po(H,(0,P.et)("tabletMin"),[w.l0.flex.column]),po(H,(0,P.et)("tabletMax"),[w.l0.colWithGap(16),w.l0.position.sticky,w.l0.top(96),{alignSelf:"start"}]),po(H,(0,P.EM)("tabletMax"),[w.l0.pb(0)]),H)],children:[(0,i.tZ)(Cr,{user:z,currentUser:_,onUpdate:T}),!(null===(n=R.user)||void 0===n?void 0:n.isBlockingCurrentUser)&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(ro,{username:z.username}),(0,i.tZ)(Rn,{user:z})]})]}),(0,i.tZ)(w.G7,{css:[w.l0.flex.grow(2),w.l0.flex.shrink(2),(null===(o=z.pinnedRepls)||void 0===o?void 0:o.length)<1&&!L&&w.l0.pt(128),po({},(0,P.EM)("tabletMax"),[(null===(f=z.pinnedRepls)||void 0===f?void 0:f.length)<1&&w.l0.pt(0)])],children:!L&&(null===R||void 0===R?void 0:R.user)&&R.user.isBlockingCurrentUser?(0,i.tZ)(w.G7,{css:[w.l0.align.center,w.l0.colWithGap(64),w.l0.pt(32),w.l0.zIndex(2),po({},(0,P.EM)("tabletMin"),ho({},w.l0.p(4),w.l0.colWithGap(32)))],children:(0,i.BX)(w.G7,{css:[w.l0.colWithGap(24),w.l0.align.center,w.l0.textAlign.center],children:[(0,i.tZ)(w.xv,{variant:"subheadBig",multiline:!0,children:"You're blocked"}),(0,i.BX)(w.xv,{multiline:!0,children:["You can't follow, comment or see ",R.user.username,"'s Repls on their profile."]})]})}):(0,i.tZ)(i.HY,{children:M?(0,i.BX)(w.G7,{css:[w.l0.colWithGap(16),w.l0.mt(16)],children:[(null===(h=z.pinnedRepls)||void 0===h?void 0:h.length)>0&&$,(null===_||void 0===_?void 0:_.id)===z.id&&z.pinnedRepls.length<1&&(0,i.tZ)(lo,{refetchRepls:T}),(0,i.tZ)(Rr,{currentTab:k,currentUser:_}),v.tab?null:(0,i.BX)(w.G7,{children:[L&&(0,i.BX)(w.G7,{css:[w.l0.flex.row,w.l0.justify.spaceBetween,w.l0.align.center,w.l0.my(16)],children:[(0,i.tZ)(qr.Z,{links:W,username:g}),_&&(_.isAdmin||!_.isStudent&&!_.isPrivacyAccount)&&(0,i.tZ)(w.zx,{iconLeft:(0,i.tZ)(Un.Z,{}),colorway:"primary",text:"Publish a Repl",onClick:function(){I(co.Publish)}})]}),(0,i.tZ)(w.G7,{css:[w.l0.pb(128)],children:L?(0,i.tZ)($r.Z,{path:G,starred:v.starred?!!v.starred:void 0}):(0,i.tZ)(fn,{user:z})})]}),"community"===k?(0,i.tZ)(j,{username:g,order:null!==y&&void 0!==y?y:"new",count:Z}):null,"warnings"===k&&((null===_||void 0===_?void 0:_.isAdmin)||(null===_||void 0===_?void 0:_.isModerator))?(0,i.tZ)(Hr,{username:g}):null]}):(0,i.tZ)(wn,{isOwnProfile:L})})})]}):(0,i.tZ)(s.Z,{}),(0,i.tZ)(C.Z,{isOpen:A===co.ReplDialog,preventCloseOnRouteChange:!0,onRequestClose:function(){if(z){var e=(0,Tt.Ru)(z);m.replace(e.href,e.as)}},elevation:"root",children:B&&(0,i.tZ)(Ur.Z,{replId:B})}),(0,i.tZ)(C.Z,{isOpen:A===co.Publish,onRequestClose:function(){return I(co.None)},children:(0,i.tZ)(ao.Z,{source:"profile"})})]})};vo.getInitialProps=function(){var e,t=(e=o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.req,n=t.store,e.next=3,(0,f.Z)(r,n);case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function l(e){fo(i,n,o,l,a,"next",e)}function a(e){fo(i,n,o,l,a,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();var bo=vo}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[5762,8350,3443,2240,4885,9352,3921,4778,4969,8966,9998,3981,8944,9710,5773,3220,40,815,5225,9231,3822,7598,9677,9116,8534,9345,9838,2654,3325,6871,6934,8543,876,6658,4139,4933,2610,9774,2888,179],(function(){return t(97239),t(56896)}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=profile-c50dbe0e2edb7217.js.map