"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2610],{62026:function(e,r,t){t.d(r,{Z:function(){return O}});var n=t(35944),o=t(67294),a=t(45697),i=t.n(a);function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function c(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners=[]}var r,t,n;return r=e,(t=[{key:"listenOnce",value:function(e,r,t){if(this._listeners.push([e,r,t]),!e.once)throw new Error("Target does not allow once");e.once(r,t)}},{key:"listen",value:function(e,r,t){this._listeners.push([e,r,t]),e.on?e.on(r,t):e.addListener?e.addListener(r,t):e.addEventListener&&e.addEventListener(r,t)}},{key:"destroy",value:function(){this._listeners.forEach((function(e){var r=s(e,3),t=r[0],n=r[1],o=r[2];t.removeListener?t.removeListener(n,o):t.removeEventListener&&t.removeEventListener(n,o)}))}}])&&c(r.prototype,t),n&&c(r,n),e}(),u=t(54929),f=t(3204),p=t(92704);function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,r){return!r||"object"!==j(r)&&"function"!==typeof r?b(e):r}function w(e,r){return(w=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function k(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=y(e);if(r){var o=y(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return x(this,t)}}var O=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&w(e,r)}(l,e);var r,t,a,i=Z(l);function l(){var e;return h(this,l),g(b(e=i.apply(this,arguments)),"onSubmit",(function(r){e.props.hideOnSubmit&&e.props.hideModal&&e.props.hideModal(),e.props.onSubmit(r)})),g(b(e),"getBodyAndTitle",(function(){var r=e.props.children;if(!Array.isArray(r)&&o.Children.count(r)<2)throw new Error("Expected title and body in ActionModal");var t=r[0];if(Array.isArray(t))throw new Error("title child cannot be an array");var n=o.cloneElement(t,{className:"action-modal-title "+("undefined"!==typeof t.className?t.className:"")}),a=r[1];if(Array.isArray(a))throw new Error("body child cannot be an array");return[n,o.cloneElement(a,{className:"action-modal-body"+(a.className||"")})]})),e}return r=l,(t=[{key:"componentDidMount",value:function(){var e=this;this._eventSubscriber=new d,this._eventSubscriber.listen(window.document,"keydown",(function(r){13!==r.keyCode||e.props.submitWithoutCtrl&&!r.ctrlKey&&!r.metaKey||e.props.disableSubmit||e.props.onSubmit()}))}},{key:"componentWillUnmount",value:function(){this._eventSubscriber&&this._eventSubscriber.destroy(),this._eventSubscriber=null}},{key:"render",value:function(){var e=this,r=k(this.getBodyAndTitle(),2),t=r[0],o=r[1];return(0,n.BX)(u.Z,{css:[f.l0.colWithGap(24)],children:[t,o,(0,n.BX)(u.Z,{css:[f.l0.rowWithGap(12),f.l0.justify.end],children:[!this.props.hideCancel&&(0,n.tZ)(p.zx,{onClick:function(){e.props.onCancel&&e.props.onCancel(),e.props.hideModal&&e.props.hideModal()},text:this.props.cancelLabel||"Cancel"},"cancel"),(0,n.tZ)(p.zx,{colorway:this.props.deleteStyle?"negative":"primary",disabled:this.props.disableSubmit,onClick:this.onSubmit,text:this.props.submitLabel||"Ok"},"actionModalCta")]})]})}}])&&v(r.prototype,t),a&&v(r,a),l}(o.Component);g(O,"propTypes",{hideModal:i().func.isRequired}),g(O,"defaultProps",{autoFocus:!1})},61530:function(e,r,t){t.d(r,{O:function(){return k},a:function(){return j}});var n=t(35944),o=t(67294),a=t(99231),i=t(45697),l=t.n(i),c=t(83308);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function u(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,r,t){return r&&u(e.prototype,r),t&&u(e,t),e}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&y(e,r)}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}function v(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function g(e,r){return!r||"object"!==x(r)&&"function"!==typeof r?s(e):r}function y(e,r){return(y=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var x=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=m(e);if(r){var o=m(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return g(this,t)}}var k=function(e){b(t,e);var r=w(t);function t(){var e;return d(this,t),p(s(e=r.apply(this,arguments)),"onValidation",(function(r,t){e.validations[r]=t})),p(s(e),"onSubmit",(function(r){for(var t in r.preventDefault(),e.inputs)if(e.inputs[t].validateNow(),e.validations[t])return void e.inputs[t].focus();e.props.onSubmit(r)})),p(s(e),"register",(function(r,t){e.inputs[r]=t})),p(s(e),"validations",{}),p(s(e),"inputs",{}),e}return f(t,[{key:"getChildContext",value:function(){return{validatedForm:{register:this.register,onValidation:this.onValidation}}}},{key:"render",value:function(){var e=this.props,r=e.Component,t=e.children,o=v(e,["Component","children"]);return(0,n.tZ)(r,h({},(0,a.Z)(o,["onSubmit"]),{onSubmit:this.onSubmit,children:t}))}}]),t}(o.Component);p(k,"childContextTypes",{validatedForm:l().object}),p(k,"defaultProps",{Component:"form"});var j=function(e){b(t,e);var r=w(t);function t(){return d(this,t),r.apply(this,arguments)}return f(t,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,r=this.context.validatedForm,t=r.onValidation,o=r.register;return(0,n.tZ)(c.a,h({},(0,a.Z)(this.props,["onValidation","ref"]),{onValidation:function(r){return t(e.props.name,r)},ref:function(r){e.input=r,o(e.props.name,r)},theme:this.props.theme}))}}]),t}(o.Component);p(j,"contextTypes",{validatedForm:l().object.isRequired}),p(j,"defaultProps",{theme:"replitLight"})},46029:function(e,r,t){t.d(r,{Z:function(){return kr}});var n,o=t(35944),a=t(79547),i=t.n(a),l=t(67294),c=t(88768),s=t(37156),d=t(43130);!function(e){e.Repl="REPL",e.Folder="FOLDER"}(n||(n={}));var u=(0,d.E)(n.Repl,{beginDrag:function(e){return e.repl},endDrag:function(e,r){var t=r.getDropResult();t&&e.onMove({to:t,repl:e.repl})}},(function(e,r){return{connectDragSource:e.dragSource(),isDragging:r.isDragging()}}))((function(e){return e.connectDragSource((0,o.BX)("div",{style:{opacity:e.isDragging?.5:1},children:[e.isDragging&&(0,o.tZ)(i(),{id:"28f467a17dd15487",children:"header,.sidebar-layout-header{pointer-events:none}"}),e.children]}))})),f=(0,d.E)(n.Folder,{beginDrag:function(e){return e.folder},endDrag:function(e,r){var t=r.getDropResult();t&&t.id!==e.folder.id&&e.onMove({to:t,folder:e.folder})}},(function(e,r){return{connectDragSource:e.dragSource(),isDragging:r.isDragging()}}))((function(e){return e.connectDragSource((0,o.BX)("div",{style:{opacity:e.isDragging?.5:1},children:[e.isDragging&&(0,o.tZ)(i(),{id:"28f467a17dd15487",children:"header,.sidebar-layout-header{pointer-events:none}"}),e.children]}))})),p=t(41664),m=t.n(p),b=t(94184),h=t.n(b),v=t(1619),g=t(63735),y=t(76695),x=t(16342),w=t(62026),k=t(39155),j=t(89957),Z=t(15853),O=t(22546),S=t(29698),_=t(58375);function R(e){var r=e.renameFolder,t=e.moveItem,n=e.deleteFolder,a=[{value:"rename",label:"Rename",icon:(0,o.tZ)(S.Z,{})},{value:"move",label:"Move",icon:(0,o.tZ)(x.Z,{})},{value:"delete",label:"Delete",isDestructive:!0,icon:(0,o.tZ)(_.Z,{})}];return(0,o.tZ)(O.Z,{size:"large",items:a,onItemClick:function(e){switch(e.value){case"rename":r();break;case"move":t();break;case"delete":n()}}})}var P=t(38880),C=t(54929),z=t(67938),N=t(3204),E=t(92704),I=t(74627);function B(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function D(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return B(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=function(e){var r=e.onSubmit,t=e.hideModal,n=e.defaultValue,a=e.loading,i=e.errorMessage,c=D(l.useState(n||""),2),s=c[0],d=c[1],u=l.useRef(null);l.useEffect((function(){(null===u||void 0===u?void 0:u.current)&&u.current.select()}),[]);var f=function(){if(!i)return r(s);(null===u||void 0===u?void 0:u.current)&&u.current.select()};return(0,o.BX)(C.Z,{css:[N.l0.colWithGap(24)],children:[(0,o.tZ)(z.h,{variant:"headerDefault",level:2,css:N.l0.maxWidth("100%"),children:"New Folder"}),(0,o.tZ)(j.ZP,{disabled:a,id:"replFolderName",value:s,placeholder:"Folder name",onChange:function(e){d(e.currentTarget.value)},name:"folderName",ref:u,onKeyDown:function(e){"Enter"===e.key&&f()}}),(0,o.BX)(C.Z,{css:[N.l0.rowWithGap(12),N.l0.justify.end],children:[(0,o.tZ)(E.zx,{text:"Cancel",onClick:t}),(0,o.tZ)(E.zx,{iconLeft:(0,o.tZ)(I.Z,{}),disabled:a,onClick:f,text:a?"Creating Folder...":"Create Folder",colorway:"primary"})]})]})},M=t(34051),F=t.n(M),T=t(11163),X=t.n(T),U=t(9917),L=t(50553);function V(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function W(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void t(s)}l.done?r(c):Promise.resolve(c).then(n,o)}function G(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function H(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){G(e,r,t[r])}))}return e}function q(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return V(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q,$={id:"__ROOT_ID__",name:"(home)/",pathnames:["(home)/"],canEdit:!1,timeCreated:null},K=function(e){var r=e.folder,t=e.onSelect,n=e.onNavigate,a=e.isSelected,l=e.isBack,c=void 0!==l&&l;return(0,o.BX)("div",{onClick:function(){t&&t(r)},className:"jsx-ef206f2446a172a6 "+(h()("small-folder-row-container",{"is-selected":a})||""),children:[(0,o.BX)("div",{className:"jsx-ef206f2446a172a6 small-folder-title",children:[(0,o.tZ)("div",{className:"jsx-ef206f2446a172a6 small-folder-icon-container",children:c?(0,o.tZ)("div",{className:"jsx-ef206f2446a172a6 small-back-folder-icon",children:(0,o.tZ)(L.Z,{})}):(0,o.tZ)("div",{className:"jsx-ef206f2446a172a6 small-folder-icon",children:(0,o.tZ)(x.Z,{})})}),(0,o.tZ)("a",{onClick:function(e){return n?n(r,e):function(){}},className:"jsx-ef206f2446a172a6",children:r.name})]}),(0,o.tZ)("div",{className:"jsx-ef206f2446a172a6 small-folder-time",children:r.timeCreated?(0,U.F)(r.timeCreated):""}),(0,o.tZ)(i(),{id:"ef206f2446a172a6",children:".small-folder-row-container.jsx-ef206f2446a172a6{height:40px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 10px}.small-folder-row-container.jsx-ef206f2446a172a6:hover{cursor:pointer;background-color:var(--background-root)}.small-folder-icon-container.jsx-ef206f2446a172a6{height:20px;width:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.small-back-folder-icon.jsx-ef206f2446a172a6{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.small-folder-icon.jsx-ef206f2446a172a6{width:20px}.small-back-folder-icon.jsx-ef206f2446a172a6{width:17px}.small-folder-title.jsx-ef206f2446a172a6{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.small-folder-title.jsx-ef206f2446a172a6 a.jsx-ef206f2446a172a6{margin-left:20px;color:var(--foreground-dimmer);border-bottom:none;color:inherit}.small-folder-time.jsx-ef206f2446a172a6{font-size:12px;color:var(--foreground-dimmer)}.small-folder-row-container.is-selected.jsx-ef206f2446a172a6:hover,.is-selected.jsx-ef206f2446a172a6{background-color:var(--accent-primary-default);color:var(--background-higher)}.is-selected.jsx-ef206f2446a172a6 .small-folder-time.jsx-ef206f2446a172a6{color:inherit}"})]})},Y=function(e){var r,t,n=e.item,a=e.isRepl,s=e.teamId,d=e.hideModal,u=/\/@([^/]*)/.exec(X().asPath||""),f=u?u[1]:null,p=s&&f?function(e,r){return{id:"__TEAM__".concat(e,"__"),name:"@".concat(r),pathnames:["@".concat(r)],canEdit:!1,timeCreated:null}}(s,f):$,m=q(l.useState(null),2),b=m[0],h=m[1],v=q(l.useState(p),2),g=v[0],y=v[1],x=q(l.useState([]),2),k=x[0],j=x[1],Z=(0,c.wdx)({fetchPolicy:"cache-and-network",variables:{id:g.id,teamId:s},ssr:!1,notifyOnNetworkStatusChange:!0}).data,O=function(e){h(e===b?null:e)},S=function(e,r){r.stopPropagation(),e.pathnames.length>g.pathnames.length?k.push(g):k.pop(),y(e),h(e),j(k)},_=function(){var r,t=(r=F().mark((function r(){var t,o;return F().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=[],o=[],a?t.push(n.id):o.push(n.id),e.onSubmit({variables:{destFolderId:b?b.id:"",replIds:t,folderIds:o,teamId:s}});case 4:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){W(a,n,o,i,l,"next",e)}function l(e){W(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),R=((null===Z||void 0===Z||null===(r=Z.currentUser)||void 0===r||null===(t=r.replFolder)||void 0===t?void 0:t.folders)||[]).filter((function(e){return!("Unnamed"===e.name&&null===e.parentId)&&e.folderType===c.RV9.Default&&(!!a||e.id!==n.id)})).map((function(e){return H({},e,{pathnames:e.pathnames.slice(1)})})),P=k[k.length-1]||p,C=b?b.id:"",z="name"in n?n.name:n.title;return(0,o.BX)(w.Z,{modalStyle:{width:"550px"},onSubmit:_,hideOnSubmit:!0,submitLabel:"Move",hideModal:d,children:[(0,o.BX)("div",{children:["Move ",z," to:"]}),(0,o.BX)("div",{children:[(0,o.BX)("div",{className:"jsx-424e91159ff60 folder-picker-container",children:[g.pathnames&&g.pathnames.join()!==p.pathnames.join()&&(0,o.tZ)(K,{folder:H({},P,{name:"(up one level)"}),isBack:!0,onNavigate:S,isSelected:C===P.id}),R&&R.map((function(e){return(0,o.tZ)(K,{folder:e,onSelect:O,onNavigate:S,isSelected:e.id===C},"move-folder-".concat(e.id))})),(0,o.tZ)(i(),{id:"424e91159ff60",children:".folder-picker-container.jsx-424e91159ff60{height:250px;border:1px solid gray;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:auto}"})]}),(0,o.BX)("div",{children:["Moving to:"," ",b?b.pathnames[b.pathnames.length-1]:g.pathnames[g.pathnames.length-1]||"(home)/"]})]})]})},J=t(7177),ee=t(23139);function re(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function te(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ne(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){te(e,r,t[r])}))}return e}function oe(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return re(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return re(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e[e.RenameFolder=0]="RenameFolder",e[e.DeleteFolder=1]="DeleteFolder",e[e.MoveItem=2]="MoveItem"}(Q||(Q={}));var ae=function(e){var r=e.folder;if(r.folderType===c.RV9.Multiplayer)return(0,o.tZ)(v.Z,{size:20});if(r.folderType===c.RV9.Boosts)return(0,o.tZ)(g.Z,{size:20});if(r.folderType===c.RV9.AlwaysOn)return(0,o.tZ)(y.Z,{size:20});if(r.folderType===c.RV9.Team){var t=r.image?{url:r.image}:void 0;return(0,o.tZ)(k.Z,{image:t})}return r.folderType===c.RV9.AllTeams?(0,o.tZ)(v.Z,{size:20}):(0,o.tZ)(x.Z,{size:20})},ie=function(e){var r=e.folder,t=e.teamId,n=e.username,a=e.onDelete,i=e.onMove,s=(0,l.useState)(null),d=s[0],u=s[1],f=(0,P.Z)(),p=f.showConfirm,b=f.showError,v=(0,l.useState)(""),g=v[0],y=v[1],x=oe((0,c.AIu)(),2),k=x[0],O=x[1],S=oe((0,c.wSv)({variables:{folderId:r.id}}),2),_=S[0],C=S[1],N=oe((0,c.ZJB)(),2),E=N[0],I=N[1],B=[O.error,C.error,I.error];(0,l.useEffect)((function(){var e=!0,r=!1,t=void 0;try{for(var n,o=B[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var a=n.value;a&&(a.graphQLErrors[0]&&a.graphQLErrors[0].message?b(a.graphQLErrors[0].message):b("Something went wrong when updating this folder"))}}catch(i){r=!0,t=i}finally{try{e||null==o.return||o.return()}finally{if(r)throw t}}}),B),(0,l.useEffect)((function(){C.data&&(p("Folder deleted"),a())}),[C.data]),(0,l.useEffect)((function(){O.data&&p("Folder renamed")}),[O.data]),(0,l.useEffect)((function(){I.data&&(p("Folder moved"),i())}),[I.data]);var D=r.pathnames.slice(1).join("/");return(0,o.BX)(ee.G7,{css:[ee.l0.rowWithGap(32),{width:"100%"}],children:[(0,o.tZ)(m(),ne({},n&&r.folderType!==c.RV9.Team&&void 0===t?(0,Z.wQ)({pathnames:r.pathnames,username:n}):(0,Z.xd)({pathnames:r.pathnames}),{children:(0,o.BX)("a",{className:h()("folder-item",{team:r.folderType===c.RV9.Team}),css:[ee.l0.rowWithGap(32),ee.l0.justify.spaceBetween,ee.l0.align.center,ee.l0.p(8),ee.l0.borderRadius(8),ee.l0.color.foregroundDefault,{minHeight:"54px",width:"100%",display:"flex",":hover":{backgroundColor:ee.TV.backgroundDefault}}],children:[(0,o.BX)(ee.G7,{css:[ee.l0.rowWithGap(16),ee.l0.justify.center],children:[(0,o.tZ)(ae,{folder:r}),(0,o.BX)(z.x,{variant:"subheadDefault",children:[r.name,r.replsCount?" (".concat(r.replsCount,")"):null]})]}),(0,o.tZ)(z.x,{color:"dimmer",variant:"small",children:r.canEdit?(0,Z.Sy)(new Date(r.timeCreated)):null}),(0,o.tZ)("div",{onClick:function(e){return e.preventDefault()},className:"actions",children:r.canEdit?(0,o.tZ)(R,{renameFolder:function(){return u(Q.RenameFolder)},deleteFolder:function(){return u(Q.DeleteFolder)},moveItem:function(){return u(Q.MoveItem)}}):null})]})})),(0,o.BX)(J.Z,{isOpen:null!==d,onRequestClose:function(){u(null)},maxWidth:512,children:[d===Q.RenameFolder?(0,o.tZ)(A,{defaultValue:r.name,hideModal:function(){return u(null)},onSubmit:function(e){!function(e){O.loading||k({variables:{folderId:r.id,name:e}})}(e),u(null)},loading:O.loading}):null,d===Q.DeleteFolder?(0,o.BX)(w.Z,{modalStyle:{maxWidth:"550px"},onSubmit:function(e){e&&e.preventDefault(),C.loading||(u(null),_())},deleteStyle:!0,submitLabel:C.loading?"Deleting folder...":"Yes, delete this folder",disableSubmit:g!==D,hideModal:function(){u(null)},children:[(0,o.tZ)(z.h,{variant:"headerDefault",level:2,children:"Delete folder"}),(0,o.tZ)("div",{children:(0,o.BX)(ee.G7,{css:[ee.l0.colWithGap(24)],children:[(0,o.tZ)(z.x,{multiline:!0,children:"Are you sure you want to delete this folder? This will remove all Repls and folders within. This cannot be undone."}),(0,o.BX)(ee.G7,{css:[ee.l0.colWithGap(8)],children:[(0,o.tZ)("label",{htmlFor:"folderPath",children:(0,o.BX)(z.x,{color:"dimmer",variant:"small",children:["Type the folder path (",D,") to delete"]})}),(0,o.tZ)(j.ZP,{id:"folderPath",disabled:!!C.loading,autoFocus:!0,value:g,onChange:function(e){return y(e.currentTarget.value)}})]})]})})]}):null,d===Q.MoveItem?(0,o.tZ)(Y,{item:r,teamId:t,isRepl:!1,onSubmit:function(e){I.loading||E(e)},hideModal:function(){return u(null)}}):null]})]})},le=t(63292),ce=t(74302),se=t(15151),de=t(73248),ue=t(83348),fe=t(94804);function pe(e){var r=e.repl,t=e.editRepl,n=e.deleteRepl,a=e.forkRepl,i=e.moveItem,l=e.togglePinnedToProfile,c=e.removeMultiplayerRepl,s=r.currentUserPermissions,d=[];if((s.changeTitle||s.changeDescription)&&d.push({label:"Edit",value:"edit",icon:(0,o.tZ)(S.Z,{})}),s.viewHistory&&r.historyUrl){var u={href:{pathname:"/replHistory",query:{slug:r.slug}},as:r.historyUrl};d.push({label:"History",value:"history",link:u,icon:(0,o.tZ)(se.Z,{})})}return s.fork&&d.push({label:"Fork",value:"fork",icon:(0,o.tZ)(de.Z,{})}),s.move&&d.push({label:"Move",value:"move",icon:(0,o.tZ)(x.Z,{})}),s.pin&&d.push({label:r.pinnedToProfile?"Unpin":"Pin",value:"pin",icon:(0,o.tZ)(ue.Z,{})}),s.delete&&d.push({label:"Delete",value:"delete",isDestructive:!0,icon:(0,o.tZ)(_.Z,{})}),s.leaveMultiplayer&&d.push({label:"Remove",value:"remove",isDestructive:!0,icon:(0,o.tZ)(fe.Z,{})}),(0,o.tZ)(O.Z,{size:"large",items:d,onItemClick:function(e){switch(e.value){case"edit":t();break;case"history":break;case"fork":a();break;case"move":i();break;case"pin":l();break;case"remove":c();break;case"delete":n()}}})}function me(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var be=function(e){return(0,o.tZ)("svg",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){me(e,r,t[r])}))}return e}({width:20,height:18,viewBox:"0 0 14 18",fill:e.color},e,{children:(0,o.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2h2a2 2 0 012 2v2c0 .364-.097.706-.268 1H4.268A1.99 1.99 0 014 6V4a2 2 0 012-2zM2.126 7A4.007 4.007 0 012 6V4a4 4 0 014-4h2a4 4 0 014 4v2c0 .345-.044.68-.126 1H12a2 2 0 012 2v7a2 2 0 01-2 2H2a2 2 0 01-2-2V9a2 2 0 012-2h.126z"})}))},he=t(20795),ve=function(e){var r=e.enabled,t=e.onChange;return(0,o.BX)("div",{onClick:t,className:"jsx-22a3e62a48b3bd0 "+(h()("privacy-toggle-root",{enabled:r})||""),children:[!r&&(0,o.tZ)("div",{className:"jsx-22a3e62a48b3bd0 privacy-toggle-element",children:(0,o.tZ)("div",{className:"jsx-22a3e62a48b3bd0 icon",children:(0,o.tZ)(he.Globe,{color:"var(--background-default)"})})}),r&&(0,o.tZ)("div",{className:"jsx-22a3e62a48b3bd0 privacy-toggle-element",children:(0,o.tZ)(be,{color:"var(--background-default)"})}),(0,o.tZ)(i(),{id:"22a3e62a48b3bd0",children:".privacy-toggle-root.jsx-22a3e62a48b3bd0{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;background-color:var(--background-default);border:1.5px solid var(--outline-dimmest);height:24px;width:40px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:var(--foreground-dimmer)}.privacy-toggle-root.enabled.jsx-22a3e62a48b3bd0{background-color:var(--foreground-dimmest);-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.icon.jsx-22a3e62a48b3bd0{height:18px;width:18px}.privacy-toggle-element.jsx-22a3e62a48b3bd0{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:0 2px}"})]})},ge=function(){return(0,o.BX)("svg",{className:"double-user-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.391 8.483",children:[(0,o.tZ)("defs",{className:"jsx-9a69dfb7376e89c2",children:(0,o.tZ)(i(),{id:"9a69dfb7376e89c2",children:".double-user-icon-svg{width:100%;height:100%}.double-user-icon-svg .cls-1{fill:#4e2f8a}.double-user-icon-svg .cls-2{fill:none}"})}),(0,o.BX)("g",{children:[(0,o.tZ)("ellipse",{className:"cls-1",cx:"4.62",cy:"2.406",rx:"2.14",ry:"2.02"}),(0,o.tZ)("path",{className:"cls-1",d:"M.745,8.1C3.2,4.6,6.421,4.9,8.679,8.1Z"}),(0,o.tZ)("ellipse",{className:"cls-1",cx:"11.586",cy:"2.406",rx:"2.14",ry:"2.02"}),(0,o.tZ)("path",{className:"cls-1",d:"M7.712,8.1c2.453-3.5,5.676-3.2,7.934,0Z"}),(0,o.tZ)("rect",{className:"cls-2",width:"16.391",height:"8.483"})]})]})},ye=t(7163),xe=t(53985),we=function(e){var r=e.fill,t=e.stroke,n=e.name;return(0,o.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24.956 24.818",width:"24.956",height:"24.818",children:[(0,o.tZ)("defs",{children:(0,o.tZ)("style",{children:"\n        .repl-star-svg-".concat(n," {\n          fill:").concat(r,";\n          stroke:").concat(t,";\n          stroke-miterlimit:10;\n        }\n      ")})}),(0,o.tZ)("path",{className:"repl-star-svg-".concat(n),d:"M23.319,9.255h-7.6a.474.474,0,0,1-.452-.332l-2.313-7.4a.474.474,0,0,0-.9,0l-2.313,7.4a.474.474,0,0,1-.452.332h-7.6a.474.474,0,0,0-.284.853l6.189,4.64a.474.474,0,0,1,.168.52L5.31,23.077a.474.474,0,0,0,.748.511L12.2,18.673a.474.474,0,0,1,.592,0l6.145,4.916a.474.474,0,0,0,.748-.511l-2.441-7.809a.474.474,0,0,1,.168-.52l6.189-4.64A.474.474,0,0,0,23.319,9.255Z"})]})},ke=function(e){var r=e.selected,t=e.onClick,n=e.children;return(0,o.BX)("div",{onClick:t,className:"jsx-80165c55f8ab4d67 "+(h()("repl-star",{"repl-star-selected":r})||""),children:[(0,o.tZ)("div",{className:"jsx-80165c55f8ab4d67 repl-star-active",children:(0,o.tZ)(je,{})}),(0,o.tZ)("div",{className:"jsx-80165c55f8ab4d67 repl-star-hover",children:(0,o.tZ)(Ze,{})}),(0,o.tZ)("div",{className:"jsx-80165c55f8ab4d67 repl-star-inactive",children:(0,o.tZ)(Oe,{})}),(0,o.tZ)("div",{className:"jsx-80165c55f8ab4d67 repl-star-tooltip",children:n}),(0,o.tZ)(i(),{id:"80165c55f8ab4d67",children:".repl-star.jsx-80165c55f8ab4d67{width:40px;height:40px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.repl-star-hover.jsx-80165c55f8ab4d67,.repl-star-active.jsx-80165c55f8ab4d67,.repl-star-inactive.jsx-80165c55f8ab4d67{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.repl-star-hover.jsx-80165c55f8ab4d67,.repl-star-active.jsx-80165c55f8ab4d67{display:none}.repl-star.jsx-80165c55f8ab4d67:hover .repl-star-active.jsx-80165c55f8ab4d67,.repl-star.jsx-80165c55f8ab4d67:hover .repl-star-inactive.jsx-80165c55f8ab4d67{display:none}.repl-star.jsx-80165c55f8ab4d67:hover .repl-star-hover.jsx-80165c55f8ab4d67{display:block}.repl-star-selected.jsx-80165c55f8ab4d67:hover .repl-star-hover.jsx-80165c55f8ab4d67{display:none}.repl-star-selected.jsx-80165c55f8ab4d67:hover .repl-star-active.jsx-80165c55f8ab4d67,.repl-star.jsx-80165c55f8ab4d67:active .repl-star-active.jsx-80165c55f8ab4d67,.repl-star-selected.jsx-80165c55f8ab4d67 .repl-star-active.jsx-80165c55f8ab4d67{display:block}.repl-star-selected.jsx-80165c55f8ab4d67 .repl-star-inactive.jsx-80165c55f8ab4d67,.repl-star-selected.jsx-80165c55f8ab4d67 .repl-star-hover.jsx-80165c55f8ab4d67{display:none}.repl-star.jsx-80165c55f8ab4d67:hover .repl-star-tooltip.jsx-80165c55f8ab4d67{display:block}.repl-star-tooltip.jsx-80165c55f8ab4d67{z-index:1;display:none;position:absolute;top:-5px;left:50%;-webkit-transform:translate(-50%,-100%);-moz-transform:translate(-50%,-100%);-ms-transform:translate(-50%,-100%);-o-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}"})]})},je=function(){return(0,o.tZ)(we,{fill:"var(--accent-yellow-default)",stroke:"var(--accent-yellow-default)",name:"active"})},Ze=function(){return(0,o.tZ)(we,{fill:"var(--foreground-dimmest)",stroke:"var(--accent-yellow-default)",name:"hover"})},Oe=function(){return(0,o.tZ)(we,{fill:"var(--foreground-dimmest)",stroke:"var(--outline-dimmest)",name:"inactive"})},Se=t(61530);function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,r){return!r||"object"!==Ee(r)&&"function"!==typeof r?_e(e):r}function Ne(e,r){return(Ne=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var Ee=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ie(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Ce(e);if(r){var o=Ce(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return ze(this,t)}}var Be,De=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ne(e,r)}(i,e);var r,t,n,a=Ie(i);function i(e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,i),Pe(_e(r=a.call(this,e)),"onSubmit",(function(){r.props.onSubmit(r.state)})),r.state={title:r.props.repl.title,description:r.props.repl.description||""},function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];t.forEach((function(r){e["on".concat(r[0].toUpperCase()).concat(r.slice(1),"Change")]=function(t){var n;n=t&&t.target&&void 0!==t.currentTarget.value?t.currentTarget.value:t,e.setState(Pe({},r,n))}}))}(_e(r),"title","description"),r}return r=i,(t=[{key:"render",value:function(){return(0,o.BX)(w.Z,{hideModal:this.props.hideModal,onCancel:this.props.hideModal,onSubmit:this.onSubmit,submitLabel:"Save",children:[(0,o.tZ)(z.h,{variant:"headerDefault",level:2,children:"Edit Repl"}),(0,o.BX)(Se.O,{onSubmit:this.onSubmit,css:[N.l0.colWithGap(24)],children:[(0,o.BX)(C.Z,{css:[N.l0.colWithGap(8)],children:[(0,o.tZ)("label",{htmlFor:"replTitle",children:(0,o.tZ)(z.x,{variant:"small",color:"dimmer",children:"Title"})}),(0,o.tZ)(j.ZP,{id:"replTitle",autoFocus:!0,name:"title",placeholder:"Name your Repl",validator:"replTitle",value:this.state.title,onChange:this.onTitleChange})]}),(0,o.BX)(C.Z,{css:[N.l0.colWithGap(8)],children:[(0,o.tZ)("label",{htmlFor:"replDescription",children:(0,o.tZ)(z.x,{variant:"small",color:"dimmer",children:"Description"})}),(0,o.tZ)(j.ZP,{id:"replDescription",name:"description",placeholder:"What does this Repl do?",validator:"replDescription",value:this.state.description,onChange:this.onDescriptionChange})]})]})]})}}])&&Re(r.prototype,t),n&&Re(r,n),i}(l.Component),Ae=De,Me=t(16124),Fe=t(28747),Te=t(90309);function Xe(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ue(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Le(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){Ue(e,r,t[r])}))}return e}function Ve(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return Xe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xe(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.EditRepl="EditRepl",e.ForkRepl="ForkRepl",e.DeleteRepl="DeleteRepl",e.RemoveRepl="RemoveRepl",e.MoveItem="MoveItem",e.Subscribe="Subscribe"}(Be||(Be={}));var We=function(e){var r,t=e.repl,n=e.onDelete,a=e.onMove,s=e.teamId,d=Ve((0,c.G5p)(),2),u=d[0],f=d[1],p=Ve((0,Fe.Z)(),2),b=p[0],h=p[1].loading,v=Ve((0,c.x$w)({variables:{replId:t.id}}),2),y=v[0],x=v[1],j=Ve((0,c.ZJB)(),2),O=j[0],S=j[1],_=Ve((0,c.cM2)({variables:{replId:t.id}}),2),R=_[0],C=_[1],z=Ve((0,c.kEC)({variables:{id:t.id},update:(0,Me.t)({id:t.id})}),2),N=z[0],E=z[1],I=Ve((0,c.CWT)({variables:{id:t.id}}),2),B=I[0],D=I[1],A=(0,l.useState)(null),M=A[0],F=A[1],X=(0,P.Z)(),U=X.showConfirm,L=X.showError,V="/replsDashboard"===(0,T.useRouter)().pathname,W=[f.error,x.error,C.error,E.error,D.error,S.error];(0,l.useEffect)((function(){var e=!0,r=!1,t=void 0;try{for(var n,o=W[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var a=n.value;a&&(a.graphQLErrors[0]&&a.graphQLErrors[0].message?L(a.graphQLErrors[0].message):L("Something went wrong when updating this repl"))}}catch(i){r=!0,t=i}finally{try{e||null==o.return||o.return()}finally{if(r)throw t}}}),W),(0,l.useEffect)((function(){E.data&&(U("Repl deleted"),n())}),[E.data]),(0,l.useEffect)((function(){D.data&&(U("Repl removed"),n())}),[D.data]),(0,l.useEffect)((function(){S.data&&(U("Repl moved"),a())}),[S.data]),(0,l.useEffect)((function(){(x.called||C.called)&&U((0,o.BX)("span",{children:[t.pinnedToProfile?"Repl pinned to profile":"Repl unpinned to profile",(0,o.tZ)("br",{}),t.user?(0,o.tZ)("a",{href:t.user.url,target:"_blank",children:"View Profile"}):null]}))}),[t.pinnedToProfile]);var G=function(){if(!f.loading){var e=!t.isPrivate;u({variables:{input:{id:t.id,isPrivate:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:Le({},t,{isPrivate:e})}}}).then((function(r){r.errors||U(e?"Repl Made Private":"Repl Made Public")}))}},H=t.currentUserPermissions.star,q=t.currentUserPermissions.changePrivacy!==c.HA$.Disallowed;return(0,o.BX)("div",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]]),children:[(0,o.tZ)(m(),Le({},(0,ce.aq)(t),{children:(0,o.BX)("a",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" repl-item",children:[H?(0,o.tZ)("div",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" star",children:(0,o.tZ)(ke,{selected:t.isStarred,onClick:function(e){if(e.preventDefault(),!f.loading){var r=!t.isStarred;u({variables:{input:{id:t.id,isStarred:r}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:Le({},t,{isStarred:r})}}}).then((function(e){e.errors||U(r?"Repl Starred":"Repl Unstarred")}))}}})}):null,q?(0,o.tZ)("div",{"aria-label":t.isPrivate?"Private. Only you and invited multiplayers can see this repl.":"Public. Anyone can see this repl.","data-microtip-position":"right",role:"tooltip",className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" privacy-toggle",children:(0,o.tZ)(ve,{enabled:t.isPrivate,onChange:function(e){e.preventDefault(),t.isPrivate||t.currentUserPermissions.changePrivacy!==c.HA$.SubscriptionRequired?G():F(Be.Subscribe)}})}):null,(0,o.BX)("div",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" title",children:[(0,o.tZ)("span",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" title-link",children:t.title}),t.isBoosted&&(0,o.tZ)("div",{"aria-label":"Boosted","data-microtip-position":"bottom",role:"tooltip",className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" boosts-indicator",children:(0,o.tZ)(g.Z,{size:12,color:"var(--accent-positive-default)"})}),t.isAlwaysOn&&(0,o.tZ)("div",{"aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip",className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" always-on-indicator"}),t.isOwner?null:(0,o.tZ)("div",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" multiplayer-icon",children:(0,o.tZ)(ge,{})})]}),!t.isOwner&&t.user?(0,o.tZ)(m(),Le({},(0,ye.Ru)(t.user),{children:(0,o.BX)("a",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" user-link",children:[(0,o.tZ)(k.Z,{size:"inherit",url:t.user.image}),(0,o.BX)("div",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" user-name-link",children:["@",t.user.username]})]})})):null,(0,o.tZ)("div",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" language",children:t.templateInfo.label}),(0,o.tZ)("div",{title:t.timeCreated.toLocaleString().replace(",",""),className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" time",children:(0,Z.Sy)(new Date(t.timeCreated))}),t.isOwner?(0,o.tZ)("div",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" size",children:(0,Z.or)({bytes:t.size})}):null,(0,o.tZ)("div",{onClick:function(e){return e.preventDefault()},className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]])+" actions",children:(0,o.tZ)(pe,{editRepl:function(){return F(Be.EditRepl)},deleteRepl:function(){return F(Be.DeleteRepl)},removeMultiplayerRepl:function(){return F(Be.RemoveRepl)},togglePinnedToProfile:function(){x.loading||C.loading||(t.pinnedToProfile?R():y())},moveItem:function(){return F(Be.MoveItem)},forkRepl:function(){h||F(Be.ForkRepl)},repl:t})})]})})),(0,o.tZ)(J.Z,{isOpen:M===Be.EditRepl,onRequestClose:function(){return F(null)},maxWidth:512,children:(0,o.tZ)(Ae,{repl:t,onSubmit:function(e){F(null),function(e){var r=e.title,n=e.description;f.loading||u({variables:{input:{id:t.id,title:r,description:n}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:Le({},t,{title:r})}}}).then((function(e){e.errors||U("Repl Updated")}))}(e)},hideModal:function(){return F(null)}})}),(0,o.tZ)(J.Z,{isOpen:M===Be.DeleteRepl,onRequestClose:function(){return F(null)},maxWidth:512,children:(0,o.tZ)(le.Z,{name:t.title,entityType:"Repl",delete:function(){E.loading||N()},hideModal:function(){return F(null)}})}),(0,o.tZ)(J.Z,{isOpen:M===Be.MoveItem,onRequestClose:function(){return F(null)},children:(0,o.tZ)(Y,{item:t,teamId:s,isRepl:!0,onSubmit:function(e){S.loading||O(e)},hideModal:function(){return F(null)}})}),(0,o.tZ)(J.Z,{isOpen:M===Be.RemoveRepl,onRequestClose:function(){return F(null)},children:(0,o.BX)(w.Z,{onSubmit:function(){D.loading||B()},onCancel:function(){return F(null)},hideModal:function(){return F(null)},deleteStyle:!0,children:[(0,o.tZ)("div",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]]),children:"Remove Shared Repl"}),(0,o.tZ)("div",{className:i().dynamic([["4f0e19505aaf6b3c",[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"]]]),children:"You will no longer be able to access this Repl."})]})}),(0,o.tZ)(J.Z,{isOpen:M===Be.ForkRepl,onRequestClose:function(){return F(null)},maxWidth:512,children:(0,o.tZ)(Te.Z,{onFork:function(e,r){b({originId:t.id,teamId:e,title:r,forkToPersonal:!s||!e,trackingData:{forkSource:"replsDashboard"}})},initialValue:t.title,hideModal:function(){return F(null)},teamContext:null===(r=t.user)||void 0===r?void 0:r.username})}),(0,o.tZ)(xe.Z,{isOpen:M===Be.Subscribe,onClose:function(){return F(null)},trackingInfo:{context:"repls-dashboard-page"}}),(0,o.tZ)(i(),{id:"4f0e19505aaf6b3c",dynamic:[H?"40px":"",q?"48px":"",H||q?"0":"10px",V?"var(--foreground-dimmer)":"var(--foreground-default)",V?"var(--background-default)":"var(--background-root)",V?"var(--foreground-default)":"auto",V?"var(--background-higher)":"var(--background-default)",V?"auto":"var(--foreground-dimmer)"],children:".repl-item.__jsx-style-dynamic-selector{position:relative;display:grid;grid-template-columns:".concat(H?"40px":""," ").concat(q?"48px":""," minmax(125px,1fr).5fr .5fr .25fr 36px;-webkit-column-gap:10px;-moz-column-gap:10px;column-gap:10px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);min-height:64px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:").concat(V?"var(--foreground-dimmer)":"var(--foreground-default)",";font-size:var(--font-size-subhead-default);text-decoration:none;background-color:").concat(V?"var(--background-default)":"var(--background-root)","}.repl-item.__jsx-style-dynamic-selector:hover{color:").concat(V?"var(--foreground-default)":"auto",";background-color:").concat(V?"var(--background-higher)":"var(--background-default)","}.user-name-link.__jsx-style-dynamic-selector{-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.privacy-toggle.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.user-link.__jsx-style-dynamic-selector{display:grid;grid-template-columns:20px 1fr;grid-column-gap:10px}.actions.__jsx-style-dynamic-selector{position:relative}.title.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.title-link.__jsx-style-dynamic-selector{font-size:16px;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden}.hosted-url-link.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:20px;height:20px;color:var(--foreground-dimmest)}.private-icon.__jsx-style-dynamic-selector,.hosted-url-link.__jsx-style-dynamic-selector{margin-left:10px}.multiplayer-icon.__jsx-style-dynamic-selector{margin-left:5px;width:var(--space-16);height:var(--space-16)}.size.__jsx-style-dynamic-selector,.time.__jsx-style-dynamic-selector,.language.__jsx-style-dynamic-selector{color:").concat(V?"auto":"var(--foreground-dimmer)",";white-space:nowrap;font-size:var(--font-size-small);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.always-on-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-8);width:8px;height:8px;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;background-color:var(--accent-green-default);-webkit-box-shadow:0 0 12px var(--accent-green-default);-moz-box-shadow:0 0 12px var(--accent-green-default);box-shadow:0 0 12px var(--accent-green-default)}.boosts-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}@media screen and (min-width:700px){.title-link.__jsx-style-dynamic-selector{font-size:var(--font-size-subhead-default)}}")})]})};function Ge(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function He(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return Ge(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ge(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qe=function(e){var r,t=e.onCreate,n=e.parentId,a=e.teamId,i=(0,l.useState)(!1),s=i[0],d=i[1],u=(0,P.Z)(),f=u.showConfirm,p=u.showError,m=He((0,c.K7o)(),2),b=m[0],h=m[1];return(0,l.useEffect)((function(){h.data?(f("Folder created"),d(!1),t()):h.error&&p(h.error.graphQLErrors[0].message||"Something went wrong when creating this folder")}),[h.data,h.error,t,f,p]),(0,o.BX)(o.HY,{children:[(0,o.tZ)(J.Z,{isOpen:s,onRequestClose:function(){d(!1)},maxWidth:512,centered:!0,children:(0,o.tZ)(A,{onSubmit:function(e){h.loading||b({variables:{name:e,parentId:n,teamId:a}})},hideModal:function(){d(!1)},loading:h.loading,errorMessage:null===(r=h.error)||void 0===r?void 0:r.message})}),(0,o.tZ)(E.ZP,{iconLeft:(0,o.tZ)(I.Z,{}),text:"New folder",onClick:function(){return d(!0)}})]})},Qe=function(e){var r=e.fillColor;return(0,o.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"back-folder-icon",viewBox:"0 0 22.3 18.4",children:[(0,o.tZ)("defs",{className:"jsx-c7f4b08f098b98b0",children:(0,o.tZ)(i(),{id:"c7f4b08f098b98b0",children:".back-folder-icon{height:100%;width:100%}.st1{fill:currentColor}"})}),(0,o.BX)("g",{children:[(0,o.tZ)("rect",{x:"1.8",y:"3.7",style:{fill:r},width:"18.5",height:"12.9"}),(0,o.BX)("g",{children:[(0,o.tZ)("path",{className:"st1",d:"M18.5,3V0.8h-6.8V3H1v14.6h20.3V3H18.5z M20,16.3H2.2V4.2h10.8V2.1h4.3v2.1H20V16.3z"}),(0,o.tZ)("rect",{x:"12",y:"2",className:"st1",width:"5.6",height:"2.2"})]})]}),(0,o.tZ)("g",{children:(0,o.tZ)("g",{children:(0,o.tZ)("g",{children:(0,o.tZ)("polygon",{className:"st1",points:"10.3,11.1 16.2,11.1 16.2,9.4 10.3,9.4 10.3,6.9 6.8,10.3 10.3,13.8 "})})})})]})};function $e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ke=function(e){var r=e.pathnames,t=e.username;return(0,o.tZ)(m(),function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){$e(e,r,t[r])}))}return e}({},t?(0,Z.wQ)({pathnames:r,username:t}):(0,Z.xd)({pathnames:r}),{children:(0,o.BX)("a",{className:"jsx-c8d64b9fe66d58f1",children:[(0,o.tZ)("div",{className:"jsx-c8d64b9fe66d58f1 icon",children:(0,o.tZ)(Qe,{fillColor:"var(--background-root)"})}),(0,o.tZ)("div",{className:"jsx-c8d64b9fe66d58f1",children:"(up 1 level)"}),(0,o.tZ)(i(),{id:"c8d64b9fe66d58f1",children:".icon.jsx-c8d64b9fe66d58f1{color:var(--foreground-dimmest);padding:0 8px}a.jsx-c8d64b9fe66d58f1{min-height:64px;display:grid;grid-column-gap:20px;grid-template-columns:40px auto;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default);text-decoration:none}a.jsx-c8d64b9fe66d58f1:hover{background-color:var(--background-higher)}"})]})}))},Ye=(0,t(53566).G)([n.Repl,n.Folder],{drop:function(e){return e.folder}},(function(e,r){return{connectDropTarget:e.dropTarget(),isOver:r.isOver(),canDrop:r.canDrop(),item:r.getItem()}}))((function(e){var r=e.isOver&&e.canDrop&&e.item&&e.item.id!==e.folder.id;return e.connectDropTarget((0,o.BX)("div",{className:"jsx-d463a447cfe14358 "+(h()({"is-active":r})||""),children:[e.children,(0,o.tZ)(i(),{id:"d463a447cfe14358",children:".is-active.jsx-d463a447cfe14358{background:var(--accent-primary-default)}"})]}))})),Je=t(80796),er=function(e){var r=e.loadMore,t=(0,l.useRef)(null);return(0,l.useEffect)((function(){var e=(0,Je.Z)((function(){t.current&&function(e){var r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)}(t.current)&&r()}),200);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[r]),(0,o.tZ)("div",{ref:t})},rr="var(--accent-yellow-dimmer)",tr="var(--accent-yellow-dimmest)",nr="var(--accent-yellow-default)",or=38,ar=69,ir=3,lr={width:or-ir,height:or-4},cr=function(e){var r=e.onClick,t=e.enabled,n=e.title;return(0,o.BX)("div",{onClick:r,title:n,className:i().dynamic([["6bff382a74e8f51b",[ar,or,or,tr,rr,rr,lr.width,lr.height,ir,nr,ar-lr.width-ir]]])+" "+(h()("star-toggle",{"star-toggle-toggled":t})||""),children:[(0,o.BX)("div",{className:i().dynamic([["6bff382a74e8f51b",[ar,or,or,tr,rr,rr,lr.width,lr.height,ir,nr,ar-lr.width-ir]]])+" star-toggle-control",children:[(0,o.tZ)("div",{className:i().dynamic([["6bff382a74e8f51b",[ar,or,or,tr,rr,rr,lr.width,lr.height,ir,nr,ar-lr.width-ir]]])+" star-toggle-icon",children:(0,o.tZ)(we,{stroke:"none",fill:"var(--foreground-dimmest)",name:"star-toggle-icon"})}),(0,o.tZ)("div",{className:i().dynamic([["6bff382a74e8f51b",[ar,or,or,tr,rr,rr,lr.width,lr.height,ir,nr,ar-lr.width-ir]]])+" star-toggle-icon-active",children:(0,o.tZ)(we,{stroke:"none",fill:"var(--background-root)",name:"star-toggle-icon-active"})})]}),(0,o.tZ)(i(),{id:"6bff382a74e8f51b",dynamic:[ar,or,or,tr,rr,rr,lr.width,lr.height,ir,nr,ar-lr.width-ir],children:".star-toggle.__jsx-style-dynamic-selector{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:".concat(ar,"px;height:").concat(or,"px;background-color:var(--background-root);border:1.5px solid var(--outline-dimmest);-webkit-transition:background-color 200ms;-moz-transition:background-color 200ms;-o-transition:background-color 200ms;transition:background-color 200ms;-webkit-border-radius:").concat(or,"px;-moz-border-radius:").concat(or,"px;border-radius:").concat(or,"px;position:relative}.star-toggle.__jsx-style-dynamic-selector:hover{border-color:").concat(tr,"}.star-toggle.star-toggle-toggled.__jsx-style-dynamic-selector{background-color:").concat(rr,";border-color:").concat(rr,"}.star-toggle-control.__jsx-style-dynamic-selector{-webkit-transition:-webkit-transform 200ms;-moz-transition:-moz-transform 200ms;-o-transition:-o-transform 200ms;transition:-webkit-transform 200ms;transition:-moz-transform 200ms;transition:-o-transform 200ms;transition:transform 200ms;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:").concat(lr.width,"px;height:").concat(lr.height,"px;position:absolute;background-color:var(--background-default);top:50%;-webkit-transform:translate(").concat(ir,"px,-50%);-moz-transform:translate(").concat(ir,"px,-50%);-ms-transform:translate(").concat(ir,"px,-50%);-o-transform:translate(").concat(ir,"px,-50%);transform:translate(").concat(ir,"px,-50%)}.star-toggle.star-toggle-toggled.__jsx-style-dynamic-selector .star-toggle-control.__jsx-style-dynamic-selector{background-color:").concat(nr,";-webkit-transform:translate(").concat(ar-lr.width-ir,"px,-50%);-moz-transform:translate(").concat(ar-lr.width-ir,"px,-50%);-ms-transform:translate(").concat(ar-lr.width-ir,"px,-50%);-o-transform:translate(").concat(ar-lr.width-ir,"px,-50%);transform:translate(").concat(ar-lr.width-ir,"px,-50%)}.star-toggle-icon.__jsx-style-dynamic-selector,.star-toggle-icon-active.__jsx-style-dynamic-selector{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.star-toggle-icon.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector,.star-toggle-icon-active.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector{display:block}.star-toggle-icon-active.__jsx-style-dynamic-selector{display:none}.star-toggle-toggled.__jsx-style-dynamic-selector .star-toggle-icon-active.__jsx-style-dynamic-selector{display:block}.star-toggle-toggled.__jsx-style-dynamic-selector .star-toggle-icon.__jsx-style-dynamic-selector{display:none}")})]})};function sr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function dr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){sr(e,r,t[r])}))}return e}var ur=function(e){var r=e.starred,t=e.username,n=(0,T.useRouter)();return(0,o.tZ)(m(),{href:{pathname:n.pathname,query:dr({},r?{}:{starred:!0},{username:t})},as:{pathname:"/@".concat(t),query:dr({},r?{}:{starred:!0},{username:t})},scroll:!1,shallow:!0,children:(0,o.tZ)("a",{children:(0,o.tZ)(cr,{enabled:r,onClick:void 0,title:"toggle starred"})})})},fr=t(55435),pr=t(94590),mr=t(58458),br=t(1517);function hr(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function gr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){vr(e,r,t[r])}))}return e}function yr(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||wr(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e){return function(e){if(Array.isArray(e))return hr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,r){if(e){if("string"===typeof e)return hr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hr(e,r):void 0}}var kr=function(e){var r,t,n=e.path,a=e.starred,l=(0,c.qFo)({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{path:n,starred:a},ssr:!1,notifyOnNetworkStatusChange:!0}),d=l.data,p=l.loading,m=l.refetch,b=l.fetchMore,h=(0,P.Z)(),v=h.showError,g=h.showConfirm,y=yr((0,c.ZJB)({onError:function(e){return v(e.message)},update:function(e,r){var t=r.data;t&&k&&(t.moveItemsToFolder.forEach((function(r){e.modify({id:e.identify({__typename:"ReplFolder",id:k.id}),optimistic:!0,fields:{folders:function(e,t){var n=t.readField;return"ReplFolder"!==r.__typename?e:e.filter((function(e){return n("id",e)!==r.id}))},repls:function(e,t){var n=t.readField;if("Repl"!==r.__typename)return e;var o=e.items.filter((function(e){return n("id",e)!==r.id}));return{pageInfo:e.pageInfo,items:o}}}})})),g("Item moved!"))}}),2),x=y[0],w=y[1],k=d&&d.currentUser&&d.currentUser.replFolderByPath?d.currentUser.replFolderByPath:null,j=d&&(null===(r=d.currentUser)||void 0===r?void 0:r.username),Z=1===(null===k||void 0===k?void 0:k.pathnames.length)&&""===(null===k||void 0===k?void 0:k.pathnames[0])||null===k||void 0===k?void 0:k.id,O=!!a,S=k&&k.folders.length+k.repls.items.length===0,_=k&&1===k.folders.length&&0===k.repls.items.length&&"multiplayer"===k.folders[0].pathnames[0],R=!O&&(S||_)&&((null===k||void 0===k?void 0:k.canEdit)||!Z),C=k&&k.repls.pageInfo.nextCursor?k&&k.repls.pageInfo.nextCursor:null,z=(null===k||void 0===k?void 0:k.ownerId)&&(null===k||void 0===k?void 0:k.ownerId)!==(null===d||void 0===d||null===(t=d.currentUser)||void 0===t?void 0:t.id)?k.ownerId:void 0,N=function(e){if(!w.loading){var r="repl"in e?[e.repl.id]:[],t="folder"in e?[e.folder.id]:[];x({variables:{replIds:r,folderIds:t,destFolderId:e.to.id,teamId:z}})}};return!d&&p?(0,o.BX)("div",{className:"jsx-4c0e34e662959d8a spinner",children:[(0,o.tZ)(br.Z,{}),(0,o.tZ)(i(),{id:"4c0e34e662959d8a",children:".spinner.jsx-4c0e34e662959d8a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px;width:100%;height:100%}"})]}):k?(0,o.BX)("div",{className:"jsx-e3beffd3c693c100",children:[(0,o.BX)("div",{className:"jsx-e3beffd3c693c100 header",children:[R||!k.canCreateSubFolders&&Z?(0,o.tZ)("div",{className:"jsx-e3beffd3c693c100"}):(0,o.tZ)("div",{className:"jsx-e3beffd3c693c100 new-folder",children:(0,o.tZ)(qe,{onCreate:m,parentId:Z,teamId:z})}),(0,o.tZ)(ur,{starred:!!a,username:j})]}),(0,o.tZ)("div",{className:"jsx-e3beffd3c693c100 spacer"}),(0,o.tZ)(s.Z,{children:(0,o.BX)("div",{className:"jsx-e3beffd3c693c100",children:[k.parent&&k.canEdit&&(0,o.tZ)("div",{className:"jsx-e3beffd3c693c100",children:(0,o.tZ)(Ye,{folder:k.parent,children:(0,o.tZ)(Ke,{pathnames:k.parent.pathnames,username:j})})}),k.parent&&!k.canEdit&&(0,o.tZ)(Ke,{pathnames:k.parent.pathnames,username:j}),O?null:k.folders.map((function(e){return e.canEdit?(0,o.tZ)(Ye,{folder:e,children:(0,o.tZ)(f,{onMove:N,folder:e,children:(0,o.tZ)(ie,{onDelete:m,folder:e,teamId:z,username:j,onMove:m})})},e.id):(0,o.tZ)(ie,{onDelete:m,teamId:z,username:j,onMove:m,folder:e},e.id)})),k.repls.items.map((function(e){return(0,o.tZ)(u,{onMove:N,repl:e,children:(0,o.tZ)(We,{repl:e,onMove:m,onDelete:m,teamId:z})},e.id)})),R&&(0,o.BX)("div",{className:"jsx-e3beffd3c693c100 cta-box",children:[(0,o.tZ)(mr.Z,{children:"You don\u2019t seem to have anything in here."}),(0,o.tZ)("br",{className:"jsx-e3beffd3c693c100"}),(0,o.tZ)(mr.Z,{children:"Let\u2019s change that!"}),(0,o.BX)("div",{className:"jsx-e3beffd3c693c100 button-container",children:[(0,o.tZ)("div",{className:"jsx-e3beffd3c693c100 cta-button",children:(0,o.tZ)(qe,{onCreate:m,parentId:Z,teamId:z})}),(0,o.tZ)("div",{className:"jsx-e3beffd3c693c100 cta-button",children:(0,o.tZ)(fr.Z,{trackingContext:"repl folder",children:(0,o.tZ)(E.ZP,{iconLeft:(0,o.tZ)(pr.Z,{}),text:"New Repl"})})})]})]})]})}),p?(0,o.tZ)("div",{className:"jsx-e3beffd3c693c100 load-more-spinner",children:(0,o.tZ)(br.Z,{})}):null,C&&!p?(0,o.tZ)(er,{loadMore:function(){C&&!p&&b({variables:{path:n,starred:a,after:C},updateQuery:function(e,r){var t=r.fetchMoreResult;return e&&e.currentUser&&e.currentUser.replFolderByPath&&t&&t.currentUser&&t.currentUser.replFolderByPath?{currentUser:gr({},t.currentUser,{replFolderByPath:gr({},t.currentUser.replFolderByPath,{repls:{pageInfo:gr({},t.currentUser.replFolderByPath.repls.pageInfo),items:xr(e.currentUser.replFolderByPath.repls.items).concat(xr(t.currentUser.replFolderByPath.repls.items))}})})}:e}})}}):null,(0,o.tZ)(i(),{id:"e3beffd3c693c100",children:".cta-box.jsx-e3beffd3c693c100{margin:15px auto;padding:40px 25px 30px 25px;border-style:dashed;border-color:var(--outline-dimmer);-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;border-width:thin;text-align:center;max-width:500px}.empty-state.jsx-e3beffd3c693c100{margin:40px auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;color:var(--outline-default)}.button-container.jsx-e3beffd3c693c100{margin-top:15px}.cta-button.jsx-e3beffd3c693c100{padding:5px;display:grid;vertical-align:middle}.content.jsx-e3beffd3c693c100{margin-left:4px}.spacer.jsx-e3beffd3c693c100{height:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}@media screen and (min-width:450px){.cta-button.jsx-e3beffd3c693c100{padding:5px;display:inline-block;vertical-align:middle}}.spinner.jsx-e3beffd3c693c100{width:100%;height:100%}.spinner.jsx-e3beffd3c693c100,.load-more-spinner.jsx-e3beffd3c693c100{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px}.header.jsx-e3beffd3c693c100{display:grid;grid-template-columns:1fr auto auto;grid-column-gap:20px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.empty-folder.jsx-e3beffd3c693c100{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.new-folder.jsx-e3beffd3c693c100{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.empty-folder.jsx-e3beffd3c693c100 *.jsx-e3beffd3c693c100{padding:var(--space-16)}"})]}):(0,o.BX)("div",{className:"jsx-b9539186b6f901cf",children:[(0,o.tZ)(mr.Z,{children:"Unable to fetch repls. Please try again."}),(0,o.tZ)(i(),{id:"b9539186b6f901cf",children:"div.jsx-b9539186b6f901cf{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-16)}"})]})}},96175:function(e,r,t){var n=t(35944),o=t(79547),a=t.n(o),i=t(67294),l=t(41664),c=t.n(l),s=t(15853),d=t(58458);function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){u(e,r,t[r])}))}return e}r.Z=function(e){var r=e.links,t=e.username;return(0,n.BX)("div",{className:"jsx-d127d53140f59bd8",children:[(0,n.tZ)(d.Z,{size:"small",children:r.map((function(e,o){var a=e.pathnames,l=e.text;return(0,n.BX)(i.Fragment,{children:[o===r.length-1?l:(0,n.tZ)(c(),f({},t?(0,s.wQ)({pathnames:a,username:t}):(0,s.xd)({pathnames:a}),{children:(0,n.tZ)("a",{className:"jsx-d127d53140f59bd8",children:l})})),(0,n.tZ)("span",{className:"jsx-d127d53140f59bd8",children:"/"})]},a.join("/"))}))}),(0,n.tZ)(a(),{id:"d127d53140f59bd8",children:"div.jsx-d127d53140f59bd8{font-size:14px}span.jsx-d127d53140f59bd8{color:var(--foreground-dimmer)}"})]})}}}]);
//# sourceMappingURL=2610-e8cbb79c9403d52e.js.map