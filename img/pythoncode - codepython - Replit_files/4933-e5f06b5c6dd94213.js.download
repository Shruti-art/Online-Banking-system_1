"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4933],{68948:function(e,t,n){var r=n(35944),o=n(79547),i=n.n(o),l=n(67294),a=n(8996),u=n(99345),c=n(23139),s=n(33891);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(e){var t=e.title,n=void 0===t?"Sign up":t,o=e.description,d=void 0===o?"Code, create, and learn together on Replit":o,m=e.onSuccess,h=void 0===m?function(){}:m,b=e.onFailure,y=void 0===b?function(){}:b,v=e.onAnonSuccess,g=void 0===v?function(){}:v,Z=e.showLoginFirst,w=void 0!==Z&&Z,x=e.isTeacher,S=void 0!==x&&x,C=e.toggleTeacher,A=void 0===C?function(){}:C,k=e.allowAnon,O=void 0!==k&&k,R=e.showForm,j=void 0===R||R,T=e.showSuccess,P=void 0!==T&&T,B=e.source,I=p(l.useState(w),2),E=I[0],D=I[1];return(0,r.BX)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal",children:[(0,r.BX)(a.gC,{align:"center",spacing:2,children:[(0,r.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-title",children:n}),(0,r.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-description",children:d}),(0,r.tZ)(s.Z,{path:"/public/animations/success.json",css:[c.l0.position.absolute,c.l0.left(0),c.l0.top(0),c.l0.right(0)],show:P})," ",j&&(0,r.tZ)(u.Z,{onChangeAuth:function(){D(!E)},isTeacher:S,isLogin:E,onSubmit:function(e){"error"in e?y(e):"user"in e&&h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},e,{isLogin:E}))},toggleTeacher:A,source:B}),O&&(0,r.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-anon",children:(0,r.tZ)("a",{onClick:g,role:"button",tabIndex:0,onKeyDown:g,className:"jsx-17a5f6998e0a3cdd",children:"continue as Anonymous"})})]}),(0,r.tZ)(i(),{id:"17a5f6998e0a3cdd",children:".auth-modal.jsx-17a5f6998e0a3cdd{max-width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--space-32)var(--space-16)}.title-container.jsx-17a5f6998e0a3cdd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:var(--space-16)}.auth-modal-title.jsx-17a5f6998e0a3cdd{text-align:center;color:var(--foreground-default);font-size:var(--font-size-header-big);font-weight:var(--font-weight-medium)}.auth-modal-description.jsx-17a5f6998e0a3cdd{text-align:center;color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default)}.auth-modal-anon.jsx-17a5f6998e0a3cdd{margin-top:14px;font-size:14px}.auth-modal-anon.jsx-17a5f6998e0a3cdd a.jsx-17a5f6998e0a3cdd{color:var(--accent-primary-default);text-decoration:none;cursor:pointer}"})]})}},15985:function(e,t,n){var r=n(35944),o=n(54929),i=n(3204),l=n(92704),a=n(24388);t.Z=function(e){return(0,r.BX)(o.Z,{css:[i.l0.rowWithGap(2),i.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(l.ZP,{colorway:e.colorway,iconLeft:e.icon,stretch:!0,onClick:e.onClick,text:e.text,css:[i.l0.flex.growAndShrink(1),i.l0.borderRadius(8,0,0,8)]}),(0,r.tZ)(l.ZP,{colorway:e.colorway,onClick:e.onCountClick,text:(0,a.d)(e.count),css:[i.l0.borderRadius(1,8,8,1)]})]})}},45311:function(e,t,n){var r=n(67294),o=n(56834),i=n(30381),l=n.n(i),a=n(44894),u=n(11163),c=n(34155);t.Z=function(e){var t=e.flagName,n=e.treatmentProportion,i=e.startDate,s=e.stopDate,d=e.forceFlagReturn;if(n>1||n<0)throw new Error("Invalid treatment proportion: ".concat(n,". Must be between 0 and 1."));if(i&&s&&i>s)throw new Error("Invalid start/stop dates: ".concat(i,"/").concat(s,". Start date must be before stop date."));var f=(0,r.useState)({isGateReady:!1,isUserGated:!1}),p=f[0],m=f[1],h=(0,u.useRouter)();return(0,r.useEffect)((function(){var e=h.query.abTestForce;if(e)m({isGateReady:!0,isUserGated:"treatment"===e});else if("true"!==c.env.IS_CYPRESS_AUTOMATED_TEST||d)if(s&&l().utc()>s||i&&l().utc()<i)m({isGateReady:!0,isUserGated:!1});else{var r=t.replace(/-/g,"_"),u=function(e,t){var n=a.Z.get(e,"boolean");return null==n&&(n=Math.random()<=t,a.Z.set(e,n)),n}("gate_".concat(r),n);m({isGateReady:!0,isUserGated:u}),(0,o.AI)({gating:[{type:"boolean",value:u,controlName:r}]})}else m({isGateReady:!0,isUserGated:!1})}),[]),p}},25514:function(e,t,n){var r=n(35944),o=n(67294),i=n(88768),l=n(38880),a=n(8286),u=n(94590),c=n(23139),s=n(68948),d=n(56834);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(e){var t=e.user,n=e.subtle,f=h(e,["user","subtle"]),p=n?void 0:"primary",y=b(o.useState(!1),2),v=y[0],g=y[1],Z=t.isFollowedByCurrentUser,w=(0,l.Z)().showError,x=b((0,i.OW$)({onCompleted:function(e){var t,n,r;"NotFoundError"===(null===(t=e.setFollowing)||void 0===t?void 0:t.__typename)&&w(e.setFollowing.message),"UserError"===(null===(n=e.setFollowing)||void 0===n?void 0:n.__typename)&&w(e.setFollowing.message),"UnauthorizedError"===(null===(r=e.setFollowing)||void 0===r?void 0:r.__typename)&&g(!0)},optimisticResponse:function(e){var n=e.input.shouldFollow;if(!t)return{};var r=n?1:-1,o=Math.max(0,t.followerCount+r);return{__typename:"RootMutationType",setFollowing:{__typename:"FollowResult",targetUser:m({__typename:"User"},t,{followerCount:o,isFollowedByCurrentUser:n})}}}}),1)[0];return(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.zx,m({type:"button"},f,{colorway:Z?void 0:p,text:Z?"Following":"Follow",iconLeft:Z?(0,r.tZ)(a.Z,{}):(0,r.tZ)(u.Z,{}),onClick:function(e){e.stopPropagation(),x({variables:{input:{targetUserId:t.id,shouldFollow:!Z}}}),Z||(0,d.j)(d.U3.USER_FOLLOWED)}})),(0,r.tZ)(c.u_,{onRequestClose:function(){return g(!1)},isOpen:v,children:(0,r.tZ)(s.Z,{onSuccess:function(){(0,d.j)(d.U3.SIGNUP_FROM_FOLLOW_BUTTON_SUCCESSFUL)},onFailure:function(e){var t=e.error;w(t)},title:"Sign up to follow your favorite Replers.",description:"You\u2019ll then be able to follow "+t.username})})]})}},23573:function(e,t,n){n.d(t,{Z:function(){return M},S:function(){return X}});var r=n(34051),o=n.n(r),i=n(35944),l=n(67294),a=n(88768),u=n(27291),c=n(16496),s=n.n(c),d=n(18651),f=n(96594);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=n(81193),b=n(96076),y=n(72829),v=n(45309);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t,n,r,o,i,l){try{var a=e[i](l),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,o)}function w(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){var t=(0,l.useRef)(null),n=(0,u.Z)(e.onChange),r=(0,u.Z)(e.onError),i=(0,l.useCallback)((function(e){t.current=e}),[]),a=(0,l.useCallback)(function(){var e,i=(e=o().mark((function e(i){var l,a,u,c,s,d,f,p,m,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=t.current){e.next=3;break}return e.abrupt("return");case 3:return a=l.value,u=l.selectionStart?l.selectionStart:a.length,c=i.map((function(e){return"![Uploading ".concat(e.name,"...]()")})),s=a.substr(0,u),d=a.substr(u),f=w(c),s&&f.unshift(s),d&&f.push(d),n.current(f.join("\n")),p=[],e.prev=13,e.next=16,(0,b.L0)(i);case 16:p=e.sent,e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(13),r.current(e.t0),e.abrupt("return");case 23:return m=[],e.prev=24,e.next=27,Promise.all(p.map((function(e){return(0,y.mh)(e,v.N.CommunityPost)})));case 27:m=e.sent,e.next=34;break;case 30:return e.prev=30,e.t1=e.catch(24),r.current(e.t1),e.abrupt("return");case 34:if(t.current){e.next=36;break}return e.abrupt("return");case 36:h=c.reduce((function(e,t,n){var r,o,l=i[n].name.replace(/\.[^/.]+$/,""),a=m[n],u=(r=a,(null!=(o=Error)&&"undefined"!==typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](r):r instanceof o)?"Error uploading":a.url);return e.replace(t,"![".concat(l,"](").concat(u,")"))}),t.current.value),n.current(h);case 38:case"end":return e.stop()}}),e,null,[[13,19],[24,30]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){Z(i,r,o,l,a,"next",e)}function a(e){Z(i,r,o,l,a,"throw",e)}l(void 0)}))});return function(e){return i.apply(this,arguments)}}(),[n,r]),c=(0,l.useCallback)((function(e){var t=Array.from(e.clipboardData.items).filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()})).filter((function(e){return null!==e}));t.length&&a(t)}),[a]);return{ref:i,handleFiles:a,handlePaste:c}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){var t=e.initialValue,n=e.textTriggers,r=(0,l.useState)(t||""),o=r[0],i=r[1],a=(0,l.useRef)(null),u=function(e){var t=e.textTriggers,n=e.applySuggestion,r=(0,l.useRef)(null),o=m((0,d.Z)(t),2),i=o[0].suggestions,a=o[1],u=(0,f.Kb)({items:(null===i||void 0===i?void 0:i.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(i),onSelectedItemChange:function(e){var t=e.selectedItem;if(i&&t){var o=r.current;if(o){var l=i.applySuggestion({targetValue:o.value,suggestionValue:t.value}),a=l.fullValue,u=l.cursorIndex;n({fullValue:a,cursorIndex:u})}}}}),c=(0,l.useMemo)((function(){if(i&&r.current)return s()(r.current,i.textTrigger.index)}),[i]);return{ref:(0,l.useCallback)((function(e){r.current=e,a(e)}),[a]),suggestions:null===i||void 0===i?void 0:i.results,caretCoordinates:c,combobox:u}}({textTriggers:n,applySuggestion:function(e){var t=e.cursorIndex,n=e.fullValue;i(n),setTimeout((function(){a.current&&a.current.setSelectionRange(t,t)}))}}),c=u.combobox,p=u.caretCoordinates,b=u.suggestions,y=u.ref,v=x({onChange:i,onError:function(){}}),g=v.handleFiles,Z=v.handlePaste,w=v.ref,S=C((0,h.Z)((function(e){null!==e&&g(e)})),2)[1],A=(0,l.useCallback)((function(e){a.current=e,y(e),w(e)}),[y,w]),k=(0,l.useCallback)((function(e,t){var n;null===(n=a.current)||void 0===n||n.setSelectionRange(e,t)}),[]);return{ref:A,value:o,setValue:i,dropZoneHandlers:S,handlePaste:Z,combobox:c,caretCoordinates:p,suggestions:b,setSelectionRange:k}}var k=n(534),O=n(85060),R=n(89957),j=n(3204),T=n(79162),P=n(45718),B=n(54929),I=n(87152);function E(e,t,n,r,o,i,l){try{var a=e[i](l),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){E(i,r,o,l,a,"next",e)}function a(e){E(i,r,o,l,a,"throw",e)}l(void 0)}))}}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}var G=(0,B.K)("div"),_=(0,B.K)("li");function X(e){return H.apply(this,arguments)}function H(){return(H=D(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.l){e.next=2;break}throw new Error("Expected apolloClient");case 2:return e.next=4,I.l.query({query:a.ofZ,variables:{query:t,limit:5}});case 4:return n=e.sent.data,e.abrupt("return",n.usernameSearch);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var t,n=e.onChange,r=e.initialValue,a=e.autoFocus,c=e.placeholder,s=e.onKeyDown,d=e.onBlur,f=e.onFocus,p=e.userSearch,m=(0,l.useRef)(r),h=(0,u.Z)(n),b=function(e){var t=e.initialValue,n=e.userSearch,r=void 0===n?X:n,l=A({initialValue:t,textTriggers:{"@":function(){var e=D(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{icon:(0,i.tZ)(k.Z,{alt:e.username,src:e.image,size:16}),value:e.username}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}});return l}({initialValue:r,userSearch:p}),y=b.setSelectionRange;return(0,O.Z)((function(){h.current(b.value)}),[b.value]),(0,l.useEffect)((function(){if(a&&m.current){var e=m.current.length;y(e,e)}}),[a,y]),(0,i.BX)(G,W({css:{position:"relative"}},b.combobox.getComboboxProps(),{children:[(0,i.tZ)(R.B,W({},b.combobox.getInputProps({placeholder:c||"Write something about this post",ref:b.ref,onKeyDown:function(e){b.combobox.isOpen||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.nativeEvent.preventDownshiftDefault=!0),s&&s(e)},onBlur:d,onFocus:f,value:b.value,onChange:function(e){return b.setValue(e.currentTarget.value)},onPaste:b.handlePaste,autoFocus:a}),{css:[j.l0.width("100%"),{minHeight:120,resize:"vertical"}]})),(0,i.tZ)(G,W({},b.combobox.getMenuProps(),{css:[{position:"absolute"},b.caretCoordinates&&{top:b.caretCoordinates.top+b.caretCoordinates.height,left:b.caretCoordinates.left-4}],children:(null===(t=b.suggestions)||void 0===t?void 0:t.length)?(0,i.tZ)(T.Z,{css:{position:"relative",maxWidth:180},children:b.suggestions.map((function(e,t){return(0,i.tZ)(_,W({},b.combobox.getItemProps({item:e,index:t}),{children:(0,i.tZ)(P.Z,{title:e.value,selected:b.combobox.selectedItem===e,highlighted:b.combobox.highlightedIndex===t,icon:e.icon?(0,i.tZ)(B.Z,{children:e.icon}):void 0})}),e.value)}))}):null}))]}))}},21555:function(e,t,n){n.d(t,{EQ:function(){return D},Ex:function(){return I},Sh:function(){return E},Yt:function(){return R},g4:function(){return C},l0:function(){return P},nQ:function(){return k},pl:function(){return T},tE:function(){return A},wb:function(){return j}});var r=n(35944),o=n(67294),i=n(9917),l=n(22546),a=n(64711),u=n(54929),c=n(92704),s=n(3204),d=n(50553),f=n(67938),p=n(7163),m=n(6618),h=n(23573),b=n(84409),y=n(46253),v=n(29698),g=n(51095),Z=n(81970),w=n(81736),x=n(23589),S=n(58375);function C(e){var t=e.onClick;return(0,r.tZ)(c.ZP,{small:!0,onClick:t,outlined:!0,text:"Reply",colorway:"primary",css:[s.l0.p(4),{background:"transparent",borderColor:"transparent"}]})}function A(e){var t=e.onClick,n=e.repliesCount,o=e.isExpanded,i="".concat(o?"Hide":"View"," ").concat(n," ").concat((0,a.Z)("reply",n));return(0,r.tZ)(c.ZP,{small:!0,onClick:t,outlined:!0,text:i,css:[s.l0.color.foregroundDimmer,s.l0.p(4),{background:"transparent",borderColor:"transparent","&> span":{marginRight:2}}],iconRight:(0,r.tZ)(d.Z,{size:12,rotate:o?0:270})})}var k,O=(0,u.K)("a");function R(e){var t=e.user;return(0,r.tZ)(m.Z,{username:t.username,children:(0,r.tZ)(p.ZP,{user:t,children:(0,r.tZ)(b.Z,{size:32,username:t.username,src:t.image})})})}function j(e){var t=e.user,n=e.action,o=e.timeCreated;return(0,r.BX)(u.Z,{css:[s.l0.align.center,s.l0.rowWithGap(4)],children:[(0,r.tZ)(m.Z,{username:t.username,children:(0,r.tZ)(p.ZP,{user:t,children:(0,r.tZ)(O,{css:[{color:"inherit"}],children:t.username})})}),n?(0,r.tZ)(f.x,{color:"dimmer",children:n}):null,(0,r.tZ)(f.x,{color:"dimmest",variant:"small",children:(new Date).getTime()-new Date(o).getTime()<1e3?"just now":(0,i.F)(o)})]})}function T(e){var t=e.canEdit,n=e.canDelete,i=e.canReport,a=e.canEditSettings,c=e.canHideComment,s=e.canShowComment,d=e.onAction,f=e.className,p=(0,o.useState)(!1),m=p[0],h=p[1],b=[];return t&&b.push({label:k.Edit,icon:(0,r.tZ)(v.Z,{})}),i&&b.push({label:k.Report,icon:(0,r.tZ)(g.Z,{})}),a&&b.push({label:k.Settings,icon:(0,r.tZ)(Z.Z,{})}),c&&b.push({label:k.Hide,icon:(0,r.tZ)(w.Z,{})}),s&&b.push({label:k.Show,icon:(0,r.tZ)(x.Z,{})}),n&&b.push({label:k.Delete,isDestructive:!0,icon:(0,r.tZ)(S.Z,{})}),b.length?(0,r.tZ)(u.Z,{className:f,css:[{opacity:m?1:0,".is-touch-device &":{opacity:1}}],children:(0,r.tZ)(l.Z,{onOpenChange:h,items:b,onItemClick:function(e){d(e.label)}})}):null}!function(e){e.Edit="Edit",e.Delete="Delete",e.Report="Report",e.Settings="Settings",e.Hide="Hide Comment",e.Show="Show Comment"}(k||(k={}));var P=(0,u.K)("form"),B=o.createContext(void 0);function I(){return o.useContext(B)}var E=B.Provider;function D(e){var t=e.initialValue,n=e.placeholder,i=e.onCancel,l=e.onSubmit,a=e.hideControls,d=e.buttonText,p=void 0===d?"Comment":d,m=e.error,b=(0,o.useState)(!1),v=b[0],g=b[1],Z=(0,o.useState)(t),w=Z[0],x=Z[1],S=I();return(0,r.BX)(P,{css:[s.l0.colWithGap(8)],onSubmit:function(e){e.preventDefault(),l(w)},children:[(0,r.tZ)(h.Z,{onKeyDown:function(e){"Enter"===e.key&&e.metaKey&&l(w)},initialValue:w,placeholder:n,onChange:x,onFocus:function(){return g(!0)},userSearch:S}),m?(0,r.BX)(u.Z,{css:[s.l0.display.block],children:[(0,r.tZ)(f.x,{css:[s.l0.color.redDefault],children:m})," ",(0,r.BX)(f.x,{children:["For more information,"," ",(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/browsing-publishing-repls",target:"_blank",children:"check out the guidelines."})]})]}):null,v||!a?(0,r.BX)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.justify.end],children:[(0,r.tZ)(c.ZP,{text:"Cancel",onClick:function(e){g(!1),i&&i(e)}}),(0,r.tZ)(c.ZP,{type:"submit",text:p,onClick:function(){},iconLeft:(0,r.tZ)(y.Z,{}),colorway:"primary",disabled:!w})]}):null]})}},94933:function(e,t,n){n.d(t,{G:function(){return Fe},Z:function(){return Ve}});var r=n(35944),o=n(67294),i=n(88768),l=n(66658),a=n(34051),u=n.n(a),c=n(3204),s=n(11163),d=n(23139),f=n(35013),p=n(54929),m=n(67938),h=n(38880),b=n(64711),y=n(70294);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){var t=e.count;return t>0?(0,r.BX)(p.Z,{css:[c.l0.rowWithGap(4),c.l0.align.center],children:[(0,r.tZ)(m.x,{children:t}),(0,r.tZ)(m.x,{color:"dimmer",children:(0,b.Z)("comment",t)})]}):(0,r.tZ)(m.x,{color:"dimmer",multiline:!0,children:"No comments yet"})}function S(e){var t,n=e.repl,o=(0,h.Z)(),l=o.showConfirm,a=o.showError,u=w((0,i.k2b)({onError:function(e){return a(e.message)},onCompleted:function(e){var t,n=e.setReplCommentSettings;"UserError"!==n.__typename?"Repl"===n.__typename&&l("Comments "+((null===(t=n.commentSettings)||void 0===t?void 0:t.enabled)?"enabled":"disabled")):a(n.message)}}),1)[0],s=!(null===n||void 0===n?void 0:n.commentSettings)||n.commentSettings.enabled;return(0,r.BX)(p.Z,{css:[c.l0.rowWithGap(8),c.l0.justify.spaceBetween,c.l0.align.center],children:[s?(0,r.tZ)(x,{count:n.commentCount}):(0,r.tZ)(m.x,{color:"dimmer",multiline:!0,children:"Adding comments has been turned off for this Repl."}),(null===(t=n.currentUserPermissions)||void 0===t?void 0:t.changeCommentSettings)&&(0,r.BX)(p.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center],children:[(0,r.tZ)(m.x,{children:"Allow comments"}),(0,r.tZ)(y.Z,{isOn:s,onChange:function(){return u({variables:{input:{replId:n.id,enabled:!s}},optimisticResponse:{setReplCommentSettings:Z({},n,{commentSettings:{__typename:"ReplCommentSetting",id:-1,enabled:!s}})}})}})]})]})}var C=n(23573),A=n(21555);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,o,i,l){try{var a=e[i](l),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,o)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){R(e,t,n[t])}))}return e}function T(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){return function(){var t,n=(t=u().mark((function t(n){var r,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===n||void 0===n?void 0:n.toLowerCase(),!((o=e.filter((function(e){return!r||e.username.toLowerCase().includes(r)}))).length<5&&n)){t.next=7;break}return t.next=5,(0,C.S)(n);case 5:t.sent.forEach((function(e){o.some((function(t){return t.username===e.username}))||o.push(e)}));case 7:return t.abrupt("return",o.slice(0,5));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function l(e){O(i,r,o,l,a,"next",e)}function a(e){O(i,r,o,l,a,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}()}function B(e){var t,n,l=e.replId,a=(0,s.useRouter)().query,u=(0,i.ex8)({variables:{replId:l,after:a.after?a.after.toString():void 0}}),p=u.data,m=u.loading,h=u.fetchMore,b=u.refetch,y="Repl"===(null===p||void 0===p?void 0:p.repl.__typename)?p.repl:null,v=!(!y||"User"!==(null===(t=y.owner)||void 0===t?void 0:t.__typename))&&(null===y||void 0===y?void 0:y.owner.isBlockingCurrentUser),g=null===p||void 0===p?void 0:p.currentUser,Z=null===y||void 0===y?void 0:y.comments.pageInfo,w=(0,o.useMemo)((function(){return y&&g?function(e){var t,n=e.repl,r=e.currentUser,o="User"===(null===(t=n.owner)||void 0===t?void 0:t.__typename)?R({},n.owner.username,n.owner):{};return n.comments.items.forEach((function(e){e.user&&(o[e.user.username]=e.user),e.replies&&e.replies.forEach((function(e){(null===e||void 0===e?void 0:e.user)&&(o[e.user.username]=e.user)}))})),n.multiplayers.forEach((function(e){o[e.username]=e})),r&&delete o[r.username],Object.values(o)}({repl:y,currentUser:g}):[]}),[y,g]),x=!(null===y||void 0===y?void 0:y.commentSettings)||y.commentSettings.enabled,C=P(w);return(0,r.BX)(d.G7,{css:[c.l0.colWithGap(16)],children:[y&&!v?(0,r.BX)(r.HY,{children:[(0,r.BX)(A.Sh,{value:C,children:[(0,r.tZ)(S,{repl:y}),g&&x?(0,r.tZ)(f.H,{onComment:function(){return b()},replId:y.id,placeholder:y?"Say something about ".concat(y.title):""}):null,null===(n=y.comments)||void 0===n?void 0:n.items.filter((function(e){var t;return Boolean(null===e||void 0===e||null===(t=e.currentUserPermissions)||void 0===t?void 0:t.canHideComment)||!e.isHidden})).map((function(e){return(0,r.tZ)(f.x,{commentsEnabled:x,comment:e,onReply:function(){return b()},onDelete:function(){return b()}},e.id)}))]}),(null===Z||void 0===Z?void 0:Z.nextCursor)&&y?(0,r.tZ)(d.G7,{children:(0,r.tZ)("a",{href:y.url+"?after="+Z.nextCursor,onClick:function(e){e.preventDefault(),m||h({variables:{after:Z.nextCursor},updateQuery:function(e,t){if(!t||!t.fetchMoreResult)return e;var n="Repl"===e.repl.__typename?e.repl:null;if(!n)return e;var r=t.fetchMoreResult,o="Repl"===r.repl.__typename?r.repl:null;return o?j({},r,{repl:j({},o,{comments:j({},o.comments,{items:T(n.comments.items).concat(T(o.comments.items))})})}):e}})},children:m?"Loading...":"Load more comments"})}):null]}):null,y&&v?(0,r.BX)(d.G7,{css:[c.l0.colWithGap(24),c.l0.align.center,c.l0.textAlign.center],children:[(0,r.tZ)(d.xv,{variant:"subheadBig",multiline:!0,children:"You\u2019re blocked"}),(0,r.BX)(d.xv,{children:["You can\u2019t follow, comment or see"," ",y.owner&&"User"===y.owner.__typename?y.owner.username:"user","\u2019s Repls on their profile."]})]}):null]})}var I=n(56834),E=n(16055),D=n(70917),U=n(92704),W=n(73345),G=n(94590),_=n(73248),X=n(29698),H=n(46253),M=n(44054),F=n(74302),V=n(28747),z=n(7177),L=n(68948),N=n(30666),q=n(41664),$=n.n(q),K=n(8046),Q=n(53524),Y=n(71431),J=n(7163),ee=n(6618),te=n(22213),ne=n(90193),re=n(53009),oe=n(89431),ie=n(24388),le=n(25514);function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ae(e,t,n[t])}))}return e}var ce=(0,p.K)("a"),se={template:{background:c.TV.yellowDimmest,foreground:c.TV.yellowStrongest},app:{background:c.TV.accentPrimaryDimmest,foreground:c.TV.accentPrimaryStrongest}};function de(e){var t=e.colorway,n=e.text;return(0,r.tZ)(p.Z,{css:[{backgroundColor:t.background},c.l0.borderRadius(8),c.l0.px(4),c.l0.py(2)],children:(0,r.tZ)(p.Z,{css:[{color:t.foreground,fontSize:c.TV.fontSizeSmall}],children:n})})}function fe(e){var t,n,o,l,a,u,s,d,f=e.repl,h=e.currentUser,b=(0,oe.Z)("flag-follow-rollout"),y=f.owner,v=f.lastPublishedAt||(null===(t=f.deployment)||void 0===t||null===(n=t.activeRelease)||void 0===n?void 0:n.timeCreated),g=y&&y.id===(null===h||void 0===h?void 0:h.id);return(0,r.BX)(p.Z,{css:[c.l0.colWithGap(32)],children:[(0,r.BX)(p.Z,{css:[c.l0.colWithGap(16)],children:[(0,r.tZ)(p.Z,{css:[c.l0.rowWithGap(8),c.l0.align.start],children:(0,r.BX)(p.Z,{css:[c.l0.colWithGap(8),c.l0.flex.growAndShrink(1)],children:[(0,r.BX)(p.Z,{css:(s={},ae(s,"@media (max-width: ".concat(M.j.tabletMin-1,"px)"),[c.l0.colWithGap(8)]),ae(s,"@media (min-width: ".concat(M.j.tabletMin,"px)"),[c.l0.rowWithGap(8),c.l0.justify.spaceBetween,c.l0.align.center]),s),children:[y?(0,r.tZ)(r.HY,{children:(0,r.BX)(p.Z,{css:[c.l0.rowWithGap(16),c.l0.align.center],children:[(0,r.tZ)(ee.Z,{inline:!0,username:y.username,children:(0,r.tZ)(J.ZP,{user:y,children:(0,r.tZ)(ce,{css:[c.l0.color.foregroundDefault],children:(0,r.tZ)(Y.Z,{username:y.username,src:(null===y||void 0===y?void 0:y.image)||null})})})}),b&&(0,r.BX)(r.HY,{children:[!g&&(0,r.tZ)(le.Z,{subtle:!0,small:!0,user:y}),(0,r.tZ)(m.x,{color:"dimmer",children:"User"===y.__typename&&y.followerCount>0?(0,ie.d)(y.followerCount)+(d=y.followerCount,d>1?" followers":" follower"):null})," "]})]})}):(0,r.tZ)(Y.Z,{small:!0,src:null,username:"[deleted]"}),(null===(o=f.source)||void 0===o||null===(l=o.deployment)||void 0===l||null===(a=l.repl)||void 0===a?void 0:a.owner)&&(0,r.BX)(p.Z,{css:[c.l0.rowWithGap(4),c.l0.align.center],children:[(0,r.tZ)(m.x,{color:"dimmest",children:"Made with "}),(0,r.tZ)($(),ue({},(0,F.aq)(f.source.deployment.repl),{children:(0,r.BX)(ce,{css:[c.l0.rowWithGap(4),c.l0.align.center,c.l0.color.foregroundDefault],children:[(0,r.tZ)(re.ZP,{size:24,alt:f.source.deployment.repl.templateLabel,iconUrl:f.source.deployment.repl.iconUrl}),(0,r.tZ)(m.x,{children:f.source.deployment.repl.templateLabel})]})}))]})]}),(0,r.BX)(p.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center],children:[f.publishedAs===i.O2h.Template?(0,r.tZ)(de,{colorway:se.template,text:"Template"}):null,f.publishedAs===i.O2h.App?(0,r.tZ)(de,{colorway:se.app,text:"App"}):null,v?(0,r.BX)(m.x,{color:"dimmer",variant:"small",children:["Published on"," ",new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}):null,(null===(u=f.origin)||void 0===u?void 0:u.owner)?(0,r.BX)(m.x,{color:"dimmer",variant:"small",children:["Forked from"," ",(0,r.tZ)(J.ZP,{user:f.origin.owner,children:(0,r.tZ)("a",{children:f.origin.owner.username})}),"/",(0,r.tZ)($(),ue({},(0,F.aq)(f.origin),{children:(0,r.tZ)("a",{children:f.origin.title})}))]}):null]})]})}),f.tags.length?(0,r.tZ)(p.Z,{children:(0,r.tZ)(p.Z,{tag:"ul","aria-label":"Tags",css:[{flexWrap:"wrap",margin:"calc(".concat(c.TV.space4," * -1)")},c.l0.flex.row],children:f.tags.map((function(e){var t=(0,te.M6)(e.id);return(0,r.tZ)("li",{css:{listStyle:"none"},children:(0,r.tZ)(ne.Z,{text:"#"+e.id,css:[{margin:c.TV.space4}],href:t.href,as:t.as})},e.id)}))})}):null,f.description?(0,r.tZ)(Q.Z,{children:(0,r.tZ)(p.Z,{css:{"&& > .rendered-markdown":{backgroundColor:"transparent"}},children:(0,r.tZ)(K.Z,{children:f.description})})}):(0,r.tZ)(m.x,{color:"dimmest",children:"This Repl has no description"})]}),(0,r.tZ)(p.Z,{css:[{borderBottom:"1px solid ".concat(c.TV.outlineDefault)}]})]})}var pe=n(32747),me=n(66552),he=n(41644),be=n(15985),ye=n(39473),ve=n(44262),ge=n(50658);function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xe="b7292411-5efe-4c15-be23-060d48a9a6d6",Se=function(e){var t=e.isLoggedIn,n=(0,o.useState)(!1),i=n[0],l=n[1],a=(0,h.Z)().showError,u=(0,o.useState)(!1),c=u[0],s=u[1],f=we((0,V.Z)({onError:function(){ge.$e((function(e){e.setExtra("templateId",xe),ge.Tb(new Error("RelatedReplsBanner: Failed to fork template"))}))}}),2),p=f[0],m=f[1].loading,b=(0,r.tZ)(ve.Z,{});return(0,r.BX)(r.HY,{children:[(0,r.tZ)(d.G7,{css:[d.l0.borderRadius(8),{overflow:"hidden","@media(max-width: 768px)":{borderWidth:1,borderColor:d.TV.backgroundHighest}}],children:(0,r.BX)(d.G7,{css:{position:"relative",background:"url('/public/images/javascript-tutorial-banner-1.jpg')",backgroundPosition:"center",backgroundSize:"cover",height:256,"@media(max-width: 768px)":{height:128}},children:[(0,r.BX)(d.G7,{css:{padding:d.TV.space16,"@media(max-width: 768px)":{padding:d.TV.space8}},children:[(0,r.tZ)(d.G7,{css:{flexDirection:"row",justifyContent:"space-between",gap:d.TV.space8},children:(0,r.tZ)(d.xv,{variant:"headerBig",multiline:!0,css:[d.l0.flex.growAndShrink(1),{paddingRight:d.TV.space8,paddingBottom:d.TV.space8,maxWidth:640,color:d.TV.white,textShadow:"0px 2px 4px rgba(2, 2, 3, 0.32)","@media(max-width: 768px)":{fontSize:d.TV.fontSizeHeaderDefault}}],children:"Build a calculator"})}),(0,r.tZ)(d.xv,{variant:"subheadBig",multiline:!0,css:[{paddingTop:d.TV.space8,color:d.TV.white,maxWidth:640,textShadow:"0px 2px 4px rgba(2, 2, 3, 0.32)","@media(max-width: 768px)":{display:"none"}}],children:""})]}),(0,r.tZ)(d.G7,{css:[d.l0.rowWithGap(8),{position:"absolute",bottom:d.TV.space16,left:d.TV.space16}],children:(0,r.tZ)(d.zx,{onClick:function(){if(!t)return l(!0),void(0,I.j)(I.U3.SIGNUP_REQUESTED,{from:"cover-page",location:"related-repls"});m||p({originId:xe,trackingData:{forkSource:"relatedReplsSection"}})},iconLeft:b,text:"Learn JavaScript",big:!0,css:[{color:d.TV.white,backgroundColor:"rgba(15, 23, 38, 0.7)","&:hover":{backgroundColor:d.TV.black,border:"1px solid var(--black) !important"},"@media(max-width: 768px)":{display:"none"}}]})})]})}),(0,r.tZ)(z.Z,{onRequestClose:function(){return l(!1)},isOpen:i,children:(0,r.tZ)(L.Z,{onSuccess:function(){s(!0),p({originId:xe,trackingData:{forkSource:"relatedReplsSection"}})},onFailure:function(e){var t=e.error;s(!1),a(t)},title:c&&m?"Sit tight":"Sign up",showForm:!c||!m,showSuccess:c&&m,description:c&&m?"We\u2019re setting up your workspace\u2026":"Sign up and create your first repl."})})]})},Ce=n(30381),Ae=n.n(Ce),ke=n(45311);function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(e){if("string"===typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}var Be,Ie,Ee,De,Ue=function(e){return"@media (max-width: ".concat(e,"px)")},We={mobile:Ue(M.j.tabletMin),small:(Ie=M.j.tabletMin+1,Ee=M.j.tabletMax,"@media (min-width: ".concat(Ie,"px) and (max-width: ").concat(Ee,"px)")),smallAndMobile:Ue(M.j.tabletMax),desktop:(Be=M.j.tabletMax+1,"@media (min-width: ".concat(Be,"px)"))},Ge=function(e){return{name:e,gridArea:(0,D.iv)({gridArea:e})}},_e={header:Ge("header"),cta:Ge("cta"),main:Ge("main"),secondary:Ge("secondary"),auxiliary:Ge("auxiliary")},Xe={mobile:(0,D.iv)({gridTemplateAreas:'\n      "'.concat(_e.header.name,'"\n      "').concat(_e.cta.name,'"\n      "').concat(_e.main.name,'"\n      "').concat(_e.auxiliary.name,'"\n      "').concat(_e.secondary.name,'"\n      ')}),small:(0,D.iv)({gridTemplateColumns:"1fr auto auto 25%",gridTemplateRows:"auto",gridTemplateAreas:'\n      "'.concat(_e.header.name," ").concat(_e.header.name," ").concat(_e.cta.name," ").concat(_e.cta.name,'"\n      "').concat(_e.main.name," ").concat(_e.main.name," ").concat(_e.main.name," ").concat(_e.main.name,'"\n      "').concat(_e.secondary.name," ").concat(_e.secondary.name," ").concat(_e.secondary.name," ").concat(_e.auxiliary.name,'"\n      ')}),desktop:(0,D.iv)({columnGap:c.TV.space32,alignItems:"baseline",gridTemplateColumns:"1fr 25%",gridTemplateRows:"auto auto auto auto 1fr",gridTemplateAreas:'\n      "'.concat(_e.header.name," ").concat(_e.cta.name,'"\n      "').concat(_e.main.name," ").concat(_e.cta.name,'"\n      "').concat(_e.main.name," ").concat(_e.auxiliary.name,'"\n      "').concat(_e.main.name," ").concat(_e.auxiliary.name,'"\n      "').concat(_e.secondary.name," ").concat(_e.auxiliary.name,'"\n      ')})},He=function(e){var t,n=e.withSidebar;return(0,D.iv)([c.l0.px(16),c.l0.py(32),(t={maxWidth:1200,margin:"0 auto",display:"grid",gap:c.TV.space16},Re(t,We.mobile,Xe.mobile),Re(t,We.small,[c.l0.px(16),Xe.small]),Re(t,We.desktop,[c.l0.p(32),n?Xe.desktop:Xe.small]),t)])};function Me(e){var t,n=e.repl,l=e.isLoggedIn,a=function(){var e,t;if(!l)return d(De.AuthPrompt),void(0,I.j)(I.U3.SIGNUP_REQUESTED,{from:"cover-page",location:"fork"});h||m({originId:n.id,replReleaseId:(null===(e=n.deployment)||void 0===e||null===(t=e.activeRelease)||void 0===t?void 0:t.id)||void 0,trackingData:{forkSource:"replViewHeader",isApp:n.publishedAs===i.O2h.App,isTemplate:n.publishedAs===i.O2h.Template}})},u=je(o.useState(null),2),s=u[0],d=u[1],f=je((0,V.Z)(),2),m=f[0],h=f[1].loading,b=(0,F.aq)(n),y=n.currentUserPermissions.containerWrite?(0,r.tZ)(W.Co,{colorway:"primary",iconLeft:(0,r.tZ)(X.Z,{}),stretch:!0,text:"Edit in workspace",as:b.as,href:b.href}):null,v=n.currentUserPermissions.publish&&n.publishedAs&&n.publishedAs!==i.O2h.Template?(0,r.tZ)(U.ZP,{text:"Add an update",type:"button",iconLeft:(0,r.tZ)(H.Z,{}),onClick:function(){return d(De.UpdateModal)}}):null,g=n.publishedAs===i.O2h.Template?{text:h?"Forking...":"Fork Template",icon:(0,r.tZ)(G.Z,{}),count:n.publicReleasesForkCount}:{text:h?"Forking...":"Fork Repl",icon:(0,r.tZ)(_.Z,{}),count:n.publicForkCount},Z=(0,r.tZ)(be.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Re(e,t,n[t])}))}return e}({},g,{onClick:a,icon:(0,r.tZ)(_.Z,{}),colorway:null===y?"primary":void 0,onCountClick:function(){return d(De.ForksModal)}})),w=(0,r.tZ)(z.Z,{isOpen:"ForksModal"===s,onRequestClose:function(){return d(null)},maxWidth:512,children:(0,r.tZ)(N.Z,{replId:n.id})}),x=(0,r.tZ)(z.Z,{isOpen:"UpdateModal"===s,onRequestClose:function(){return d(null)},maxWidth:512,children:(0,r.tZ)(ye.Z,{repl:n,onDone:function(){return d(null)},source:"coverPage"})});return y?(0,r.BX)(r.HY,{children:[(0,r.BX)(p.Z,{css:[(t={},Re(t,We.mobile,[c.l0.colWithGap(8)]),Re(t,We.small,[c.l0.rowWithGap(8)]),Re(t,We.desktop,c.l0.colWithGap(8)),t)],children:[(0,r.tZ)(p.Z,{children:y}),(0,r.tZ)(p.Z,{children:v}),(0,r.tZ)(p.Z,{children:Z})]}),w,x]}):(0,r.BX)(r.HY,{children:[Z,(0,r.tZ)(z.Z,{isOpen:s===De.AuthPrompt,onRequestClose:function(){d(null)},maxWidth:512,children:(0,r.tZ)(L.Z,{title:"Sign up or log in to fork this Repl",onSuccess:function(){return a()},source:"fork"})}),w]})}function Fe(e){var t=e.title,n=e.withSidebar,o=void 0===n||n;return(0,r.tZ)(p.Z,{css:[c.l0.flex.row,c.l0.flex.growAndShrink(1)],children:(0,r.BX)(p.Z,{css:[c.l0.p(16),c.l0.flex.growAndShrink(1),He({withSidebar:o})],children:[(0,r.BX)(p.Z,{css:[_e.header.gridArea,c.l0.rowWithGap(8),c.l0.align.center],children:[(0,r.tZ)(me.Z,{elevated:!0,css:[c.l0.width(32),c.l0.height(32),c.l0.borderRadius("full")]}),(0,r.tZ)(m.h,{color:"dimmest",variant:"headerBig",level:1,css:[c.l0.flex.growAndShrink(1),{wordBreak:"break-all"}],children:t||"Loading..."})]}),(0,r.tZ)(p.Z,{css:[_e.cta.gridArea],children:(0,r.tZ)(U.ZP,{disabled:!0,text:" "})}),(0,r.tZ)(p.Z,{css:[_e.main.gridArea,c.l0.colWithGap(16)],children:(0,r.tZ)(me.Z,{elevated:!0,css:[c.l0.height(500),c.l0.borderRadius(8)]})}),(0,r.tZ)(p.Z,{css:[_e.auxiliary.gridArea,c.l0.colWithGap(16)],children:(0,r.BX)(p.Z,{css:c.l0.colWithGap(16),children:[(0,r.tZ)(m.x,{color:"dimmest",variant:"subheadDefault",children:"Loading..."}),(0,r.tZ)(p.Z,{css:c.l0.colWithGap(16),children:Te(Array(3)).map((function(e,t){return(0,r.tZ)(me.Z,{elevated:!0,css:[c.l0.height(100),c.l0.borderRadius(8)]},t.toString())}))})]})}),(0,r.tZ)(p.Z,{css:[_e.secondary.gridArea]})]})})}function Ve(e){var t=e.repl,n=e.currentUser,a=e.withSidebar,u=void 0===a||a;o.useEffect((function(){n&&!t.currentUserPermissions.containerWrite&&(0,I.j)(I.U3.REPL_GUEST_VIEW,{page:"replView"})}),[n,t.currentUserPermissions.containerWrite]);var s=t.tags.map((function(e){return e.id})),d=(0,ke.Z)({flagName:"flag-siderepl-expt",treatmentProportion:.5,startDate:Ae().utc("2022-07-13"),stopDate:Ae().utc("2022-07-13").add(14,"days")}),f=d.isGateReady,h=d.isUserGated,b=s.includes("javascript");return(0,r.tZ)(p.Z,{css:[c.l0.flex.row,c.l0.flex.growAndShrink(1)],children:(0,r.BX)(p.Z,{css:[c.l0.p(16),c.l0.flex.growAndShrink(1),He({withSidebar:u})],children:[(0,r.tZ)(p.Z,{css:[_e.header.gridArea],children:(0,r.tZ)(he.Z,{repl:t,iconEditable:t.currentUserPermissions.changeIconUrl,canModerate:(null===n||void 0===n?void 0:n.isModerator)||(null===n||void 0===n?void 0:n.isAdmin)})}),(0,r.tZ)(p.Z,{css:[_e.cta.gridArea],children:(0,r.tZ)(Me,{repl:t,isLoggedIn:Boolean(n)})}),(0,r.BX)(p.Z,{css:[_e.main.gridArea,c.l0.colWithGap(16)],children:[(0,r.tZ)(p.Z,{css:[{height:500,"> *":{height:"100%"}}],children:(0,r.tZ)(l.Z,{repl:t,currentUser:n,enableDeeplinks:!0})}),(0,r.tZ)(fe,{repl:t,currentUser:n})]}),(0,r.BX)(p.Z,{tag:"aside","data-nosnippet":!0,css:[_e.auxiliary.gridArea,c.l0.colWithGap(16)],children:[b&&f&&h&&(0,r.tZ)(Se,{isLoggedIn:Boolean(n)}),t.relatedRepls.map((function(e){var t=e.name,n=e.repls;return(0,r.BX)(p.Z,{css:c.l0.colWithGap(16),children:[(0,r.tZ)(m.h,{level:3,variant:"subheadDefault",children:t}),(0,r.tZ)(p.Z,{css:c.l0.colWithGap(16),children:n.map((function(e){return e.publishedAs===i.O2h.Template?(0,r.tZ)(pe.Z,{repl:e},e.id):(0,r.tZ)(E.ZP,{showOwner:!0,repl:e,maxVisibleTags:1},e.id)}))})]},t)}))]}),(0,r.tZ)(p.Z,{css:[_e.secondary.gridArea],children:(0,r.tZ)(B,{replId:t.id})})]})})}!function(e){e.ForksModal="ForksModal",e.AuthPrompt="AuthPrompt",e.UpdateModal="UpdateModal"}(De||(De={}))},53524:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(35944),o=n(67294),i=n(54929),l=n(3204),a=n(50553),u=n(85252);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=(0,n(70917).iv)([l.l0.py(8),l.l0.rowWithGap(4),{textTransform:"uppercase",cursor:"pointer",fontSize:l.TV.fontSizeSmall,fontWeight:l.TV.fontWeightMedium,border:"0 none",outline:"0",width:"100%",backgroundColor:l.TV.backgroundRoot,textAlign:"left",color:l.TV.foregroundDimmest,":hover":{color:l.TV.foregroundDefault}}]),f=(0,i.K)("div");function p(e){var t=e.children,n=s(o.useState(!0),2),l=n[0],c=n[1],p=s(o.useState(!0),2),m=p[0],h=p[1],b=(0,u.Z)((function(e){var t=e.height;void 0!==t&&c(t>56)}));return(0,r.BX)(i.Z,{css:{position:"relative"},children:[(0,r.tZ)(i.Z,{css:[m&&l&&{height:56,overflow:"hidden"}],children:(0,r.tZ)(f,{ref:b,children:t})}),l?(0,r.BX)(i.Z,{tag:"button",onClick:function(){return h(!m)},css:[d,m&&{position:"absolute",bottom:0,left:0}],children:[(0,r.BX)(i.Z,{children:["Show ",m?"more":"less"," "]}),(0,r.tZ)(a.Z,{rotate:m?0:180})]}):null]})}},8046:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(35944),o=(n(67294),n(88534));function i(e){var t=e.children;return(0,r.tZ)(o.Z,{background:!1,skipHtml:!0,mentionsLink:!0,unwrapDisallowed:!0,lineBreaks:!0,allowedElements:["a","pre","code","em","strong","del","ins","p","ul","li","img","blockquote"],children:t})}},30666:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(35944),o=(n(67294),n(67938)),i=n(54929),l=n(3204),a=n(88768),u=n(51281),c=n(64711),s=n(16055),d=n(23139);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function h(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var t=e.replId,n=(0,a.zWW)({variables:{replId:t,count:100}}),f=n.data,p=n.fetchMore,b=n.loading,y="Repl"===(null===f||void 0===f?void 0:f.repl.__typename)?f.repl:null,v=y?y.publicForks:null,g=y?y.publicForkCount+y.publicReleasesForkCount:null;return(0,r.BX)(i.Z,{css:[l.l0.colWithGap(8)],children:[(0,r.BX)(i.Z,{children:[null!==g?(0,r.BX)(i.Z,{css:[l.l0.display.block],children:[(0,r.tZ)(o.x,{variant:"subheadDefault",children:g})," ",(0,r.tZ)(o.x,{color:"dimmest",variant:"subheadDefault",children:(0,c.Z)("forks",g)})]}):null,b?(0,r.tZ)(o.x,{color:"dimmest",variant:"subheadDefault",children:"Loading forks..."}):null]}),(0,r.BX)(i.Z,{css:[l.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(i.Z,{css:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:l.TV.space16,gridAutoFlow:"dense"},children:v?v.items.map((function(e){return(0,r.tZ)(d.Tg,{elevated:!0,css:[l.l0.borderRadius(8)],children:(0,r.tZ)(s.ZP,{showOwner:!0,repl:e})},e.id)})):null}),(null===v||void 0===v?void 0:v.pageInfo.nextCursor)?(0,r.tZ)(u.Z,{disabled:b,border:!1,color:"primary",filled:!1,fullWidth:!0,onClick:function(){b||p({variables:{after:v.pageInfo.nextCursor},updateQuery:function(e,t){if(!t||!t.fetchMoreResult)return e;var n="Repl"===e.repl.__typename?e.repl:null;if(!n)return e;var r=t.fetchMoreResult,o="Repl"===r.repl.__typename?r.repl:null;return o?m({},r,{repl:m({},o,{publicForks:m({},o.publicForks,{items:h(n.publicForks.items).concat(h(o.publicForks.items))})})}):e}})},children:b?"Loading...":"Load more"}):null]})]})}},35013:function(e,t,n){n.d(t,{x:function(){return z},H:function(){return H}});var r=n(35944),o=n(79547),i=n.n(o),l=n(67294),a=n(88768),u=n(54929),c=n(11935),s=n(8286),d=n(38880),f=n(66552),p=n(3204),m=n(8046),h=n(92704),b=n(63292),y=n(7177),v=n(23573),g=n(67938);function Z(e){var t=e.title;return(0,r.tZ)(u.Z,{css:[p.l0.flex.row,p.l0.py(8)],children:(0,r.BX)(f.Z,{background:"higher",css:[p.l0.borderRadius(16),p.l0.rowWithGap(8),p.l0.align.center,p.l0.p(8),{flexShrink:1}],children:[(0,r.tZ)(g.x,{variant:"subheadDefault",multiline:!0,css:[{wordBreak:"break-all",flexShrink:1}],children:t}),(0,r.tZ)(g.x,{color:"dimmer",css:[p.l0.borderRadius(16),p.l0.p(4),{border:"1px solid "+p.TV.outlineDimmer}],children:"Post"})]})})}var w=n(37424),x=n(6529),S=n(31162);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=(0,u.K)("label");function j(e){var t=e.children;return(0,r.tZ)(u.Z,{css:[p.l0.rowWithGap(8),p.l0.align.center],children:t})}function T(e){var t,n=e.postId,o=function(e){m.loading||h&&d({variables:{input:k({id:h.id},e)}})},i=(0,w.H)(),l=(0,a.pDS)({variables:{postId:n}}),u=l.data,c=l.loading,s=O((0,a.dB7)(),2),d=s[0],m=s[1];if(c)return null;var h="Post"===(null===u||void 0===u||null===(t=u.post)||void 0===t?void 0:t.__typename)?u.post:null,b=null===u||void 0===u?void 0:u.boards;if(!h||!b)return(0,r.tZ)(g.x,{children:"Something went wrong"});var y={isPinned:i("isPinned"),isHidden:i("isHidden"),boardId:i("boardId")};return(0,r.BX)(f.Z,{elevated:!0,css:[p.l0.colWithGap(8),p.l0.p(8),p.l0.borderRadius(8)],children:[(0,r.BX)(j,{children:[(0,r.tZ)(x.Z,{id:y.isPinned,checked:Boolean(h.isPinned),onChange:function(){return o({isPinned:!h.isPinned})}}),(0,r.tZ)(R,{htmlFor:y.isPinned,children:"Pin post to Talk feed"})]}),h.canHide?(0,r.BX)(j,{children:[(0,r.tZ)(x.Z,{id:y.isHidden,checked:Boolean(h.isHidden),onChange:function(e){return o({isHidden:e.target.checked})}}),(0,r.tZ)(R,{htmlFor:y.isHidden,children:"Hide post from listing"})]}):null,h.canChangeBoard?(0,r.BX)(j,{children:[(0,r.tZ)(S.Z,{id:y.boardId,placeholder:"Select a board",items:b.map((function(e){return{value:e,title:e.name}})),initialSelectedItem:h.board?{value:h.board,title:h.board.name}:void 0,onChange:function(e){return o({boardId:e.value.id})}}),(0,r.tZ)(R,{htmlFor:y.isHidden,children:"Change board (requires reload)"})]}):null]})}var P=n(21555),B=n(89957),I=n(56834),E=n(81736),D=n(79635);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e){var t=e.initialValue,n=e.commentId,o=e.onReply,i=e.onCancel,u=(0,l.useState)(null),c=u[0],s=u[1],d=_((0,a.cTp)({onCompleted:function(e){var t="ReplComment"===e.createReplCommentReply.__typename?e.createReplCommentReply:null;if(t)return(0,I.j)(I.U3.COMMENT_MADE,{source:"spotlight"}),void o(t);var n="UserError"===e.createReplCommentReply.__typename?e.createReplCommentReply.message:null;n&&s(n)}}),2),f=d[0],p=d[1];return(0,r.tZ)(P.EQ,{error:c,initialValue:t,onCancel:i,onSubmit:function(e){p.loading||f({variables:{input:{body:e,replCommentId:n}}})}})}function H(e){var t=e.replId,n=e.placeholder,o=e.onComment,i=e.autoFocus,u=void 0!==i&&i,d=e.onCancel,f=void 0===d?function(){}:d,p=(0,l.useState)(!1),m=p[0],h=p[1],b=(0,l.useState)(null),y=b[0],v=b[1],g=_((0,a.QpW)({onCompleted:function(e){var t="ReplComment"===e.createReplComment.__typename?e.createReplComment:null;if(t)return(0,I.j)(I.U3.COMMENT_MADE,{source:"spotlight"}),h(!0),void o(t);var n="UserError"===e.createReplComment.__typename?e.createReplComment.message:null;n&&v(n)}}),2),Z=g[0],w=g[1];return m?(0,r.tZ)(c.Z,{icon:(0,r.tZ)(s.Z,{}),closable:!0,closeAction:function(){f(),h(!1)},colorway:"positive",text:"Comment added"}):(0,r.tZ)(P.EQ,{autoFocus:u,initialValue:"",placeholder:n,hideControls:!0,error:y,onCancel:function(){f(),v(null)},onSubmit:function(e){w.loading||Z({variables:{input:{body:e,replId:t}}})}})}function M(e){var t=e.comment,n=e.onReply,o=e.onDelete,c=e.replyToId,s=e.toggleRepliesButton,d=e.commentsEnabled,f=_((0,a.gaR)(),2),h=f[0],v=f[1],g=_((0,a.cqY)({variables:{id:t.id},onCompleted:function(){R(null),o(t)}}),2),Z=g[0],w=g[1],x=_((0,a.oYJ)({variables:{commentId:t.id,isHidden:!t.isHidden}}),1)[0],S=(0,l.useState)(!1),C=S[0],A=S[1],k=(0,l.useState)(null),O=k[0],R=k[1],j=O===P.nQ.Edit,T=t.user;if((0,l.useEffect)((function(){O!==P.nQ.Hide&&O!==P.nQ.Show||x()}),[O,x]),!T)return null;var B=t.currentUserPermissions,I=Boolean(B);return(0,r.BX)(u.Z,{css:[p.l0.rowWithGap(8),{":hover .actions":{opacity:1}}],children:[(0,r.tZ)(P.Yt,{user:T}),(0,r.BX)(u.Z,{css:[p.l0.flex.growAndShrink(1),p.l0.colWithGap(4)],children:[(0,r.BX)(u.Z,{css:[p.l0.align.center,p.l0.rowWithGap(16)],children:[(0,r.tZ)(P.wb,{user:T,timeCreated:t.timeCreated}),t.isHidden&&(0,r.tZ)(D.ZP,{tooltip:"This comment is hidden",children:(0,r.tZ)(E.Z,{size:12,"alt-text":"This comment is hidden"})})]}),j?(0,r.tZ)(P.EQ,{buttonText:"Save",initialValue:t.body,onSubmit:function(e){v.loading||(h({variables:{input:{id:t.id,body:e}},optimisticResponse:{updateReplComment:G({},t,{body:e})}}),R(null))},onCancel:function(){return R(null)}}):(0,r.tZ)("div",{className:i().dynamic([["f42d4188beffd055",[t.isHidden?"var(--foreground-dimmest)":"default"]]])+" comment-container",children:(0,r.tZ)(m.Z,{children:t.body})}),C?(0,r.tZ)(u.Z,{css:[p.l0.pt(12)],children:(0,r.tZ)(X,{initialValue:"@".concat(T.username," "),commentId:c,onReply:function(e){n(e),A(!1)},onCancel:function(){return A(!1)}})}):(0,r.BX)(u.Z,{css:[p.l0.rowWithGap(8),{marginLeft:-4}],children:[I&&!t.isHidden&&d?(0,r.tZ)(P.g4,{onClick:function(){return A(!0)}}):null,s]})]}),j?null:(0,r.tZ)(u.Z,{css:[C&&{visibility:"hidden"}],children:(0,r.tZ)(P.pl,{className:"actions",canEdit:Boolean(null===B||void 0===B?void 0:B.edit),canReport:!1,canEditSettings:!1,canDelete:Boolean(null===B||void 0===B?void 0:B.delete),onAction:R,canHideComment:Boolean(null===B||void 0===B?void 0:B.canHideComment)&&!t.isHidden,canShowComment:Boolean(null===B||void 0===B?void 0:B.canHideComment)&&Boolean(t.isHidden)})}),(0,r.tZ)(y.Z,{isOpen:O===P.nQ.Delete,onRequestClose:function(){return R(null)},maxWidth:512,children:(0,r.tZ)(b.Z,{delete:function(){w.loading||Z({variables:{id:t.id}})},entityType:"Comment",hideModal:function(){return R(null)}})}),(0,r.tZ)(i(),{id:"f42d4188beffd055",dynamic:[t.isHidden?"var(--foreground-dimmest)":"default"],children:".comment-container.__jsx-style-dynamic-selector .rendered-markdown{color:".concat(t.isHidden?"var(--foreground-dimmest)":"default","}")})]})}function F(e){var t=e.initialTitle,n=e.initialBody,o=e.onSubmit,i=e.onCancel,a=(0,l.useState)(t),c=a[0],s=a[1],d=(0,l.useState)(n),f=d[0],m=d[1],b=(0,P.Ex)();return(0,r.BX)(P.l0,{css:[p.l0.colWithGap(8)],onSubmit:function(e){e.preventDefault(),o({title:c,body:f})},children:[(0,r.tZ)(B.ZP,{value:c,onChange:function(e){return s(e.currentTarget.value)}}),(0,r.tZ)(v.Z,{onKeyDown:function(e){"Enter"===e.key&&e.metaKey&&o({title:c,body:f})},initialValue:f,onChange:m,userSearch:b,autoFocus:!1}),(0,r.BX)(u.Z,{css:[p.l0.rowWithGap(8),p.l0.justify.end],children:[(0,r.tZ)(h.ZP,{text:"Cancel",onClick:i}),(0,r.tZ)(h.ZP,{type:"submit",text:"Save",onClick:function(){},colorway:"primary",disabled:n===f&&t===c})]})]})}function V(e){var t=e.post,n=e.comment,o=e.onReply,c=e.onDelete,s=e.replyToId,f=e.toggleRepliesButton,h=e.commentsEnabled,v=(0,d.Z)().showError,g=_((0,a.kz4)({onError:function(e){return v(e.message)}}),2),w=g[0],x=g[1],S=_((0,a.gaR)(),2),C=S[0],A=S[1],k=_((0,a.cqY)({variables:{id:n.id},onCompleted:function(){M(null),c(n)}}),2),O=k[0],R=k[1],j=_((0,a.oYJ)({variables:{commentId:n.id,isHidden:!n.isHidden}}),1)[0],B=(0,l.useState)(!1),I=B[0],U=B[1],W=(0,l.useState)(null),H=W[0],M=W[1],V=H===P.nQ.Edit,z=n.user;if((0,l.useEffect)((function(){H!==P.nQ.Hide&&H!==P.nQ.Show||j()}),[H,j]),!z)return null;var L=n.currentUserPermissions,N=Boolean(L),q=Boolean(t.canPin||t.canChangeBoard||t.canHide);return(0,r.BX)(u.Z,{css:[p.l0.rowWithGap(8),{":hover .actions":{opacity:1}}],children:[(0,r.tZ)(P.Yt,{user:z}),(0,r.BX)(u.Z,{css:[p.l0.flex.growAndShrink(1),p.l0.colWithGap(4),{"& .rendered-markdown":{backgroundColor:"transparent"}}],children:[(0,r.BX)(u.Z,{css:[p.l0.align.center,p.l0.rowWithGap(16)],children:[(0,r.tZ)(P.wb,{user:z,timeCreated:n.timeCreated,action:"shared an update"}),n.isHidden&&(0,r.tZ)(D.ZP,{tooltip:"This comment is hidden",children:(0,r.tZ)(E.Z,{size:12,"alt-text":"This comment is hidden"})})]}),V?(0,r.tZ)(F,{initialTitle:t.title||"",initialBody:n.body,onSubmit:function(e){var r=e.title,o=e.body;A.loading||x.loading||(w({variables:{input:{id:t.id,title:r}},optimisticResponse:{updatePost:{post:G({},t,{title:r})}}}),C({variables:{input:{id:n.id,body:o}},optimisticResponse:{updateReplComment:G({},n,{body:o})}}),M(null))},onCancel:function(){return M(null)}}):(0,r.BX)(r.HY,{children:[t.title?(0,r.tZ)(u.Z,{children:(0,r.tZ)(Z,{title:t.title})}):null,(0,r.tZ)("div",{className:i().dynamic([["f42d4188beffd055",[n.isHidden?"var(--foreground-dimmest)":"default"]]])+" comment-container",children:(0,r.tZ)(m.Z,{children:n.body})})]}),I?(0,r.tZ)(u.Z,{css:[p.l0.pt(12)],children:(0,r.tZ)(X,{initialValue:"@".concat(z.username," "),commentId:s,onReply:function(e){o(e),U(!1)},onCancel:function(){return U(!1)}})}):(0,r.BX)(u.Z,{css:[p.l0.rowWithGap(2),{marginLeft:-4}],children:[N&&h?(0,r.tZ)(P.g4,{onClick:function(){return U(!0)}}):null,f]})]}),V?null:(0,r.tZ)(u.Z,{css:[I&&{visibility:"hidden"}],children:(0,r.tZ)(P.pl,{className:"actions",canEdit:Boolean(null===L||void 0===L?void 0:L.edit),canReport:t.canReport,canEditSettings:q,canDelete:Boolean(null===L||void 0===L?void 0:L.delete),onAction:M,canHideComment:Boolean(null===L||void 0===L?void 0:L.canHideComment)&&!n.isHidden,canShowComment:Boolean(null===L||void 0===L?void 0:L.canHideComment)&&Boolean(n.isHidden)})}),(0,r.tZ)(y.Z,{isOpen:H===P.nQ.Delete,onRequestClose:function(){return M(null)},maxWidth:512,children:(0,r.tZ)(b.Z,{delete:function(){R.loading||O({variables:{id:n.id}})},entityType:"Post",hideModal:function(){return M(null)}})}),(0,r.tZ)(y.Z,{isOpen:H===P.nQ.Report,onRequestClose:function(){return M(null)},maxWidth:512,children:"TODO: Report"}),(0,r.tZ)(y.Z,{isOpen:H===P.nQ.Settings,onRequestClose:function(){return M(null)},maxWidth:512,children:(0,r.tZ)(T,{postId:t.id})}),(0,r.tZ)(i(),{id:"f42d4188beffd055",dynamic:[n.isHidden?"var(--foreground-dimmest)":"default"],children:".comment-container.__jsx-style-dynamic-selector .rendered-markdown{color:".concat(n.isHidden?"var(--foreground-dimmest)":"default","}")})]})}function z(e){var t,n=e.comment,o=e.onReply,i=e.onDelete,a=e.commentsEnabled,c=(0,l.useState)(!1),s=c[0],d=c[1],m=n.replies,h=m.length,b=h?(0,r.tZ)(P.tE,{onClick:function(){return d((function(e){return!e}))},repliesCount:h,isExpanded:s}):null,y=(null===(t=n.post)||void 0===t?void 0:t.title)?n.post:null;return y?(0,r.BX)(f.Z,{elevated:!0,css:[p.l0.colWithGap(32),p.l0.p(8),p.l0.borderRadius(8)],children:[(0,r.tZ)(V,{replyToId:n.id,post:y,comment:n,toggleRepliesButton:b,onReply:function(e){d(!0),o(e)},onDelete:i,commentsEnabled:a}),s?(0,r.tZ)(u.Z,{css:[p.l0.colWithGap(32),p.l0.pl(32)],children:m.filter((function(e){var t;return Boolean(null===(t=e.currentUserPermissions)||void 0===t?void 0:t.canHideComment)||!e.isHidden})).map((function(e){return(0,r.tZ)(M,{commentsEnabled:a,comment:e,onReply:o,onDelete:i,replyToId:n.id},e.id)}))}):null]}):(0,r.BX)(u.Z,{css:[p.l0.colWithGap(32)],children:[(0,r.tZ)(M,{commentsEnabled:a,replyToId:n.id,comment:n,toggleRepliesButton:b,onReply:function(e){d(!0),o(e)},onDelete:i}),s?(0,r.tZ)(u.Z,{css:[p.l0.colWithGap(32),p.l0.pl(32)],children:m.filter((function(e){var t;return Boolean(null===e||void 0===e||null===(t=e.currentUserPermissions)||void 0===t?void 0:t.canHideComment)||!e.isHidden})).map((function(e){return(0,r.tZ)(M,{commentsEnabled:a,comment:e,onReply:o,onDelete:i,replyToId:n.id},e.id)}))}):null]})}},41644:function(e,t,n){n.d(t,{Z:function(){return ne}});var r=n(35944),o=n(67294),i=n(88768),l=n(3204),a=n(67938),u=n(54929),c=n(28614),s=n(22546),d=n(7177),f=n(92704),p=n(38880),m=n(89957),h=n(51095);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=(0,u.K)("form");function g(e){var t=e.replId,n=e.onDone,c=(0,o.useState)(""),s=c[0],d=c[1],b=(0,p.Z)(),g=b.showConfirm,Z=b.showError,w=y((0,i.b3J)({variables:{replId:t,reason:s},onCompleted:function(){g("Repl reported"),n()}}),2),x=w[0],S=w[1].loading;return(0,r.BX)(u.Z,{css:[l.l0.colWithGap(24)],children:[(0,r.tZ)(a.x,{variant:"subheadBig",children:"Report Repl"}),(0,r.BX)(v,{onSubmit:function(e){e.preventDefault(),s?x():Z("Not reported. No reason specified.")},css:[l.l0.colWithGap(32)],children:[(0,r.tZ)(u.Z,{css:[l.l0.colWithGap(8)],children:(0,r.tZ)(m.B,{placeholder:"More details about why this Repl is inappropriate",value:s,onChange:function(e){return d(e.currentTarget.value)},css:{resize:"none",minHeight:l.TV.space128}})}),(0,r.BX)(u.Z,{css:[l.l0.rowWithGap(16),l.l0.justify.end],children:[(0,r.tZ)(u.Z,{children:(0,r.tZ)(f.zx,{type:"button",text:"Cancel",onClick:function(){return n()}})}),(0,r.tZ)(u.Z,{children:(0,r.tZ)(f.zx,{disabled:S,text:S?"Reporting":"Report Repl",type:"submit",colorway:"negative",iconLeft:(0,r.tZ)(h.Z,{}),onClick:function(){return n()}})})]})]})]})}var Z=n(89431),w=n(66552);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=(0,u.K)("form");function A(e){var t=e.username,n=e.onDone,c=(0,o.useState)(""),s=c[0],d=c[1],h=(0,p.Z)(),b=h.showConfirm,y=h.showError,v=S((0,i.$u1)({onCompleted:function(e){var t=e.warnUser;"UserError"===t.__typename?y(t.message):b("The user has been warned.")}}),2),g=v[0],Z=v[1].loading;return(0,r.BX)(w.Z,{background:"default",css:[l.l0.p(16),l.l0.colWithGap(16),l.l0.borderRadius(8)],children:[(0,r.tZ)(a.x,{variant:"subheadBig",children:"Warn the author of the Repl"}),(0,r.BX)(C,{onSubmit:function(e){e.preventDefault(),s&&t?(g({variables:{username:t,reason:s}}),n()):y("Please provide a reason.")},css:[l.l0.colWithGap(32)],children:[(0,r.tZ)(u.Z,{css:[l.l0.colWithGap(8)],children:(0,r.tZ)(m.B,{placeholder:"Reason for warning the user",value:s,onChange:function(e){return d(e.currentTarget.value)},css:{resize:"none",minHeight:40}})}),(0,r.BX)(u.Z,{css:[l.l0.rowWithGap(8),l.l0.justify.end],children:[(0,r.tZ)(u.Z,{children:(0,r.tZ)(f.zx,{type:"button",text:"Cancel",onClick:function(){return n()}})}),(0,r.tZ)(u.Z,{children:(0,r.tZ)(f.zx,{disabled:Z,colorway:"primary",text:Z?"Warning":"Warn",type:"submit"})})]})]})]})}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=(0,u.K)("form");function j(e){var t=e.username,n=e.onDone,c=(0,o.useState)(""),s=c[0],d=c[1],h=(0,p.Z)(),b=h.showConfirm,y=h.showError,v=O((0,i.DHd)({onCompleted:function(e){var t=e.banCommunityUser;"UserError"===t.__typename?y(t.message):b("The user has been banned.")}}),2),g=v[0],Z=v[1].loading;return(0,r.BX)(w.Z,{background:"default",css:[l.l0.p(16),l.l0.colWithGap(16),l.l0.borderRadius(8)],children:[(0,r.tZ)(a.x,{variant:"subheadBig",children:"Ban the author of the Repl"}),(0,r.BX)(R,{onSubmit:function(e){e.preventDefault(),s&&t?(g({variables:{username:t,reason:s}}),n()):y("Please provide a reason.")},css:[l.l0.colWithGap(32)],children:[(0,r.tZ)(u.Z,{css:[l.l0.colWithGap(8)],children:(0,r.tZ)(m.B,{placeholder:"Reason for banning the user",value:s,onChange:function(e){return d(e.currentTarget.value)},css:{resize:"none",minHeight:40}})}),(0,r.BX)(u.Z,{css:[l.l0.rowWithGap(8),l.l0.justify.end],children:[(0,r.tZ)(u.Z,{children:(0,r.tZ)(f.zx,{type:"button",text:"Cancel",onClick:function(){return n()}})}),(0,r.tZ)(u.Z,{children:(0,r.tZ)(f.zx,{disabled:Z,colorway:"primary",text:Z?"Banning":"Ban",type:"submit"})})]})]})]})}var T=n(44327),P=n(34051),B=n.n(P),I=n(23139);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n,r,o,i,l){try{var a=e[i](l),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,o)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=(0,I.KD)("form");function G(e){var t=e.replId,n=e.onDone,o=(0,p.Z)(),l=o.showConfirm,a=o.showError,u=U((0,i.e2I)({variables:{input:{replId:t}}}),2),c=u[0],s=u[1];return(0,r.BX)(I.Tg,{background:"default",css:[I.l0.p(16),I.l0.colWithGap(16),I.l0.borderRadius(8)],children:[(0,r.tZ)(I.xv,{variant:"subheadBig",children:"Unpublish this Template from the Community"}),(0,r.BX)(W,{onSubmit:function(){var e,t=(e=B().mark((function e(t){var r,o,i,u;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=3,e.next=6,c();case 6:u=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a("Something went wrong. Please try again.");case 12:if("Repl"!==(null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.deleteReplDeployment.__typename)){e.next=16;break}l("Template successfully unpublished"),e.next=19;break;case 16:if("NotFoundError"!==(null===u||void 0===u||null===(o=u.data)||void 0===o?void 0:o.deleteReplDeployment.__typename)&&"UserError"!==(null===u||void 0===u||null===(i=u.data)||void 0===i?void 0:i.deleteReplDeployment.__typename)){e.next=19;break}return a(u.data.deleteReplDeployment.message),e.abrupt("return");case 19:n();case 20:case"end":return e.stop()}}),e,null,[[3,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){D(i,r,o,l,a,"next",e)}function a(e){D(i,r,o,l,a,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),css:[I.l0.colWithGap(32)],children:[(0,r.tZ)(I.xv,{multiline:!0,children:"Unpublishing a Template will remove it from the Templates page. The Repl itself will not be deleted, and you can always re-publish the Template again later."}),(0,r.BX)(I.G7,{css:[I.l0.rowWithGap(8),I.l0.justify.end],children:[(0,r.tZ)(I.G7,{children:(0,r.tZ)(I.zx,{type:"button",text:"Cancel",onClick:function(){return n()}})}),(0,r.tZ)(I.G7,{children:(0,r.tZ)(I.zx,{disabled:s.loading,colorway:"primary",text:s.loading?"Unpublishing...":"Unpublish",type:"submit"})})]})]})]})}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n,r,o,i,l){try{var a=e[i](l),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,o)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M,F=(0,I.KD)("form");function V(e){var t=e.replId,n=e.reviewType,o=e.onDone,l=(0,p.Z)(),a=l.showConfirm,u=l.showError,c="Something went wrong ".concat("promote"===n?"promoting":"demoting"," this Template"),s=H((0,i.bcJ)({variables:{input:{replId:t,shouldPromote:"promote"===n}},onError:function(){u(c)},onCompleted:function(e){"TemplateReview"===e.reviewTemplate.__typename?(a("Template successfully ".concat("promote"===n?"promoted":"demoted")),o()):"UnauthorizedError"===e.reviewTemplate.__typename||"UserError"===e.reviewTemplate.__typename?u(e.reviewTemplate.message):u(c)}}),2),d=s[0],f=s[1];return(0,r.BX)(I.Tg,{background:"default",css:[I.l0.p(16),I.l0.colWithGap(16),I.l0.borderRadius(8)],children:[(0,r.BX)(I.xv,{variant:"subheadBig",children:["promote"===n?"Promote":"demote"," this Template"]}),(0,r.BX)(F,{onSubmit:function(){var e,t=(e=B().mark((function e(t){return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d();case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){X(i,r,o,l,a,"next",e)}function a(e){X(i,r,o,l,a,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),css:[I.l0.colWithGap(32)],children:["promote"===n?(0,r.tZ)(I.xv,{multiline:!0,children:"Promoting a Template will show the Template in the create repl modal."}):(0,r.tZ)(I.xv,{multiline:!0,children:"Demoting a Template will keep the Template from showing up in the create repl modal."}),(0,r.BX)(I.G7,{css:[I.l0.rowWithGap(8),I.l0.justify.end],children:[(0,r.tZ)(I.G7,{children:(0,r.tZ)(I.zx,{type:"button",text:"Cancel",onClick:function(){return o()}})}),(0,r.tZ)(I.G7,{children:(0,r.tZ)(I.zx,{disabled:f.loading,colorway:"primary",text:f.loading?"".concat("promote"===n?"Promoting":"Demoting","..."):"".concat("promote"===n?"Promote":"Demote"),type:"submit"})})]})]})]})}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){var t,n=e.repl,l=e.canModerate,a=e.owner,u=L(o.useState(null),2),c=u[0],f=u[1],p=[];((0,Z.Z)("flag-report-repl-spotlight")&&p.push({label:"Report",isDestructive:!0,key:M.reportRepl}),l)&&(p.push({label:"[mod] Warn author",key:M.warnAuthor}),p.push({label:"[mod] Ban author",key:M.banAuthor}),n.publishedAs===i.O2h.Template&&((null===(t=n.templateReview)||void 0===t?void 0:t.promoted)?p.push({label:"[mod] Demote Template",isDestructive:!1,key:M.modDemoteTemplate}):p.push({label:"[mod] Promote Template",isDestructive:!1,key:M.modPromoteTemplate})));return n.currentUserPermissions.publish&&null!==n.lastPublishedAt&&p.push({label:"Unpublish from Community",isDestructive:!0,key:M.unpublish}),n.publishedAs===i.O2h.Template&&n.currentUserPermissions.publish&&p.push({label:"Unpublish Template",isDestructive:!0,key:M.unpublishTemplate}),p.length?(0,r.BX)(r.HY,{children:[(0,r.tZ)(s.Z,{items:p,onItemClick:function(e){f(e.key)}}),(0,r.tZ)(d.Z,{isOpen:c===M.reportRepl,onRequestClose:function(){return f(null)},maxWidth:512,children:(0,r.tZ)(g,{replId:n.id,onDone:function(){return f(null)}})}),(0,r.tZ)(d.Z,{isOpen:c===M.unpublish,onRequestClose:function(){return f(null)},maxWidth:512,children:(0,r.tZ)(T.Z,{repl:n,onDone:function(){return f(null)},source:"coverPage"})}),(0,r.tZ)(d.Z,{isOpen:c===M.warnAuthor,onRequestClose:function(){return f(null)},noPadding:!0,children:(0,r.tZ)(A,{username:a,onDone:function(){return f(null)}})}),(0,r.tZ)(d.Z,{isOpen:c===M.banAuthor,onRequestClose:function(){return f(null)},noPadding:!0,children:(0,r.tZ)(j,{username:a,onDone:function(){return f(null)}})}),(0,r.tZ)(d.Z,{isOpen:c===M.unpublishTemplate,onRequestClose:function(){return f(null)},noPadding:!0,children:(0,r.tZ)(G,{replId:n.id,onDone:function(){return f(null)}})}),(0,r.tZ)(d.Z,{isOpen:c===M.modDemoteTemplate,onRequestClose:function(){return f(null)},noPadding:!0,children:(0,r.tZ)(V,{replId:n.id,reviewType:"demote",onDone:function(){return f(null)}})}),(0,r.tZ)(d.Z,{isOpen:c===M.modPromoteTemplate,onRequestClose:function(){return f(null)},noPadding:!0,children:(0,r.tZ)(V,{replId:n.id,reviewType:"promote",onDone:function(){return f(null)}})})]}):null}!function(e){e.warnAuthor="warnAuthor",e.banAuthor="banAuthor",e.reportRepl="reportRepl",e.unpublish="unpublish",e.unpublishTemplate="unpublishTemplate",e.modPromoteTemplate="modPromoteTemplate",e.modDemoteTemplate="modDemoteTemplate"}(M||(M={}));var q=n(56408),$=n(53009),K=n(11935),Q=n(45309);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e){var t,n=e.repl,o=e.iconEditable,s=e.canModerate,d=te((0,i.cuO)(),1)[0],f=(0,q.W)((function(e){return d({variables:{input:{id:n.id,iconUrl:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:ee({},n,{iconUrl:e})}}})}));return(0,r.BX)(u.Z,{css:[l.l0.colWithGap(8)],children:[(0,r.BX)(u.Z,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[o?null:(0,r.tZ)($.ZP,{iconUrl:n.iconUrl,alt:"",size:32}),o?(0,r.tZ)(q.Z,{size:32,value:f.previewUrl||n.iconUrl,onUpload:function(e){return f.uploadImage(e,Q.N.ReplIcon)},isUploading:Boolean(f.previewUrl)}):null,(0,r.tZ)(a.h,{variant:"headerBig",level:1,css:[l.l0.flex.growAndShrink(1),{wordBreak:"break-all"}],children:n.title}),(0,r.tZ)(N,{repl:n,canModerate:s,owner:null===(t=n.owner)||void 0===t?void 0:t.username})]}),f.error?(0,r.tZ)(u.Z,{css:[l.l0.align.start],children:(0,r.tZ)(K.Z,{icon:(0,r.tZ)(c.Z,{}),colorway:"negative",text:f.error,closable:!0,closeAction:f.clearError})}):null]})}}}]);
//# sourceMappingURL=4933-e5f06b5c6dd94213.js.map