"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{21:function(e,t,n){n.d(t,{Z:function(){return m},w:function(){return l}});var r=n(34051),o=n.n(r),i=n(34155);function a(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,l,"next",e)}function l(e){a(i,r,o,c,l,"throw",e)}c(void 0)}))}}var l="473079ba-e99f-4e25-a635-e9b661c7dd3e",u=0;function s(){var e=Math.floor(500*Math.random());return 1e3*Math.pow(1.7,u)+e}var d=null;function f(){return p.apply(this,arguments)}function p(){return(p=c(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("script")).src="https://js.hcaptcha.com/1/api.js?render=explicit&host=repl.it",e.abrupt("return",new Promise((function(e,n){t.onload=h((function(){d=null,e()})),t.onerror=function(){u++,d=new Promise((function(e,t){setTimeout((function(){f().then(e,t)}),s())})),5===u&&n(new Error("Failed to load captcha script after ".concat(5," times")))},window.document.head.appendChild(t)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return function(){"undefined"===typeof window.hcaptcha?setTimeout((function(){h(e)}),100):e()}}function m(e,t){return v.apply(this,arguments)}function v(){return(v=c(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if("true"!==i.env.IS_CYPRESS_AUTOMATED_TEST){e.next=4;break}return e.abrupt("return","bypassed");case 4:if(!d){e.next=7;break}return e.next=7,d;case 7:return r=window.hcaptcha,e.abrupt("return",new Promise((function(e,o){var i=document.createElement("div"),a=r.render(i,{sitekey:t||l,size:"invisible",callback:function(t){r.reset(a),window.document.body.contains(i)&&window.document.body.removeChild(i),e(t)},"open-callback":function(){n&&n()},"close-callback":function(){r.reset(a),window.document.body.contains(i)&&window.document.body.removeChild(i),o(new Error("HCaptcha closed"))},"chalexpired-callback":function(){r.reset(a),window.document.body.contains(i)&&window.document.body.removeChild(i),o(new Error("HCaptcha challenge expired"))},"error-callback":function(){r.reset(a),window.document.body.contains(i)&&window.document.body.removeChild(i),o(new Error("HCaptcha render error"))},"expired-callback":function(){r.reset(a),window.document.body.contains(i)&&window.document.body.removeChild(i),o(new Error("HCaptcha render expired"))}});window.document.body.appendChild(i),r.execute(a)})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}d=f()},33468:function(e,t,n){n.d(t,{Y:function(){return p}});var r=n(35944),o=n(67294),i=n(91131),a=n(37078),c=n(45193),l=n(30617),u=n(18056),s=n(45525);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0}).enabled,n=(0,i.b9)(u.Rf);(0,o.useEffect)((function(){if(t)return n((function(t){return f(t).concat([e])})),function(){n((function(t){return t.filter((function(t){return t!==e}))}))}}),[n,e,t])}function h(){var e=(0,i.Dv)(u.a3),t=(0,i.b9)(u.cN),n=(0,i.Dv)(u.YM),d=(0,l.Z)().session,f=(0,s.Z)("commandBar").trackTimeToLoadFileStart;return(0,o.useEffect)((function(){return d.onCommandBarToggled((function(n){n!==e&&t()}))}),[d,t,e]),(0,o.useEffect)((function(){d.setIsCommandBarOpen(e)}),[d,e]),(0,r.tZ)(c.Z,{isOpen:e,onRequestClose:function(){t()},hideCloseButton:!0,children:(0,r.tZ)(a.Z,{onSelect:function(e){if("openFile"===e.data.type){var n=e.data.deeplink;f(n.path),d.openFile(n.path),d.updateDeeplink(n)}"action"===e.data.type&&e.data.run(),t()},initialCommand:n})})}t.Z=(0,o.memo)(h)},18056:function(e,t,n){n.d(t,{Rf:function(){return u},YM:function(){return s},a3:function(){return i},cN:function(){return a}});var r=n(91131),o=n(10586),i=(0,r.cn)(!1),a=(0,r.cn)(null,(function(e,t,n){if(e(i))return t(c,null),void t(i,!1);n&&t(c,n),t(i,!0)})),c=(0,r.cn)(null),l=(0,r.cn)((function(e){var t=e(u);return{data:o.$,commands:function(){return t}}})),u=(0,r.cn)([]),s=(0,r.cn)((function(e){var t=e(l),n=e(c);return n?[t,n]:t}))},52242:function(e,t,n){n.d(t,{g:function(){return s}});var r=n(35944),o=n(67294),i=n(91131),a=n(54929),c=n(49474),l=n(23139),u=n(72121),s=(0,i.cn)(!1);function d(){return(0,r.tZ)(c.Z,{children:(0,r.tZ)(a.Z,{css:[l.l0.position.fixed,l.l0.flex.row,l.l0.align.center,l.l0.justify.center,l.l0.backgroundColor.backgroundOverlay,{top:0,bottom:0,left:0,right:0,zIndex:5e5,cursor:"not-allowed"}],children:(0,r.tZ)(u.SpinnerModal,{reason:"Cloning"})})})}t.Z=(0,o.memo)(d)},54771:function(e,t,n){n.d(t,{Z:function(){return C},i:function(){return I}});var r=n(34051),o=n.n(r),i=n(67294),a=n(30617),c=n(91131),l=n(88768),u=n(80357),s=n(5560),d=n(77998),f=n(11163),p=n(53818),h=n(47865),m=n(36793),v=n(52242),b=n(37155),g=n(55912),y=n(84635);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,c,"next",e)}function c(e){w(i,r,o,a,c,"throw",e)}a(void 0)}))}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(){var e=(0,m.Z)().preferences,t=(0,c.b9)(h.MG);I({insertConfigPlugin:function(){return t({pane:{type:"config"},match:function(e){return"config"===e.data.type},insertTrys:[{placement:e.isLayoutStacked?"rightOf":"above",match:function(t){var n=t.data;return e.isLayoutStacked?"codeEditor"===n.type:(0,y.oq)(n.type)}}]})},setConfigScreenLockIsOpen:(0,c.b9)(v.g)})}function I(e){var t=e.insertConfigPlugin,n=e.setConfigScreenLockIsOpen,r=(0,s.Z)(),c=(0,a.Z)(),h=c.container,m=c.runner,v=(0,p.Z)(h),y=(0,f.useRouter)(),x=(0,b.u)();(0,i.useEffect)((function(){var e=function(){var e=Z(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I();case 4:if(!e.sent){e.next=7;break}return e.abrupt("return");case 7:k();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[x]);var w=j((0,l.qBQ)({variables:{replId:r},fetchPolicy:"no-cache",onCompleted:function(){var e=Z(o().mark((function e(t){var n,r,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.repl,r=t.currentUser,"Repl"===n.__typename&&r&&"CurrentUser"===r.__typename){e.next=4;break}return e.abrupt("return");case 4:if(n.config.gitRemoteUrl){e.next=6;break}return e.abrupt("return");case 6:D({remote:null!==(a=n.config.gitRemoteUrl)&&void 0!==a?a:"",accessToken:null!==(c=null===(i=r.gitHubInfo)||void 0===i?void 0:i.accessToken)&&void 0!==c?c:null,username:r.username,showConfigPlugin:Boolean(y.query.doRunFlow)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),1),k=w[0],C={isInitialized:!1,hasConflictsWithFetchedRemote:!1,hasMergeBaseWithFetchedRemote:!0,authError:u.l4.NONE,badState:u.$U.None,remote:"",repoId:null,branch:"",defaultBranch:"main",branches:[],installations:[],changedFiles:[],commits:[],commitsAhead:null,commitsBehind:null,remoteToken:null,gitHubName:null,ownerId:null,gitHubAvatarUrl:null,gitHubEmail:null},I=function(){var e=Z(o().mark((function e(){var t,n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}throw new Error("Expected sanitizedFiles.");case 2:return e.next=4,v({args:d.bb.format(C)});case 4:if(t=e.sent,d.bb.parse){e.next=7;break}return e.abrupt("return");case 7:if(r=d.bb.parse(C,null!==(n=t.output)&&void 0!==n?n:""),!(i=r.isInitialized)){e.next=11;break}return e.abrupt("return",i);case 11:return e.abrupt("return",Boolean(x.length));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Z(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({args:d.D6.format(C,null!==t&&void 0!==t?t:"")});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Z(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({args:d.M7.format(C,t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Z(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({args:d.LO.format(C)});case 2:if(t=e.sent,d.LO.parse){e.next=5;break}return e.abrupt("return");case 5:return n=d.LO.parse(C,null===t.error?t.output:""),r=n.remote,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Z(o().mark((function e(t){var n,r,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.remote,r=t.remoteToken,e.next=3,v({args:d.Di.format(S({},C,{remote:n,remoteToken:r}))});case 3:if(i=e.sent,d.Di.parse){e.next=6;break}return e.abrupt("return");case 6:return a=d.Di.parse(C,null===i.error?i.output:"HEAD branch: main"),c=a.defaultBranch,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Z(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({args:d.xY.format(S({},C,{defaultBranch:t}))});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Z(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.remote,r=t.remoteToken,e.next=3,P();case 3:return e.next=5,O();case 5:return e.next=7,R({deepen:!0,remote:n,remoteToken:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Z(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({args:d.GE.format(C)});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Z(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.deepen,r=void 0!==n&&n,i=t.remote,a=t.remoteToken,e.next=3,v({args:d.he.format(S({},C,{remote:i,remoteToken:a}),r)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Z(o().mark((function e(r){var i,a,c,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.remote,a=r.accessToken,c=r.username,l=r.showConfigPlugin,n(!0),e.next=4,T(c);case 4:return e.next=6,A(i);case 6:return e.next=8,O();case 8:return e.next=10,R({deepen:!1,remote:i,remoteToken:a});case 10:return e.next=12,E({remote:i,remoteToken:a});case 12:return u=e.sent,e.next=15,z(null!==u&&void 0!==u?u:"");case 15:return e.next=17,_({remote:i,remoteToken:a});case 17:if("html"!==m.mode){e.next=24;break}return e.next=20,(0,g.rJ)(h);case 20:return e.next=22,m.run();case 22:return n(!1),e.abrupt("return");case 24:n(!1),l&&t();case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},47865:function(e,t,n){n.d(t,{MG:function(){return b},Et:function(){return v},zx:function(){return g},$r:function(){return m},vN:function(){return h}});var r=n(91131),o=n(18172),i=n(71171),a=n.n(i),c=n(54372),l=n(83964),u=n(79771),s=n(23880),d=n(84637),f=n(23608);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(0,r.cn)(null,(function(e,t,n){t(e((0,c.z)(n.paneId)).data,n.data),n.makeActive&&t(c.W1,{paneId:n.paneId})})),m=(0,r.cn)(null,(function(e,t,n){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},e(c.V1));delete r[n],t(c.V1,r);var i=e(c.g4),a=(0,o.ZP)(i,(function(e){(0,u.Z)(e,n)}));t(c.YF,a)})),v=(0,r.cn)(null,(function(e,t,n){var r=e(c.g4),i=a()(),l=(0,o.ZP)(r,(function(e){(0,s.mZ)(e,{panes:[i],relativeTo:n.relativeTo||["tiling"],placement:n.placement,percent:n.percent})}));t(c.YF,l),t(e((0,c.z)(i)).data,n.pane),n.makeActive&&t(c.W1,{paneId:i})})),b=(0,r.cn)(null,(function(e,t,n){var r={};e(c.Eh).forEach((function(t){r[t.paneId]=e(t.data)}));var o=(0,l.kA)({paneData:r},n.match);if(o)t(h,{paneId:o.paneId,data:n.pane});else if(e(c.Eh).some((function(e){return"tile"===e.type}))){var i=!0,a=!1,u=void 0;try{for(var s,d=n.insertTrys[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var f=s.value,p=(0,l.kA)({paneData:r},f.match);if(p)return"replace"===f.placement?void t(h,{paneId:p.paneId,data:n.pane,makeActive:Boolean(f.makeActive)}):void t(v,{pane:n.pane,percent:f.percent,relativeTo:p.paneId,placement:f.placement,makeActive:Boolean(f.makeActive)})}}catch(m){a=!0,u=m}finally{try{i||null==d.return||d.return()}finally{if(a)throw u}}t(v,{pane:n.pane,placement:"rightOf",makeActive:!0,relativeTo:["tiling"]})}else t(v,{pane:n.pane,placement:"replace",makeActive:!0})})),g=((0,r.cn)(null,(function(e,t,n){var r=n.a,i=n.b,a=e(c.g4),l=(0,o.ZP)(a,(function(e){!function(e,t){var n=t.a,r=t.b,o=(0,f.I)(n),i=(0,d.K)(e,o);if("split"!==(null===i||void 0===i?void 0:i.type))throw new Error("Expected splitNode");var a=(0,d.K)(e,n);if(!a)throw new Error("Expected nodeA");var c=(0,d.K)(e,r);if(!c)throw new Error("Expected nodeB");var l=i.children.indexOf(a),u=i.children.indexOf(c);if(1!==Math.abs(l-u))throw new Error("Expected adjacent indexes");i.children[l]=c,i.children[u]=a}(e,{a:r,b:i})}));t(c.YF,l)})),(0,r.cn)(null,(function(e,t,n){var r=e((0,c.z)(n.fromPaneId));if(r.isDialog){t(m,r.paneId);var o=e(c.Eh).some((function(e){return"tile"===e.type}));t(v,o?{pane:n.data,placement:"leftOf",makeActive:!0}:{pane:n.data,placement:"replace",makeActive:!0})}else t(h,{paneId:n.fromPaneId,data:n.data,makeActive:!0})})))},38848:function(e,t,n){n.d(t,{og:function(){return m},ao:function(){return h},rx:function(){return f},IM:function(){return p},Oe:function(){return d}});var r=n(71171),o=n.n(r),i=n(18172),a=n(91131),c=n(23880),l=n(84637);var u=n(54372),s=n(79771),d=(0,a.cn)(null,(function(e,t,n){var r=e(u.g4),o=(0,i.ZP)(r,(function(e){!function(e,t){var n=(0,l.R)(e,t).paneGroup;if(!n)throw new Error("Expected pane group");var r=n.panes.indexOf(t);if(-1===r)throw new Error("Expected index");n.activeIndex=r}(e,n)}));t(u.YF,o),t(u.W1,{paneId:n})})),f=(0,a.cn)(null,(function(e,t){var n=e(u.gg),r=n.find((function(t){var n=e((0,u.z)(t));return"runnerOutput"===e(n.data).type}));if(r)t(d,r);else{var o=n.find((function(t){var n=e((0,u.z)(t));return"webview"===e(n.data).type}));o&&t(d,o)}})),p=(0,a.cn)(null,(function(e,t){var n=e(u.gg).find((function(t){var n=e((0,u.z)(t));return"shell"===e(n.data).type}));n&&t(d,n)})),h=(0,a.cn)(null,(function(e,t,n){var r=e(u.g4),o=e(u.gg).find((function(t){var n=e((0,u.z)(t));return"shell"===e(n.data).type}));if(o){var a=(0,l.R)(r,o).paneGroup.panes.find((function(t){var r=e((0,u.z)(t));return e(r.data).type===n.type})),c=(0,i.ZP)(r,(function(e){a&&(0,s.Z)(e,a)}));t(u.YF,c)}})),m=(0,a.cn)(null,(function(e,t,n){var r=e(u.g4),o=e(u.gg).find((function(t){var n=e((0,u.z)(t));return"shell"===e(n.data).type}));if(o){var i=(0,l.R)(r,o),a=i.paneGroup,c=i.paneGroupPath;a.panes.find((function(t){var r=e((0,u.z)(t));return e(r.data).type===n.pane.type}))||t(v,{pane:n.pane,paneGroupPath:c,activate:!0})}})),v=(0,a.cn)(null,(function(e,t,n){var r=e(u.g4),a=o()(),l=(0,i.ZP)(r,(function(e){(0,c.Tu)(e,{paneId:a,activate:n.activate,paneGroupPath:n.paneGroupPath,index:n.index})}));t(u.YF,l),t(e((0,u.z)(a)).data,n.pane),n.activate&&t(u.W1,{paneId:a})}));(0,a.cn)(null,(function(e,t,n){var r=e(u.g4),a=(0,i.ZP)(r,(function(e){var t,r=(0,l.R)(e,n.paneId);if(!r.paneGroup)throw new Error("Expected paneGroup");1===(null===(t=r.paneGroup)||void 0===t?void 0:t.panes.length)&&(0,c.Tu)(e,{paneId:o()(),activate:!1,paneGroupPath:r.paneGroupPath}),(0,s.Z)(e,n.paneId),(0,c.Tu)(e,{paneId:n.paneId,paneGroupPath:n.toPaneGroupPath})}));t(u.YF,a)})),(0,a.cn)(null,(function(e,t,n){var r=e(u.g4),o=(0,i.ZP)(r,(function(e){var t=(0,l.R)(e,n.paneToReplace),r=t.index===t.paneGroup.activeIndex;(0,c.Tu)(e,{paneGroupPath:t.paneGroupPath,paneId:n.paneId,index:t.index,activate:r}),(0,s.Z)(e,n.paneToReplace)}));t(u.YF,o)}))},96505:function(e,t,n){n.d(t,{M:function(){return p},Z:function(){return s}});var r=n(35944),o=(n(67294),n(23139)),i=n(66754),a=n(70917);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e){var t,n=null===(t=e.highlightRanges)||void 0===t?void 0:t.filter((function(e){return e.to>0}));return(0,r.BX)(o.Tg,{elevated:!0,css:[o.l0.align.center,o.l0.p(4),o.l0.borderRadius(8),o.l0.rowWithGap(4),e.active?o.l0.color.foregroundDefault:o.l0.color.foregroundDimmer,e.active&&[{}],{fontSize:o.TV.fontSizeDefault,lineHeight:"normal"}],children:[e.icon,(0,r.tZ)(o.xv,{css:[{color:"inherit"}],children:(null===n||void 0===n?void 0:n.length)?(0,r.tZ)(i.xK,{style:{color:(e.active,o.TV.foregroundDimmest)},matchStyle:{fontWeight:o.TV.fontWeightBold,color:o.TV.foregroundDefault},source:e.label,matches:n.map((function(e){return{column:e.from,length:e.to-e.from}}))}):e.label})]})}var d=(0,o.KD)("button"),f=(0,a.iv)({border:"none",background:"transparent",color:"inherit",font:"inherit",cursor:"pointer"});function p(e){var t=e.onClick,n=u(e,["onClick"]);return(0,r.tZ)(d,{css:[f],onClick:t,children:(0,r.tZ)(s,l({},n))})}},36107:function(e,t,n){n.d(t,{fA:function(){return o},pl:function(){return a},zf:function(){return i}});var r=n(48015);function o(e,t){var n=t.commands;return{data:e,match:t.match,commands:n}}function i(e){var t=e.defaultScore,n=void 0===t?1:t;return function(e){var t=e.search,o=e.data,i=e.active;if(!t&&i)return{score:n};var a=r.Z.match(t,o.label);return a?{score:a.score,render:{ranges:a.ranges}}:null}}var a=i({defaultScore:1})},10586:function(e,t,n){n.d(t,{$:function(){return a},q:function(){return i}});var r=n(35944),o=n(98990),i={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"K"},a={type:"context",icon:(0,r.tZ)(o.Z,{}),label:"",description:"Type a command...",keyboardShortcut:i}},37078:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(35944),o=n(67294),i=n(70917),a=n(54929),c=n(3204),l=n(21130),u=n(13475),s=n(96594),d=n(90652),f=n(27291);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return t.match.score-e.match.score}function b(e){var t,n=function(e){var t,n=e.index,r=e.focus;p.setPath(w.slice(0,n+1)),r&&(null===(t=i.current)||void 0===t||t.focus())},r=(0,f.Z)(e.onSelect),i=(0,o.useRef)(null),a=(0,o.useState)(""),c=a[0],l=a[1],u=(0,o.useState)((function(){return function(e){var t=e.initialPath,n=e.partialUpdateTimeout,r=e.onUpdate,o=function(e){a&&clearTimeout(a);var t=++c,o=0,l=[],u=i[i.length-1];u.commands?(void 0!==n&&(a=setTimeout((function(){l.length&&r({items:l,partial:!0,path:i})}),n)),function n(u,s){if(o++,!u.commands)throw new Error("Expected commands");var d=h(s).concat([u]),f=d.length===i.length;Promise.resolve(u.commands({active:f,search:e,path:d})).then((function(u){t===c?(o--,u.forEach((function(t){var r=h(d).concat([t]),o=t.match?t.match({search:e,data:t.data,path:r,active:f}):null;o&&l.push({path:r,data:t.data,match:o}),t.commands&&n(t,d)})),o>0||(a&&clearTimeout(a),r({items:l,path:i}))):a&&clearTimeout(a)}))}(u,i.slice(0,i.length-1))):r({items:l,path:i})},i=t,a=null,c=0;return{search:o,setPath:function(e){i=e,o(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")},getPath:function(){return i}}}({initialPath:Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand],partialUpdateTimeout:100,onUpdate:function(e){k((function(t){return function(e,t){var n,r=t.items.sort(v),o=null===(n=t.path[t.path.length-1])||void 0===n?void 0:n.data.description;return{items:r,isLoading:Boolean(t.partial),path:t.path,placeholder:o||e.placeholder}}(t,e)}))}})})),p=u[0];(0,o.useEffect)((function(){p.setPath(Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand])}),[e.initialCommand,p]);var b=(0,o.useState)((function(){var e,t=p.getPath();return{path:t,items:[],sections:[],isLoading:!1,placeholder:(null===(e=t[t.length-1])||void 0===e?void 0:e.data.description)||""}})),g=b[0],y=g.items,x=g.placeholder,w=g.path,Z=g.isLoading,k=b[1],S=(0,d.Z)(c,100);(0,o.useEffect)((function(){k((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},e,{isLoading:!0})})),p.search(S)}),[p,S]);var j=Boolean(c||w.length>1),C=(0,s.Kb)({inputValue:c,items:y,itemToString:function(e){return e?e.data.label:""},initialHighlightedIndex:j?0:-1,defaultHighlightedIndex:j?0:-1}),I=C.selectedItem;return(0,o.useEffect)((function(){if(I)return"context"===I.data.type?(p.setPath(I.path),l(""),void(e.onShowInput&&e.onShowInput())):void r.current(I)}),[p,I,r]),{keyboardShortcut:null===(t=w[0])||void 0===t?void 0:t.data.keyboardShortcut,resetToIndex:n,handleBackspace:function(){c.length||1!==w.length&&n({index:w.length-2})},handleLeftRightArrow:function(e){if(C.highlightedIndex>-1){var t="previous"===("ArrowLeft"===e?"previous":"next")?y[C.highlightedIndex-1]?C.highlightedIndex-1:0===C.highlightedIndex&&y.length?y.length-1:null:y[C.highlightedIndex+1]?C.highlightedIndex+1:y[0]?0:null;null!==t&&C.setHighlightedIndex(t)}},combobox:C,inputValue:c,setInputValue:l,items:y,placeholder:x,path:w,isLoading:Z,inputRef:i}}var g=n(96505),y=n(23139),x=n(85567);function w(e){var t=e.content||(0,r.BX)(r.HY,{children:[(Array.isArray(e.item)?e.item:[e.item]).map((function(e,t){return(0,r.tZ)(g.Z,{icon:e.icon,label:e.label,active:e.active,highlightRanges:e.highlightRanges},e.label+t)})),e.description?(0,r.tZ)(y.xv,{variant:"small",color:e.active?"dimmer":"dimmest",css:[y.l0.flex.growAndShrink(1)],children:e.description}):null]});return(0,r.BX)(y.Tg,{elevated:e.active,css:[y.l0.p(8),y.l0.rowWithGap(4),y.l0.align.center,y.l0.justify.spaceBetween],children:[(0,r.tZ)(y.G7,{css:[y.l0.rowWithGap(4),y.l0.align.center,y.l0.flex.growAndShrink(1)],children:t}),e.keyboardShortcut?(0,r.tZ)(x.Z,{shortcut:e.keyboardShortcut}):null]})}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}var S=(0,a.K)("div");function j(e){var t=e.isLoading||e.items.length?e.items.map((function(t,n){var o=t.data,i=o.label,a=o.icon,c=t.match.render,l=n===e.highlightedIndex,u=c&&"content"in c?c.content:void 0,s=c&&"ranges"in c?c.ranges:void 0;return(0,r.tZ)(S,k({css:[{cursor:"pointer"}]},e.getItemProps({item:t,index:n}),{children:u?(0,r.tZ)(w,{active:l,description:o.description,keyboardShortcut:o.keyboardShortcut,content:u}):(0,r.tZ)(w,{active:l,description:o.description,keyboardShortcut:o.keyboardShortcut,item:{icon:a,label:i,active:l,highlightRanges:s}})}),function(e){var t,n=e.path.map((function(e){return e.data.label}));return(null===(t=e.match)||void 0===t?void 0:t.key)&&n.push(e.match.key),n.join(":")}(t))})):null;return(0,r.tZ)(S,k({},e.getMenuProps(),{css:[c.l0.flex.growAndShrink(1),c.l0.overflow("auto")],children:t}))}var C=(0,o.memo)(j),I=n(98990),T=n(1517);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}var E=(0,a.K)("div"),z=(0,a.K)("input"),_=(0,i.iv)([c.l0.height("100%"),c.l0.flex.growAndShrink(1),c.l0.color.foregroundDefault,c.l0.display.block,c.l0.py(8),{fontSize:c.TV.fontSizeSubheadDefault,backgroundColor:"transparent",border:"0 none",outline:"0 none","::placeholder":{color:c.TV.foregroundDimmest},"&:hover::placeholder":{color:c.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:c.TV.foregroundDimmest}}]);function P(e){var t=(0,u.Z)(e.onCancel||function(){},[e.onCancel]),n=b({onSelect:e.onSelect,initialCommand:e.initialCommand,onShowInput:e.onShowInput}),o=n.combobox;return(0,r.BX)(y.Tg,{elevated:!0,innerRef:t,className:e.className,css:[c.l0.flex.growAndShrink(1),c.l0.borderRadius(8),c.l0.overflow("hidden"),c.l0.maxHeight("70vh")],children:[(0,r.BX)(E,O({},o.getComboboxProps(),{css:[c.l0.rowWithGap(4),c.l0.pl(4),c.l0.pr(8),c.l0.align.center],children:[(0,r.tZ)(a.Z,{css:[c.l0.py(8),c.l0.rowWithGap(4)],children:n.path.map((function(t,o){var i=t.data,a=i.label,c=i.icon,u=a+o,s=function(){e.hideInput&&e.onShowInput&&e.onShowInput(),n.resetToIndex({index:o,focus:!0})};return 0===o?(0,r.tZ)(l.Z,{alt:"Commands",onClick:s,children:n.isLoading?(0,r.tZ)(T.Z,{}):(0,r.tZ)(I.Z,{})},u):(0,r.tZ)(g.M,{label:a,icon:c,onClick:s},u)}))}),(0,r.tZ)(z,O({css:[_,e.hideInput&&[c.l0.px(0),c.l0.width(0),c.l0.flex.grow(0)]]},o.getInputProps({value:n.inputValue,autoFocus:!0,ref:n.inputRef,onChange:function(e){return n.setInputValue(e.currentTarget.value)},onBlur:e.onBlur,onKeyDown:function(t){"ArrowLeft"!==t.key&&"ArrowRight"!==t.key?"Backspace"!==t.key?"Escape"===t.key&&e.onCancel&&e.onCancel():n.handleBackspace():n.handleLeftRightArrow(t.key)},placeholder:n.placeholder}))),n.keyboardShortcut?(0,r.tZ)(x.Z,{shortcut:n.keyboardShortcut}):null,e.trailingContent]})),(0,r.tZ)(C,{items:n.items,getMenuProps:o.getMenuProps,getItemProps:o.getItemProps,highlightedIndex:o.highlightedIndex,isLoading:n.isLoading})]})}},57337:function(e,t,n){n.d(t,{L:function(){return j},Z:function(){return C}});var r,o=n(35944),i=n(67294),a=n(88768),c=n(56834),l=n(5560),u=n(21217),s=n(3204),d=n(54929),f=n(1517),p=n(85567),h=n(23139),m=n(70917),v=n(44054),b=n(7208),g=n(87349),y=n(92944);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){switch(e.runState){case u.A.IDLE:return(0,o.tZ)(g.Z,{size:16});case u.A.RUNNING:return(0,o.tZ)(y.Z,{size:16});default:return(0,o.tZ)(f.Z,{size:16})}}var Z=(x(r={},u.A.IDLE,"Run"),x(r,u.A.RUNNING,"Stop"),x(r,u.A.STOPPING,"Stopping"),x(r,u.A.OFFLINE,"Working"),r),k=(0,m.iv)([s.l0.py(12),s.l0.width(60),s.l0.flex.row,s.l0.center,s.l0.borderRadius(8),s.l0.backgroundColor.accentPositiveDimmest,s.l0.color.accentPositiveStronger,s.l0.cursor.pointer,x({transition:"color 0.2s ease 0s, background-color 0.2s ease 0s",border:"1px solid",borderColor:s.TV.accentPositiveDimmest,lineHeight:1,outline:"0 none","&:hover":[{color:"white"},s.l0.backgroundColor.accentPositiveDefault]},"@media (min-width: ".concat(v.j.tabletMax,"px)"),[s.l0.width(100)])]),S=(0,m.iv)([s.l0.color.foregroundDimmer,s.l0.backgroundColor.backgroundHigher,{borderColor:s.TV.backgroundHigher,"&:hover":[{color:"white"},s.l0.backgroundColor.backgroundHighest]}]);function j(e){var t=(0,i.useState)(e.getRunState()),n=t[0],r=t[1];return(0,i.useEffect)((function(){return r(e.getRunState()),e.onStateChanged((function(e){r(e)}))}),[e]),n}function C(e){var t=e.runner,n=e.onRunInitiated,r=e.style,i=void 0===r?"default":r,f=e.disableTooltip,m=(0,l.Z)(),g=j(t),y=(0,a._3A)({variables:{id:m}}).data,C="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)?y.repl:null,I=(0,b.Z)().celebrate,T=g!==u.A.IDLE&&g!==u.A.RUNNING,A=function(e){return g===u.A.IDLE?(n&&n(),t.run(),C&&(0,c.j)(c.U3.PROJECT_RAN,{language:C.language,replId:C.id,replTitle:C.title,rootOriginReplUrl:C.rootOriginReplUrl}),void I(e.currentTarget)):g===u.A.RUNNING?t.stopRun():void 0};if("floating"===i)return(0,o.tZ)(d.Z,{tag:"button",disabled:T,css:[{position:"fixed",right:24,bottom:72,zIndex:1},s.l0.center,{height:"50px",width:"50px",opacity:"0.5",cursor:"pointer",borderRadius:"100%",border:"solid 2px var(--accent-positive-dimmer)",backgroundColor:s.TV.accentPositiveDimmest}],onClick:A,children:(0,o.tZ)(w,{runState:g})});var O=g===u.A.IDLE;return"inline-small"===i?(0,o.BX)("button",{onClick:A,disabled:T,css:[s.l0.p(12),s.l0.flex.row,s.l0.center,s.l0.borderRadius(8),O?s.l0.backgroundColor.accentPositiveDimmest:s.l0.backgroundColor.backgroundHigher,O?s.l0.color.accentPositiveStronger:s.l0.color.foregroundDimmer,{border:"1px solid",borderColor:O?s.TV.accentPositiveDimmest:s.TV.backgroundHigher},s.l0.width("100%"),s.l0.height("100%")],children:[(0,o.tZ)(w,{runState:g}),(0,o.tZ)(h.xv,{variant:"subheadDefault",css:[s.l0.pl(8)],children:Z[g]})]}):(0,o.tZ)(h.u,{placement:"bottom",isDisabled:f,tooltip:(0,o.tZ)(p.Z,{shortcut:{cmdOrCtrlKey:!0,key:"Enter"}}),children:function(e,t){return(0,o.BX)("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({},e,{onClick:A,ref:t,css:[k,!O&&S],children:[(0,o.tZ)(w,{runState:g}),(0,o.tZ)(h.xv,{variant:"subheadDefault",css:[s.l0.pl(8),s.l0.display.none,x({lineHeight:1,overflow:"visible"},"@media (min-width: ".concat(v.j.tabletMax,"px)"),[s.l0.display.block])],children:Z[g]})]}))}})}},46878:function(e,t,n){n.d(t,{Z:function(){return z}});var r,o=n(35944),i=n(79547),a=n.n(i),c=n(67294),l=n(23139),u=n(90601),s=n(8996),d=n(70917),f=n(50055),p=n(90213);function h(e,t){var n,o;switch(e){case r.Init:n="5%",o="Loading...";break;case r.Booting:o="Booting Repl",n="20%";break;case r.LoadingFiles:o="Downloading files",n="".concat(Math.floor(20+70*t).toString(),"%");break;case r.Ready:o="Ready",n="100%";break;default:(0,p.Z)(e)}return{percentString:n,message:o}}!function(e){e.Init="Init",e.Booting="Booting",e.LoadingFiles="LoadingFiles",e.Ready="Ready"}(r||(r={}));var m=(0,d.F4)({"0%":{opacity:0,top:0},"100%":{opacity:1,top:"-25px"}});function v(e){var t=e.onBootStatus,n=(0,c.useState)({current:r.Init,previous:null}),i=n[0],a=n[1],l=(0,c.useState)(0),u=l[0],s=l[1];(0,c.useEffect)((function(){var e=0,n=0,o=null,i=null,c=function(){e=0,n=0,o=null,i&&(clearInterval(i),i=null)},l=t((function(t){var l;switch(function(t){var r=t.stage,a=t.progress,l=t.total;if(i&&clearInterval(i),r!==f.api.BootStatus.Stage.PULL_FILES&&r!==f.api.BootStatus.Stage.LOAD_BLOCK||!l)return c(),void s(0);if(!(e>a)&&n!==a){var u=Date.now(),d=0;d=o?(a-n)/(u-o)*50:5e4,o=u,n=a,i=setInterval((function(){(e+=d)>l&&(e=l),e=Math.max(e,a),s(e/l)}),50)}}(t),t.stage){case f.api.BootStatus.Stage.ACQUIRING:l=r.Booting;break;case f.api.BootStatus.Stage.PULL_FILES:case f.api.BootStatus.Stage.LOAD_BLOCK:l=r.LoadingFiles;break;case f.api.BootStatus.Stage.COMPLETE:l=r.Ready;break;default:return}a((function(e){return e.current===l?e:{current:l,previous:e.current}}))}));return function(){c(),l()}}),[t]);var d=i.previous?h(i.previous,1):null,p=h(i.current,u);return(0,o.BX)("div",{css:{position:"absolute",left:"25%",right:"25%",top:"45%",backgroundColor:"transparent",color:"white",transition:"all 1s 0.5s",opacity:i.current===r.Ready?0:1},children:[(0,o.BX)("div",{children:[d&&(0,o.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-100px",opacity:0,transition:"top 0.4s, opacity 0.4s"},children:[d.message,i.previous===r.LoadingFiles&&" 100%"]},d.message),(0,o.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-25px",opacity:1,animationName:m.toString(),animationDuration:"0.6s"},children:[p.message,i.current===r.LoadingFiles&&" ".concat(p.percentString)]},p.message)]}),(0,o.tZ)("div",{css:{background:"none",border:"solid white 1px",borderRadius:"10px"},children:(0,o.tZ)("div",{css:{height:"5px",width:p.percentString,backgroundColor:"#fff",transition:"width cubic-bezier(0.28, 0.26, 0.33, 1) 2s"}})})]})}var b=n(77012),g=n(51968),y=n(21217);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=n(17070),k=n(89290),S=n(16911),j=n(84948),C=n(44660),I=n(88457),T=n(34140);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e,t){var n=e.runner,r=e.packager,i=e.languageHeader,d=e.onClear,f=e.enableScreenReaderMode,p=e.borderRadius,h=void 0===p?l.TV.borderRadius4:p,m=e.onBootStatus,x=O(function(e){var t=e.runner,n=e.packager,r=e.languageHeader,o=e.enableScreenReaderMode,i=w((0,b.Z)({createXtermProps:{enableScreenReaderMode:o}}),2),a=i[0],l=i[1],u=(0,c.useState)(""),s=u[0],d=u[1];return(0,c.useEffect)((function(){if(!a&&"shell"===t.mode)return t.onOutput((function(e){return d((function(t){return t+e}))}))}),[a,t,d]),(0,c.useEffect)((function(){if(!a&&n)return n.onOutput((function(e){return d((function(t){return t+e.replace(/\n/g,"\n\r")}))}))}),[a,n,d]),(0,c.useEffect)((function(){var e=function(e){if(!a)throw new Error("Expected xterm");a.write(e.replace(/\n/g,"\n\r"))};if(a&&n){var t=n.onOutput((function(t){e(t)})),r=n.onError((function(){return e("\x1b[31m\n\nReplit: Package operation failed.\x1b[00m")})),o=n.onStateChanged((function(t){t&&e("\n\nReplit: Updating package configuration\n\n")}));return function(){t(),r(),o()}}}),[a,n]),(0,c.useEffect)((function(){s&&a&&(a.write(s),d(""))}),[a,s]),(0,c.useEffect)((function(){r&&d((function(e){return e+"".concat(r.replace(/\n/g,"\n\r"),"\n\r")}))}),[r,d]),(0,c.useEffect)((function(){if(a){var e=function(){t.getRunState()!==y.A.OFFLINE&&t.resizeTerminal(a.getSize())},n=[];n.push(a.onResize(e).dispose);var r=[];n.push(a.onData((function(e){var n=(0,g.I)(e);t.getRunState()!==y.A.OFFLINE?t.sendInput(n):r.push(n)})).dispose),n.push(t.onOutput((function(e){a.write(e)})));var o=!1;return n.push(t.onStateChanged((function(n){if(n!==y.A.OFFLINE){if(o||(e(),o=!0),r.length){var i=!0,a=!1,c=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=l.value;t.sendInput(s)}}catch(d){a=!0,c=d}finally{try{i||null==u.return||u.return()}finally{if(a)throw c}}r=[]}}else o=!1}))),t.getRunState()!==y.A.OFFLINE&&(e(),o=!0),function(){n.forEach((function(e){return e()}))}}}),[a,t]),[a,l,d]}({runner:n,packager:r,languageHeader:i,enableScreenReaderMode:f}),3),A=x[0],E=x[1],z=x[2],_=O(c.useState(!1),2),P=_[0],R=_[1],D=(0,I.Fg)();c.useImperativeHandle(t,(function(){return{write:function(e){A?A.write(e):z((function(t){return t+e.replace(/\n/g,"\n\r")}))},clear:function(){A&&A.clear()},focus:function(){A&&A.focus()}}}));var B=(0,j.Z)(C.H.Output);return(0,o.BX)("div",{onKeyDown:function(e){"f"===e.key&&(0,u.j)(e)&&!e.shiftKey&&(R(!0),e.preventDefault())},ref:B,className:a().dynamic([["c5caaf6b33bfcc2f",[h]]])+" "+"".concat(I.RJ," ").concat(D===I.V2.replitSpooky?"spooky":"dark"," terminal"),children:[(0,o.tZ)("div",{className:a().dynamic([["c5caaf6b33bfcc2f",[h]]])+" controls",children:(0,o.BX)(s.Ug,{align:"center",wrap:"nowrap",children:[P&&A?(0,o.tZ)(Z.R,{findPrevious:A.findPrevious,findNext:A.findNext,exit:function(){return R(!1)}}):(0,o.tZ)(k.l,{onClick:function(){return R(!0)}}),(0,o.tZ)(S.Z,{onClick:function(){A&&(A.clear(),d&&d(),i&&A.write("".concat(i.replace(/\n/g,"\n\r"),"\n\r")),A.focus())}})]})}),!f&&(0,o.tZ)(T.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the console.'}),(0,o.tZ)("div",{ref:E,className:a().dynamic([["c5caaf6b33bfcc2f",[h]]])+" xterm-container"}),m?(0,o.tZ)(v,{onBootStatus:m}):null,(0,o.tZ)(a(),{id:"c5caaf6b33bfcc2f",dynamic:[h],children:".terminal.__jsx-style-dynamic-selector{height:100%;width:100%;position:relative;background-color:var(--background-default);-webkit-border-radius:".concat(h,";-moz-border-radius:").concat(h,";border-radius:").concat(h,";padding-left:var(--space-16);padding-top:var(--space-4)}.controls.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;position:absolute;opacity:0;top:var(--space-8);right:var(--space-8);z-index:100;min-height:30px}.terminal.__jsx-style-dynamic-selector:focus-within .controls.__jsx-style-dynamic-selector{opacity:1}.xterm-container.__jsx-style-dynamic-selector{height:100%;overflow:auto}.xterm-container.__jsx-style-dynamic-selector .xterm{height:100%}.xterm-container.__jsx-style-dynamic-selector .xterm-viewport{overflow-y:auto!important;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}")})]})},z=c.forwardRef(E)},16524:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(35944),o=n(67294),i=n(94184),a=n.n(i),c=n(4655),l=n(17070),u=n(89290),s=n(16911),d=n(90601),f=n(89431),p=n(88457),h=n(54929),m=n(3204),v=n(34140),b=n(36793);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=(0,h.K)("div");function w(e){var t,n=e.container,i=e.fs,g=e.className,w=e.visible,Z=(0,f.Z)("flag-xterm-file-parser"),k=(0,b.Z)().preferences.accessibleTerminal,S=y((0,c.Z)({container:n,autoFocus:!0,createXtermProps:{loadFileParserAddon:Z,listFiles:i.listFiles,replSlug:null===(t=n.getContext())||void 0===t?void 0:t.repl.slug}}),2),j=S[0],C=S[1],I=y(o.useState(!1),2),T=I[0],A=I[1];o.useEffect((function(){w&&j&&j.focus()}),[w,j]);var O=T&&j?(0,r.tZ)(l.R,{findPrevious:j.findPrevious,findNext:j.findNext,exit:function(){return A(!1)}}):(0,r.tZ)(u.l,{onClick:function(){return A(!0)}}),E=(0,p.Fg)(),z="".concat(p.RJ," ").concat(E===p.V2.replitSpooky?"spooky":"dark");return(0,r.BX)(h.Z,{className:a()(z,g),css:[m.l0.p(8),m.l0.position.relative,m.l0.height("100%"),m.l0.backgroundColor.backgroundDefault,{"& .xterm":[m.l0.height("100%")],"& .xterm .xterm-viewport":[m.l0.height("100%"),{overflowY:"auto"}],"&:focus-within .controls":{opacity:1}}],onKeyDown:function(e){"f"===e.key&&(0,d.j)(e)&&(A(!0),e.preventDefault())},children:[!k&&(0,r.tZ)(v.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the shell.'}),(0,r.tZ)(x,{css:[m.l0.flex.growAndShrink(1)],ref:C}),j?(0,r.BX)(h.Z,{className:"controls",css:[m.l0.position.absolute,m.l0.flex.row,m.l0.top(8),m.l0.right(8),m.l0.height(30),m.l0.align.center,{opacity:0,zIndex:4}],children:[O,(0,r.tZ)(s.Z,{onClick:j.clear})]}):(0,r.tZ)("code",{css:[m.l0.color.foregroundDimmest,m.l0.flex.growAndShrink(1)],children:"Loading..."})]})}},18614:function(e,t,n){n.d(t,{Z:function(){return ce}});var r,o=n(34051),i=n.n(o),a=n(35944),c=n(79547),l=n.n(c),u=n(67294),s=n(5560),d=n(71171),f=n.n(d),p=n(94184),h=n.n(p),m=n(9917),v=n(50553),b=n(35060),g=n(86072),y=n(26687),x=n(51281),w=n(70420),Z=n(98620),k=n(89431),S=n(38380),j=n(47571),C=n(33630),I=n(33090),T=n(88768),A=n(21394),O=n(68342),E=n(5440),z=n(32378),_=n(74279),P=n(8996),R=n(8286),D=n(88076),B=n(54920),M=n(40425),N=n(55681),L=n(30617),F=n(95343),G=n(56834),U=n(21837),X=n(91131),V=n(33379),H=n(93577),W=n(30887),K=n(93943);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"===typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function ee(e){var t,n=e.annotation,r=e.onChangeMessage,o=void 0===r?function(){}:r,i=e.onFinalizeMessage,c=void 0===i?function(){}:i,s=e.onCloseThread,d=void 0===s?function(){}:s,f=e.scrollToAnchor,p=void 0===f?function(){}:f,h=e.markThreadResolved,m=void 0===h?function(){}:h,b=e.markThreadUnresolved,y=void 0===b?function(){}:b,Z=(0,k.Z)("flag-thread-snippets"),S=(0,C.Z)(n.id),I=(0,U.Vy)(n),T=u.useMemo((function(){var e,t=q(n.messages).sort((function(e,t){return new Date(e.timeCreated).getTime()-new Date(t.timeCreated).getTime()}));return(e=t).push.apply(e,q(S.filter((function(e){return!t.slice(-5).find((function(t){return t.id===e.id}))})))),(0,_.Z)(t)}),[n,S]),E=u.useMemo((function(){if(I)return null===I||void 0===I?void 0:I.getSnippet()}),[I]),B=u.useRef(null);(0,j.Z)(n);u.useEffect((function(){B.current&&(B.current.scrollTop=B.current.scrollHeight)}),[B,n]);var M=(null===I||void 0===I||null===(t=I.anchor)||void 0===t?void 0:t.path)||n.path||"";return(0,a.BX)(a.HY,{children:[(0,a.BX)("div",{className:"jsx-f601ef3cc045c3e6 header",children:[(0,a.tZ)("span",{className:"jsx-f601ef3cc045c3e6",children:(0,a.tZ)(x.Z,{filled:!1,border:!1,onClick:d,children:(0,a.tZ)(v.Z,{rotate:90})})}),(0,a.tZ)("span",{className:"jsx-f601ef3cc045c3e6 separator"}),(0,a.BX)(P.Ug,{children:[!n.isResolved&&n.path&&(0,a.tZ)(x.Z,{filled:!1,border:!1,"aria-label":"Jump to code",role:"tooltip","data-microtip-position":"left",onClick:function(){return p(n.id)},children:(0,a.tZ)(g.Z,{})}),!n.isResolved&&!n.isGeneral&&(0,a.tZ)(x.Z,{filled:!1,border:!1,"aria-label":"Resolve thread",role:"tooltip","data-microtip-position":"left",onClick:function(){return m(n)},children:(0,a.tZ)(R.Z,{})}),n.isResolved&&!n.isGeneral&&(0,a.tZ)(x.Z,{filled:!1,border:!1,"aria-label":"Unresolve thread",role:"tooltip","data-microtip-position":"left",onClick:function(){return y(n)},children:(0,a.tZ)(D.Z,{})})]}),(0,a.tZ)(l(),{id:"f601ef3cc045c3e6",children:".separator.jsx-f601ef3cc045c3e6{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.header.jsx-f601ef3cc045c3e6{padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:32px}"})]}),(0,a.BX)("div",{className:"jsx-e771b3432a43458d "+"jsx-".concat(w.Q.__hash)+" thread",children:[(0,a.tZ)("div",{className:"jsx-e771b3432a43458d "+"jsx-".concat(w.Q.__hash)+" message-group-container-container",children:(0,a.BX)("div",{ref:B,className:"jsx-e771b3432a43458d "+"jsx-".concat(w.Q.__hash)+" message-group-container",children:[Z&&n.path&&(0,a.tZ)(z.u5,{path:M,snippet:E,onNavigateToCode:function(){return p(n.id)}}),T.map((function(e){return(0,a.tZ)(O.ZP,{messageGroup:e},e.messages[0].id)}))]})}),(0,a.tZ)(A.Z,{annote:n,onChangeMessage:o,onFinalizeMessage:c}),(0,a.tZ)(l(),{id:w.Q.__hash,children:w.Q}),(0,a.tZ)(l(),{id:"e771b3432a43458d",children:".thread.jsx-e771b3432a43458d{position:relative;display:grid;grid-row-gap:var(--space-16);-webkit-box-pack:stretch;-webkit-justify-content:stretch;-moz-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;overflow:hidden;padding:var(--space-16);padding-top:0;grid-template-rows:1fr -webkit-min-content;grid-template-rows:1fr min-content;height:100%}.message-group-container-container.jsx-e771b3432a43458d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.message-group-container.jsx-e771b3432a43458d{display:grid;grid-row-gap:var(--space-16);overflow-y:auto;padding:var(--space-8);padding-bottom:0}"})]})]})}function te(e){var t=e.unreadCount;return(0,a.BX)("div",{className:"jsx-7452becc48d76305 count-container",children:[t>0?(0,a.tZ)("div",{className:"jsx-7452becc48d76305 count",children:t}):null,(0,a.tZ)(l(),{id:"7452becc48d76305",children:".count-container.jsx-7452becc48d76305{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;height:15px}.count.jsx-7452becc48d76305{background:var(--accent-primary-default);color:var(--white);font-size:var(--font-size-small);height:15px;padding:0 5px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]})}function ne(e){var t=e.annotation,n=e.onClick,r=t.messages.some((function(e){return!e.seen})),o=(0,U.Vy)(t),i=u.useMemo((function(){return t.messages.filter((function(e){return!1===e.seen})).length}),[t]),c=(0,S.Z)(t),s=c.map((function(e){return e.username})).join(", "),d=t.messages[0],f=t.messages[t.messages.length-1],p=(null===o||void 0===o?void 0:o.anchor.path)||(null===t||void 0===t?void 0:t.path)||void 0,v=u.useMemo((function(){if(o)return null===o||void 0===o?void 0:o.getSnippet()}),[o]),b=(null===t||void 0===t?void 0:t.user)?{src:t.user.image,name:t.user.username}:void 0,g="TextMessageContentType"===(null===t||void 0===t?void 0:t.messages[0].content.__typename)?t.messages[0].content.text:void 0,y=u.useMemo((function(){if(!(null===f||void 0===f?void 0:f.timeCreated))return"";var e=new Date(f.timeCreated),t=e.getTime();return Date.now()-t<1e3?"just now":"".concat((0,m.F)(e,!0)," ago")}),[f]);return d?t.path?(0,a.tZ)(z.dp,{path:p,snippet:v,timeString:y,onClick:n,avatar:b,message:g}):(0,a.BX)("button",{onClick:n,tabIndex:0,className:"jsx-e71b06328d0d68b1 "+(h()("thread",{unread:r})||""),children:[(0,a.tZ)("div",{className:"jsx-e71b06328d0d68b1 profile",children:(0,a.tZ)(I.Z,{users:c})}),(0,a.BX)("div",{className:"jsx-e71b06328d0d68b1 message-preview",children:[(0,a.tZ)("div",{className:"jsx-e71b06328d0d68b1 thread-title",children:s}),"TextMessageContentType"===d.content.__typename&&(0,a.tZ)("div",{className:"jsx-e71b06328d0d68b1 thread-preview",children:d.content.text})]}),(0,a.BX)("div",{className:"jsx-e71b06328d0d68b1 info",children:[(0,a.tZ)(te,{unreadCount:i}),(0,a.tZ)("div",{className:"jsx-e71b06328d0d68b1 time",children:y})]}),(0,a.tZ)(l(),{id:"e71b06328d0d68b1",children:".thread.jsx-e71b06328d0d68b1{background:var(--background-default);padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);display:grid;grid-auto-flow:column;grid-template-columns:-webkit-min-content minmax(0,1fr)-webkit-min-content;grid-template-columns:min-content minmax(0,1fr)min-content;grid-gap:var(--space-8);width:100%;max-height:52px;overflow:hidden;cursor:pointer;-webkit-transition:.1s all ease-in-out;-moz-transition:.1s all ease-in-out;-o-transition:.1s all ease-in-out;transition:.1s all ease-in-out;border:none;text-align:left}.thread.unread.jsx-e71b06328d0d68b1 .thread-title.jsx-e71b06328d0d68b1{font-weight:var(--font-weight-bold)}.thread.jsx-e71b06328d0d68b1:hover{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05);-webkit-transition:.2s all;-moz-transition:.2s all;-o-transition:.2s all;transition:.2s all}.thread.jsx-e71b06328d0d68b1:focus{outline:none;outline-offset:2px;-webkit-box-shadow:0 0 0 3px var(--accent-primary-dimmer);-moz-box-shadow:0 0 0 3px var(--accent-primary-dimmer);box-shadow:0 0 0 3px var(--accent-primary-dimmer)}.thread-title.jsx-e71b06328d0d68b1,.thread-preview.jsx-e71b06328d0d68b1{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.thread-title.jsx-e71b06328d0d68b1{color:var(--foreground-default);font-size:var(--font-size-default)}.thread-preview.jsx-e71b06328d0d68b1{color:var(--foreground-dimmer);font-size:var(--font-size-small)}.profile.jsx-e71b06328d0d68b1{width:25px;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.time.jsx-e71b06328d0d68b1{white-space:pre;font-size:var(--font-size-small);color:var(--foreground-dimmest)}.info.jsx-e71b06328d0d68b1{display:grid;grid-gap:var(--space-4);-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;-ms-flex-align:end;align-items:flex-end}"})]}):null}function re(e){var t=e.generalThreadsOpen,n=e.setGeneralThreadsOpen,r=(0,s.Z)(),o=u.useContext(B.Z),i=o.generalThread,c=o.handleChangeMessage,d=o.handleFinalizeMessage,p=o.createAnnotationAnchorPlaceholder,m=u.useMemo((function(){if(!i)return[];var e=q(i.messages).sort((function(e,t){return new Date(e.timeCreated).getTime()-new Date(t.timeCreated).getTime()}));return(0,_.Z)(e)}),[i]);u.useEffect((function(){i||p({annotationAnchor:{id:f()(),replId:r,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[i,r,p]);var b=u.useMemo((function(){return i?i.messages.filter((function(e){return!1===e.seen})).length:0}),[i]),g=u.useRef(null);(0,j.Z)(t&&i||null);return u.useEffect((function(){g.current&&(g.current.scrollTop=g.current.scrollHeight)}),[g,i]),i?(0,a.BX)("div",{onClick:function(){return n(!0)},className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(w.Q.__hash)+" "+(h()("general-thread",{"is-open":t})||""),children:[(0,a.BX)("div",{className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(w.Q.__hash)+" general-thread-header",children:[(0,a.BX)(P.Ug,{spacing:1,align:"center",children:[(0,a.tZ)(M.Z,{level:5,children:"Chat"}),(0,a.tZ)(te,{unreadCount:b})]}),(0,a.tZ)(P.Ug,{spacing:1,align:"center",children:(0,a.tZ)(x.Z,{onClick:function(e){n(!t),e.stopPropagation()},filled:!1,Icon:function(){return(0,a.tZ)(v.Z,{rotate:t?0:180})},border:!1,size:"small"})})]}),(0,a.tZ)("div",{className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(w.Q.__hash)+" message-group-container-container",children:(0,a.tZ)("div",{ref:g,className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(w.Q.__hash)+" message-group-container",children:m.map((function(e){return(0,a.tZ)(O.ZP,{messageGroup:e},e.messages[0].id)}))})}),(0,a.tZ)("div",{className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(w.Q.__hash)+" thread-input-container",children:(0,a.tZ)(A.Z,{placeholder:"Send message",annote:i,onChangeMessage:function(e){c({anchor:i,message:e.message,messageId:e.messageId}),n(!0)},onFinalizeMessage:function(e){d({anchor:i,message:e.message,messageId:e.messageId}),n(!0),(0,G.j)(G.U3.MESSAGE_SENT,{replId:r,source:"generalThreads",variant:"replace-chat"})}})}),(0,a.tZ)(l(),{id:w.Q.__hash,children:w.Q}),(0,a.tZ)(l(),{id:"f2c7b6e2655edf19",children:".general-thread.jsx-f2c7b6e2655edf19{margin:1px;padding:var(--space-16);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border-top:1px solid var(--background-higher);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);z-index:100;position:absolute;bottom:0;left:0;right:0;background:var(--background-default);display:grid;overflow:hidden;grid-template-rows:-webkit-min-content 1fr -webkit-min-content;grid-template-rows:min-content 1fr min-content;grid-gap:var(--space-8);cursor:pointer;-webkit-transition:.2s height;-moz-transition:.2s height;-o-transition:.2s height;transition:.2s height;height:7.5em}.general-thread.is-open.jsx-f2c7b6e2655edf19{height:100%;cursor:unset}.general-thread-header.jsx-f2c7b6e2655edf19{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.message-group-container-container.jsx-f2c7b6e2655edf19{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:0}.general-thread.is-open.jsx-f2c7b6e2655edf19 .message-group-container-container.jsx-f2c7b6e2655edf19{height:100%}.message-group-container.jsx-f2c7b6e2655edf19{display:grid;grid-row-gap:var(--space-16);overflow-y:auto;padding:var(--space-8);padding-bottom:0}.thread-input-container.jsx-f2c7b6e2655edf19{width:100%}"})]}):null}function oe(e,t){var n,r,o=null===(n=e.messages)||void 0===n?void 0:n[e.messages.length-1],i=null===(r=t.messages)||void 0===r?void 0:r[t.messages.length-1];return o||i?o?i?new Date(i.timeCreated).getTime()-new Date(o.timeCreated).getTime():1:-1:0}function ie(e){var t=e.annotations,n=e.inboxMode,o=e.generalThreadsOpen,i=e.setInboxMode,c=e.onThreadClick,s=e.onMarkAllAsReadClick,d=e.onClose,f=e.setGeneralThreadsOpen,p=(0,k.Z)("flag-mark-all-threads-as-read"),h=$(u.useState(!1),2),m=h[0],g=h[1],S=(0,L.Z)().session,j=u.useMemo((function(){return t.filter((function(e){return!e.isGeneral&&(n===r.ACTIVE?!e.isResolved:e.isResolved)})).sort(oe)}),[t,n]),C=$(u.useState(3),2),I=C[0],T=C[1],A=(0,F.Z)((function(){T((function(e){return e+3}))})),O=u.useMemo((function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=j[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a,c=o.value,l=c.messages[c.messages.length-1];if(l){var u=c.path||-1,s=e[u]||{threads:[],unreadCount:0,lastMessageTime:null,path:u,lang:null===(a=c.path)||void 0===a?void 0:a.split(".").slice(-1)[0]};s.threads.push(c),s.unreadCount+=c.messages.filter((function(e){return!1===e.seen})).length,s.lastMessageTime?s.lastMessageTime=new Date(Math.max(s.lastMessageTime.getTime(),new Date(l.timeCreated).getTime())):s.lastMessageTime=new Date(l.timeCreated),e[u]=s}}}catch(d){n=!0,r=d}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Object.values(e).sort((function(e,t){return t.lastMessageTime.getTime()-e.lastMessageTime.getTime()}))}),[j]);return(0,a.BX)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash)+" threads-feed",children:[(0,a.BX)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash)+" header",children:[(0,a.BX)(P.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(M.Z,{level:4,style:{marginLeft:"var(--space-8)"},children:"Threads"}),(0,a.tZ)(Z.Z,{isMenuOpen:m,renderAnchorComponent:function(){return(0,a.tZ)(x.Z,{filled:!0,border:!1,onClick:function(){return g(!m)},Icon:v.Z,iconOnRight:!0,children:n})},renderItemChildComponent:function(e){return(0,a.tZ)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash),children:e.label})},onClick:function(e){i(e.mode),g(!1)},items:[{label:"Active",mode:r.ACTIVE},{label:"Resolved",mode:r.RESOLVED}]}),p&&(0,a.tZ)(x.Z,{border:!1,filled:!1,Icon:y.Z,onClick:s,"aria-label":"Mark all as read",role:"tooltip","data-microtip-position":"bottom"})]}),(0,a.tZ)("span",{className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash),children:(0,a.tZ)(x.Z,{filled:!1,border:!1,onClick:d,children:(0,a.tZ)(b.Z,{})})})]}),(0,a.tZ)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash)+" threads-container",children:(0,a.BX)(P.gC,{spacing:6,align:"stretch",children:[(0,a.BX)(a.HY,{children:[O.slice(0,I).map((function(e){return(0,a.BX)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash)+" thread-group",children:[-1!==e.path&&(0,a.tZ)("button",{onClick:function(){"string"===typeof e.path&&S.openFile(e.path)},className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash)+" group-header",children:(0,a.BX)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash)+" left",children:[(0,a.tZ)(N.Z,{path:"number"!==typeof e.path?e.path:"",size:20}),(0,a.tZ)("span",{className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash)+" path",children:e.path}),(0,a.tZ)(te,{unreadCount:e.unreadCount})]})}),e.threads.map((function(e){return(0,a.tZ)(ne,{annotation:e,onClick:function(){return c(e.id)}},e.id)}))]},e.path)})),I<O.length&&(0,a.tZ)("div",{ref:A,style:{height:"100px"},className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash)})]}),(0,a.tZ)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(w.Q.__hash)+" general-threads-buffer"})]})}),(0,a.tZ)(re,{generalThreadsOpen:o,setGeneralThreadsOpen:f}),(0,a.tZ)(l(),{id:w.Q.__hash,children:w.Q}),(0,a.tZ)(l(),{id:"6bd29fae0c26abbe",children:"::-webkit-scrollbar-track{background:transparent!important}"}),(0,a.tZ)(l(),{id:"ca620c0fa3049fc0",children:".feedback.jsx-10034a93e516db1e{text-decoration:none}.threads-feed.jsx-10034a93e516db1e .list-wrapper{z-index:1}.threads-feed.jsx-10034a93e516db1e{height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.threads-container.jsx-10034a93e516db1e{position:relative;padding:var(--space-16);overflow-y:auto;overflow-y:overlay}.header.jsx-10034a93e516db1e{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;padding:var(--space-8);padding-top:var(--space-16);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:32px}.thread-group.jsx-10034a93e516db1e{max-width:100%;display:grid;grid-gap:var(--space-16)}.group-header.jsx-10034a93e516db1e{color:var(--foreground-default);font-size:var(--font-size-subhead-default);cursor:pointer;display:grid;border:none;background-color:transparent;grid-gap:var(--space-8);grid-auto-flow:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-weight:var(--font-weight-medium);max-width:100%;overflow:hidden}.group-header.jsx-10034a93e516db1e:hover{color:var(--accent-primary-stronger)}.group-header.jsx-10034a93e516db1e .left.jsx-10034a93e516db1e{display:grid;grid-auto-flow:column;grid-template-columns:-webkit-min-content 1fr -webkit-max-content;grid-template-columns:min-content 1fr max-content;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:var(--space-8)}.path.jsx-10034a93e516db1e{text-align:left;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.general-threads-buffer.jsx-10034a93e516db1e{height:104px}"})]})}function ae(){var e,t,n=(0,s.Z)(),o=(0,T.sw0)({variables:{replId:n}}).data,i=(0,X.b9)(V.c),c=u.useRef(null),d=$(u.useState(null),2),p=d[0],h=d[1],m=$(u.useState(r.ACTIVE),2),v=m[0],b=m[1],g=$(u.useState(!1),2),y=g[0],x=g[1],Z=u.useContext(B.Z),k=Z.annotations,S=Z.jumpToThread,j=Z.handleFinalizeMessage,C=Z.handleChangeMessage,I=Z.setResolvedAnnotation,A=Z.createAnnotationAnchorPlaceholder,O=Z.markAllMessagesInReplAsSeenByUser;if(u.useEffect((function(){var e=function(e){var t;if("Escape"===e.key&&c.current){var n=document.querySelectorAll(":hover"),r=Array.from(n).filter((function(e){var t;return null===(t=c.current)||void 0===t?void 0:t.contains(e)})).length>0,o=e.target&&(null===(t=c.current)||void 0===t?void 0:t.contains(e.target));(r||o)&&(p?h(null):y?x(!1):i(!1))}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[c,p,y,x,h,i]),"Repl"!==(null===o||void 0===o||null===(e=o.repl)||void 0===e?void 0:e.__typename)||!(null===(t=o.repl)||void 0===t?void 0:t.user)||!o.currentUser)return null;var E=k.find((function(e){return e.id===p}));return(0,a.BX)("div",{ref:c,className:"jsx-ff646b2cd36de159 "+"jsx-".concat(w.Q.__hash)+" conversations-container",children:[!E&&(0,a.tZ)(ie,{annotations:k,onThreadClick:function(e){h(e),"Repl"===o.repl.__typename&&(0,G.j)(G.U3.THREAD_SELECTED,{replId:n,source:"threads",general:!1,variant:"replace-chat"})},onNewThreadClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=f()();A({annotationAnchor:{id:t,replId:n,path:null,otVersion:null,indexStart:null,indexEnd:null,isGeneral:e}}),h(t)}()},onMarkAllAsReadClick:O,inboxMode:v,onClose:function(){return i(!1)},setInboxMode:function(e){return b(e)},generalThreadsOpen:y,setGeneralThreadsOpen:function(e){e!==y&&(x(e),"Repl"===o.repl.__typename&&e&&(0,G.j)(G.U3.THREAD_SELECTED,{replId:n,source:"threads",general:!0,variant:"replace-chat"}))}}),E&&(0,a.tZ)(ee,{annotation:E,onCloseThread:function(){return h(null)},onFinalizeMessage:function(e){j({anchor:E,message:e.message,messageId:e.messageId}),"Repl"===o.repl.__typename&&(0,G.j)(G.U3.MESSAGE_SENT,{replId:n,source:"threads",variant:"replace-chat"})},onChangeMessage:function(e){C({anchor:E,message:e.message,messageId:e.messageId})},markThreadResolved:function(e){I(e,!0),h(null)},markThreadUnresolved:function(e){I(e,!1)},scrollToAnchor:S}),(0,a.tZ)(l(),{id:w.Q.__hash,children:w.Q}),(0,a.tZ)(l(),{id:"ff646b2cd36de159",children:".conversations-container.jsx-ff646b2cd36de159{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:575px;width:350px;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border-color:var(--background-higher);border-width:1px;border-style:solid;-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1);background-color:var(--background-default)}@media only screen and (max-height:672px){.conversations-container.jsx-ff646b2cd36de159{height:450px;width:300px}}"})]})}function ce(){var e=(0,s.Z)(),t=(0,H.Z)(),n=(0,W.Z)(),r=(0,k.Z)("flag-typing-indicator"),o=(0,k.Z)("flag-typing-presence"),c=n.map((function(e){return e.username})),l=(0,X.b9)(V.Q),u=(0,X.b9)(V.c),d=(0,L.Z)(),f=d.session,p=d.container,h=(0,K.Z)(e,{onReceiveAnnotationUpdate:function(){}}),m=h.annotations,v=h.generalThread,b=h.placeholderAnchorId,g=h.createAnnotationAnchorPlaceholder,y=h.deleteAnnotationAnchorPlaceholder,x=h.createAnnotationMessage,w=h.updateAnnotationAnchor,Z=h.updateThreadPreview,S=h.markAllMessagesInReplAsSeenByUser,j=function(){var e,n=(e=i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=m.find((function(e){return e.id===n})))&&r.path){e.next=3;break}return e.abrupt("return");case 3:if(t===r.path){e.next=15;break}return e.prev=4,e.next=7,p.exec("test","-f",r.path);case 7:if(null===e.sent.error){e.next=10;break}return e.abrupt("return");case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return");case 15:f.openFile(r.path),l(n),u(!1);case 18:case"end":return e.stop()}}),e,null,[[4,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Y(i,r,o,a,c,"next",e)}function c(e){Y(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,a.tZ)(B.Z.Provider,{value:{activeFile:t,users:n,annotations:m,generalThread:v,jumpToThread:j,onRequestCloseThread:function(){l(null),y(),f.focusEditor()},handleFinalizeMessage:function(e){var t=e.anchor,n=e.resolvedAnchor,r=e.message,o=e.messageId,i=(0,E.kW)(r,{users:q(c).concat(["everyone"])}),a=null===n||void 0===n?void 0:n.getHighlight();x({anchor:t,annotationMessage:{id:o,text:r,mentions:i.mentions},highlight:a})},handleChangeMessage:function(e){var t=e.anchor,n=e.message,i=e.messageId;r&&Z({threadId:t.id,message:o?n:null,messageId:i})},setResolvedAnnotation:function(e,t){b===e.id?y():w({annotationAnchor:e,changes:{isResolved:t}})},createAnnotationAnchorPlaceholder:g,markAllMessagesInReplAsSeenByUser:S},children:(0,a.tZ)(ae,{})})}!function(e){e.ACTIVE="Active",e.RESOLVED="Resolved"}(r||(r={}))},89319:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(35944),o=n(23139),i=n(3204);function a(){return(0,r.tZ)(o.Tg,{elevated:!0,css:[i.l0.p(16),i.l0.borderRadius(4)],children:(0,r.tZ)("div",{children:"Threads II"})})}},5499:function(e,t,n){n.d(t,{P:function(){return p},Z:function(){return m}});var r=n(34051),o=n.n(r),i=n(11163),a=n.n(i),c=n(67294),l=n(91272),u=n(73049),s=n(5560);function d(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)}))}}var p=function(){var e=f(o().mark((function e(t,n,r,i){var a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.W)({fs:t,dotReplit:r,replId:i});case 2:a=e.sent,(c=a.entrypoint)&&n.openFile(c);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),h=function(){var e=f(o().mark((function e(t,n){var r,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,u.u9)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,u.mv)(t);case 4:if(r=e.sent,i=r.path,a=r.line,c=r.col,i){e.next=10;break}return e.abrupt("return");case 10:i!==n.getActiveFile()&&n.openFile(i),n.updateDeeplink({path:i,line:a,col:c});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function m(e,t,n){var r=(0,s.Z)(),i=(0,c.useRef)(!1);(0,c.useEffect)((function(){return t.onDeeplinkUpdated((function(e){var t=function(e){var t=e.path,n=e.line,r=e.col,o="#".concat(t);return n?r?"".concat(o,":").concat(n,":").concat(r):"".concat(o,":").concat(n):o}(e);window.location.hash=t}))}),[t]),(0,c.useEffect)((function(){f(o().mark((function i(){return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.getActiveFile()){o.next=2;break}return o.abrupt("return");case 2:return o.next=4,h(e,t);case 4:t.getActiveFile()||p(e,t,n,r);case 5:case"end":return o.stop()}}),i)})))()}),[e,t,n,r]),(0,c.useEffect)((function(){var n=function(){var n=f(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.current){n.next=3;break}return i.current=!1,n.abrupt("return");case 3:return n.next=5,h(e,t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return window.addEventListener("hashchange",n),function(){window.removeEventListener("hashchange",n)}}),[e,t]),(0,c.useEffect)((function(){return t.onSessionStateChanged(f(o().mark((function n(){var r,c,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.getActiveFile()){n.next=3;break}return n.abrupt("return");case 3:if(!(0,u.u9)()){n.next=10;break}return n.next=6,(0,u.mv)(e);case 6:if(c=n.sent,c.path!==r){n.next=10;break}return n.abrupt("return");case 10:i.current=!0,window.location.hash.length>0?t.updateDeeplink({path:r}):(l=a().asPath.includes("#")?a().asPath.slice(0,a().asPath.indexOf("#")):a().asPath,a().replace({pathname:a().pathname,query:a().query},"".concat(l,"#").concat(r),{shallow:!0}));case 12:case"end":return n.stop()}}),n)}))))}),[e,t])}},94074:function(e,t,n){n.d(t,{PH:function(){return h},ZP:function(){return m},it:function(){return p}});var r=n(35944),o=(n(67294),n(70917)),i=n(66552),a=n(3204);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return"var(".concat(e,")")},u={inactive:{color:a.TV.foregroundDimmest,borderColor:a.TV.backgroundHigher,controlsOpacity:0},hover:{color:a.TV.foregroundDimmer,borderColor:a.TV.outlineDefault,controlsOpacity:1},active:{color:a.TV.foregroundDefault,borderColor:a.TV.accentPrimaryStrongest,controlsOpacity:1}},s="--ws-pane-foreground-color",d="--ws-pane-border-color",f="--ws-pane-controls-opacity",p={color:(0,o.iv)({color:l(s)}),controlsOpacity:(0,o.iv)({opacity:l(f)}),borderColor:(0,o.iv)({borderColor:l(d)}),border:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.iv)([{borderWidth:0,borderStyle:"solid",borderColor:l(d)},t.includes("top")&&{borderTopWidth:1},t.includes("right")&&{borderRightWidth:1},t.includes("bottom")&&{borderBottomWidth:1},t.includes("left")&&{borderLeftWidth:1}])}},h=function(e){var t,n,r;return e.active?(c(t={},s,u.active.color),c(t,d,u.active.borderColor),c(t,f,u.active.controlsOpacity),t):(0,o.iv)((c(r={},s,u.inactive.color),c(r,d,u.inactive.borderColor),c(r,f,u.inactive.controlsOpacity),c(r,"&:hover",(c(n={},s,u.hover.color),c(n,d,u.hover.borderColor),c(n,f,u.hover.controlsOpacity),n)),r))};function m(e){return(0,r.tZ)(i.Z,{elevated:e.elevated,onClick:e.onClick,css:[h({active:e.active}),p.color,p.border("top","left","right","bottom"),e.height&&a.l0.height(e.height),e.width&&a.l0.width(e.width),a.l0.overflow("hidden"),a.l0.borderRadius(8),{boxShadow:a.TV.shadow1},e.active&&{boxShadow:"".concat(a.TV.shadow1,", 0 0 1px 1px ").concat(a.TV.accentPrimaryDefault)},e.maximized&&{borderRadius:0,boxShadow:"none",border:"none"},{transform:"translate3d(0, 0, 0)"}],children:e.children})}},74677:function(e,t,n){n.d(t,{r:function(){return b},z:function(){return m}});var r=n(35944),o=n(67294),i=n(23139),a=n(60153),c=n(74818),l=n(30617),u=n(73248),s=n(40079),d=n(91131),f=n(78135);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m={Content:function(){return(0,r.tZ)(b,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(u.Z,{size:t})},getTitle:function(){return"Git"}},v=(0,d.cn)(null);function b(){var e=(0,l.Z)(),t=h((0,d.KO)(v),2),n=t[0],u=t[1],p=(0,f.oR)();return o.useEffect((function(){if(!n){var t=new a.Z;t.yikesInjectStore(p),t.injectServices(e),t.register("git",c),t.bootstrap({plugins:{git:{type:"git"}},layout:{tiling:{type:"pane",pud:"git"},floating:[]}}),t.store.dispatch({type:"WORKSPACE_MOUNTED"}),u({Component:t.component()})}}),[n,e,u,p]),(null===n||void 0===n?void 0:n.Component)?(0,r.tZ)(i.Tg,{background:"default",css:i.l0.flex.growAndShrink(1),id:s.b,children:(0,r.tZ)(n.Component,{})}):null}},84635:function(e,t,n){n.d(t,{Ub:function(){return pn},Dp:function(){return sn},Zh:function(){return dn},oq:function(){return fn}});var r=n(67289),o=n(35944),i=n(67294),a=n(67542),c=n(12325),l={Content:function(){return(0,o.tZ)(a.Z,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(c.Z,{size:t})},getTitle:function(){return"Markdown"}},u=n(59897),s=n(16782),d=n(30617),f=n(45525),p={Content:function(){return(0,o.tZ)(h,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(u.Z,{size:t})},getTitle:function(){return"Files"}};function h(){var e=(0,d.Z)().session,t=(0,f.Z)("fileTree").trackTimeToLoadFileStart;return(0,o.tZ)(s.Z,{onFileNodeClick:function(n,r){t(n),e.openFile(n,{newTab:r})}})}var m=n(45421),v=n(5289),b=n(57941),g=n(55681),y=n(29987),x=n(54929),w=n(3204),Z=n(11938),k=n(92704),S=n(62873),j=n(47865),C=n(91131),I=n(88768);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={Content:function(e){var t=e.pane;return(0,o.tZ)(O,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}({},t.data))},Icon:function(e){var t=e.pane,n=e.size;return(0,o.tZ)(g.Z,{path:t.data.path||"",size:n})},getTitle:function(e){return e.data.path||"No file open"}};function O(e){var t,n=e.path,r=e.line,a=e.col,c=(0,d.Z)().lsp,l=(0,C.b9)(j.MG),u=(0,I.m1t)().data,s=Boolean(n&&((0,m.V)(n)===m.D.Code||(0,m.V)(n)===m.D.Markdown));i.useEffect((function(){s&&c.start()}),[c,s]);var f=(0,y.Z)();if(!n)return null;if(!s)return null;var p=(0,o.tZ)(b.Z,{filePath:n,onType:f,autoFocus:!(0,v.Z)(),deeplink:{line:r,col:a}});return n===Z.l&&(null===u||void 0===u||null===(t=u.currentUser)||void 0===t?void 0:t.flagVisualDotReplitEditorEnabled)?(0,o.BX)(x.Z,{children:[(0,o.tZ)(x.Z,{css:[w.l0.position.absolute,w.l0.mt(24),w.l0.mr(32),{right:0,zIndex:1e3}],children:(0,o.tZ)(k.ZP,{text:"Switch to visual .replit editor",iconLeft:(0,o.tZ)(S.Z,{}),onClick:function(){return l({pane:{type:"dotReplitEditor"},match:function(e){return"dotReplitEditor"===e.data.type},insertTrys:[{placement:"replace",match:function(e){return"codeEditor"===e.data.type}}]})}})})," ",p]}):p}var E=n(46878),z=n(47019),_=n(21217),P=n(31284),R=n(63805),D={Content:function(e){var t=e.options;return(0,o.tZ)(B,{visible:!t.isHidden})},Icon:function(e){var t=e.size;return(0,o.tZ)(z.Z,{size:t})},getTitle:function(){return"Console"}};function B(e){var t=e.visible,n=(0,d.Z)(),r=n.session,a=n.runner,c=n.packager,l=n.container,u=n.debuggest,s=i.useRef(null),f=(0,P.Z)(u.mainClient);return i.useEffect((function(){if(f)return f.onOutput((function(e){s.current&&s.current.write(e)}))}),[f]),i.useEffect((function(){var e=r.onTerminalClear((function(){s.current&&s.current.clear()})),t=r.onTerminalWrite((function(e){s.current&&s.current.write(e)}));return function(){e(),t()}}),[r]),i.useEffect((function(){t&&s.current&&s.current.focus()}),[t]),i.useEffect((function(){return a.onStateChanged((function(e){var t;(0,R.isMobile)()||e===_.A.RUNNING&&(null===(t=s.current)||void 0===t||t.focus())}))}),[a]),(0,o.tZ)(E.Z,{runner:a,packager:c,ref:s,onBootStatus:l.client().onBootStatus})}var M=n(51419),N=n(58032),L=n(15866),F=n(93577),G={Content:function(){return(0,o.tZ)(U,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(L.Z,{size:t})},getTitle:function(){return"Secrets"}};function U(){var e=(0,d.Z)().fs,t=(0,F.Z)();return(0,o.tZ)(N.Z,{children:(0,o.tZ)(M.Z,{fs:e,activeFile:t})})}var X=n(74661),V=n(81970),H=n(23139),W={Content:function(){return(0,o.BX)(H.G7,{css:[H.l0.overflow("auto")],children:[(0,o.tZ)(H.h4,{variant:"subheadBig",level:3,css:[H.l0.p(8)],children:"Settings"}),(0,o.tZ)(X.Z,{css:[{backgroundColor:"transparent"}]})]})},Icon:function(e){var t=e.size;return(0,o.tZ)(V.Z,{size:t})},getTitle:function(){return"Settings"}},K=n(20370),Q=n(66919),Y={Content:function(){return(0,o.BX)(H.G7,{children:[(0,o.tZ)(H.h4,{variant:"subheadBig",level:3,css:[H.l0.p(12)],children:"Packages"}),(0,o.tZ)(K.Z,{})]})},Icon:function(e){var t=e.size;return(0,o.tZ)(Q.Z,{size:t})},getTitle:function(){return"Packager"}},$=n(27248),q=n(67472),J={Content:function(){var e=(0,F.Z)();return(0,o.tZ)(q.Z,{activeFile:e})},Icon:function(e){var t=e.size;return(0,o.tZ)($.Z,{size:t})},getTitle:function(){return"Database"}},ee=n(34699),te=n(33468),ne=n(30693),re=n(43233),oe=n(36107),ie=n(28774),ae=n(38848),ce={Content:function(e){var t=e.options.paneId,n=(0,d.Z)(),r=n.container,a=n.fs,c=n.session,l=(0,C.b9)(ae.Oe),u=(0,i.useRef)(null);(0,ee.x)(le,{run:function(){var e;l(t),null===(e=u.current)||void 0===e||e.refresh()}}),(0,te.Y)({match:oe.pl,data:{type:"action",label:"Refresh",icon:(0,o.tZ)(ie.Z,{}),description:"Refresh webview",keyboardShortcut:le,run:function(){var e;l(t),null===(e=u.current)||void 0===e||e.refresh()}}}),(0,i.useEffect)((function(){return r.onPortOpened((function(e){var t;e.isVnc||null===(t=u.current)||void 0===t||t.refresh()}))}),[r]);var s=(0,C.b9)(j.$r);return(0,o.tZ)(re.Z,{fs:a,session:c,ref:u,isVisible:!0,onClose:function(){s(t)}})},Icon:function(e){var t=e.size;return(0,o.tZ)(ne.Z,{size:t})},getTitle:function(){return"Webview"}},le={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"S"};var ue={Content:function(){return null},Icon:function(){return null},getTitle:function(){return""}},se=n(77346),de={Content:function(){return(0,o.tZ)(fe,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(ne.Z,{size:t})},getTitle:function(){return"Output"}};function fe(){var e=(0,d.Z)(),t=e.fs,n=e.container;return(0,o.tZ)(se.Z,{fs:t,container:n})}var pe=n(16524),he=n(58375),me=n(88503);function ve(e){var t=e.pane,n=e.label,r=e.icon,o=e.action;return(0,oe.fA)({type:"paneAction",label:n,icon:r,action:o,pane:t},{match:oe.pl})}var be={Content:function(e){var t=e.options;return(0,o.tZ)(ge,{visible:!t.isHidden})},Icon:function(e){var t=e.size;return(0,o.tZ)(z.Z,{size:t})},getTitle:function(){return"Shell"},getActions:function(e){return function(){return[ve({label:"Clear",icon:(0,o.tZ)(he.Z,{}),action:{type:"clear"},pane:e}),ve({label:"Search",icon:(0,o.tZ)(me.Z,{}),action:{type:"search"},pane:e})]}}};function ge(e){var t=e.visible,n=(0,d.Z)(),r=n.container,i=n.fs;return(0,o.tZ)(pe.Z,{container:r,fs:i,visible:t})}var ye=n(37044),xe=n(29698),we={Content:function(e){var t=e.pane;return(0,o.tZ)(Ze,{path:t.data.path})},Icon:function(e){var t=e.size;return(0,o.tZ)(xe.Z,{size:t})},getTitle:function(e){return e.data.path}};function Ze(e){var t=e.path,n=(0,d.Z)(),r=n.fs,i=n.broadcast,a=n.presence;return(0,o.tZ)(ye.Z,{fs:r,broadcast:i,presence:a,filePath:t})}var ke=n(62208);function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je={Content:function(e){var t=e.pane;return(0,o.tZ)(Ce,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Se(e,t,n[t])}))}return e}({},t.data))},Icon:function(e){var t=e.pane,n=e.size;return(0,o.tZ)(g.Z,{path:t.data.path,size:n})},getTitle:function(e){return e.data.path}};function Ce(e){var t=e.path,n=(0,d.Z)().fs;return(0,o.tZ)(H.G7,{css:[H.l0.flex.growAndShrink(1),H.l0.center],children:(0,o.tZ)(ke.Z,{filePath:t,fs:n})})}var Ie=n(74677),Te=n(89731),Ae={Content:function(e){var t=e.pane;return(0,o.tZ)(Te.Z,{activeFile:t.data.path})},Icon:function(e){var t=e.size;return(0,o.tZ)(xe.Z,{size:t})},getTitle:function(e){return e.data.path}},Oe=n(8286),Ee=n(57885),ze={Content:function(){return(0,o.tZ)(H.G7,{css:[H.l0.p(8)],children:(0,o.tZ)(Ee.Z,{})})},Icon:function(e){var t=e.size;return(0,o.tZ)(Oe.Z,{size:t})},getTitle:function(){return"Unit Tests"}},_e=n(96641),Pe={Content:function(){return(0,o.tZ)(_e.Z,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(Oe.Z,{size:t})},getTitle:function(){return"Autograder"}},Re=n(44262),De=n(10781),Be={Content:function(){return(0,o.tZ)(De.Z,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(Re.Z,{size:t})},getTitle:function(){return"Education Pane"}},Me=n(22150),Ne={Content:function(){return(0,o.tZ)(Me.Z,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(Re.Z,{size:t})},getTitle:function(){return"Instructions"}},Le=n(79806),Fe=n(95249),Ge={Content:function(){return(0,o.tZ)(Ue,{})},Icon:function(){return(0,o.tZ)(Le.Z,{})},getTitle:function(){return"Kaboom"}};function Ue(){var e=(0,d.Z)().session;return(0,o.tZ)(Fe.Z,{onFileOpen:function(t){e.openFile(t)}})}var Xe,Ve,He=n(67936),We=n(67642),Ke=n(52855),Qe=n(54683),Ye=n(33531);function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.Repl="repl",e.Logs="logs",e.LSP="lsp",e.Metadata="metadata",e.Override="override"}(Xe||(Xe={}));var et=(qe(Ve={},Xe.Repl,He._),qe(Ve,Xe.Logs,Ye.ZP),qe(Ve,Xe.LSP,We.L),qe(Ve,Xe.Metadata,Ke.S),qe(Ve,Xe.Override,Qe.V),Ve),tt=Object.values(Xe);function nt(){var e=(0,i.useState)(Xe.Repl),t=e[0],n=e[1],r=tt.map((function(e){return(0,o.tZ)(H.zx,{css:H.l0.flex.grow(1),colorway:e===t?"primary":void 0,onClick:function(){return n(e)},text:e},e)}));return(0,o.BX)(H.Tg,{background:"default",css:[H.l0.colWithGap(8),H.l0.p(4),H.l0.height("100%")],children:[(0,o.tZ)(H.G7,{css:H.l0.rowWithGap(2),children:r}),(0,o.tZ)(H.G7,{css:[H.l0.flex.growAndShrink(1),H.l0.overflow("auto")],children:Object.entries(et).map((function(e){var n=Je(e,2),r=n[0],i=n[1];return(0,o.tZ)(H.G7,{css:r!==t&&H.l0.display.none,children:r===Xe.Override&&t!==Xe.Override?null:(0,o.tZ)(i,{})},r)}))})]})}var rt=n(34996),ot={Content:function(){return(0,o.tZ)(nt,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(rt.Z,{size:t})},getTitle:function(){return"Debug"}},it=n(4368),at={Content:function(){return(0,o.tZ)(ct,{})},Icon:function(){return null},getTitle:function(){return""}};function ct(){var e=(0,d.Z)().session;return(0,o.tZ)(it.Z,{onOpenFile:function(t){e.openFile(t.path),e.updateDeeplink(t)}})}var lt=n(34461),ut={Content:function(){return(0,o.tZ)(lt.Z,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(Re.Z,{size:t})},getTitle:function(){return"Tutorial"}},st=n(80209),dt=n(48493),ft={Content:function(e){var t=e.options.paneId,n=(0,C.b9)(j.$r);return(0,o.tZ)(st.Z,{closeConfigPane:function(){return n(t)},useReadFile:dt.useReadFile})},Icon:function(){return null},getTitle:function(){return""}};var pt=n(89431),ht=n(18614),mt=n(89319);function vt(){return(0,pt.Z)("flag-threads-2")?(0,o.tZ)(mt.Z,{}):(0,o.tZ)(ht.Z,{})}var bt,gt={Content:function(){return(0,o.tZ)(vt,{})},Icon:function(){return null},getTitle:function(){return""}},yt=n(47334),xt=n(34051),wt=n.n(xt),Zt=n(22274),kt=n(3609),St=n(34860),jt=n(73345),Ct=n(86072),It=n(89957),Tt=n(67938),At=n(79635),Ot=n(27422),Et=n(21130),zt=n(76529),_t=n(94590),Pt=n(48938),Rt=(0,x.K)("a");!function(e){e.Command="command",e.Boolean="boolean",e.ListOfString="[string]",e.String="string",e.KeyValue="key-value"}(bt||(bt={}));var Dt=function(e){var t=e.field,n=e.argumentType,r=e.docsLink,i=e.disabled,a=e.setIsDisabled,c=e.description;return(0,o.BX)(x.Z,{css:[w.l0.colWithGap(8),w.l0.align.start,w.l0.width("100%")],children:[(0,o.BX)(x.Z,{css:[w.l0.flex.row,w.l0.justify.spaceBetween,w.l0.width("100%")],children:[(0,o.BX)(x.Z,{css:[w.l0.rowWithGap(8),w.l0.align.center],children:[(0,o.tZ)(Tt.x,{variant:"subheadDefault",css:[i?w.l0.color.foregroundDimmest:w.l0.color.foregroundDefault],children:t}),n===bt.Command?(0,o.tZ)(At.ZP,{tooltip:'A Command can either be a string or a list of strings. If the Command is a string ("node index.js"), it will be executed via sh -c "<Command>". If the Command is a list of strings (["node", "index.js"]), it will be directly executed with the list of strings passed as arguments. When possible, it is preferred to pass a list of strings.',placement:"bottom",isDisabled:i,children:(0,o.tZ)(Rt,{href:"https://docs.replit.com/programming-ide/configuring-repl#replit-reference",target:"_blank",rel:"noopener noreferrer",css:[i?w.l0.color.foregroundDimmest:w.l0.color.foregroundDefault,{cursor:i?"auto":"pointer",pointerEvents:i?"none":"auto"}],children:(0,o.tZ)(Ot.Z,{text:bt.Command,clickable:!i})})}):null,n===bt.Boolean?(0,o.tZ)(Ot.Z,{text:bt.Boolean,clickable:!1,css:[i?w.l0.color.foregroundDimmest:w.l0.color.foregroundDefault]}):null,n===bt.ListOfString?(0,o.tZ)(At.ZP,{tooltip:"A list of strings.",placement:"bottom",isDisabled:i,children:(0,o.tZ)(Ot.Z,{text:bt.ListOfString,clickable:!1,css:[i?w.l0.color.foregroundDimmest:w.l0.color.foregroundDefault]})}):null,n===bt.String?(0,o.tZ)(Ot.Z,{text:bt.String,clickable:!1,css:[i?w.l0.color.foregroundDimmest:w.l0.color.foregroundDefault]}):null,n===bt.KeyValue?(0,o.tZ)(Ot.Z,{text:bt.KeyValue,clickable:!1,css:[i?w.l0.color.foregroundDimmest:w.l0.color.foregroundDefault]}):null,(0,o.tZ)(Rt,{href:r,target:"_blank",rel:"noopener noreferrer",css:[w.l0.color.foregroundDefault,{pointerEvents:i?"none":"auto"}],children:(0,o.tZ)(Et.Z,{alt:"Open Docs",disabled:i,tooltipHidden:i,children:(0,o.tZ)(zt.Z,{})})})]}),"run"!==t&&"channel"!==t?(0,o.tZ)(Et.Z,{alt:i?"Add field":"Remove field",onClick:function(){return a(!i)},children:i?(0,o.tZ)(_t.Z,{}):(0,o.tZ)(Pt.Z,{})}):null]}),(0,o.tZ)(Tt.x,{css:[i?w.l0.color.foregroundDimmest:w.l0.color.foregroundDimmer],multiline:!0,variant:"small",children:c})]})},Bt=n(90652),Mt=n(21644);function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ft=function(e){var t,n=e.initialRunCommand,r=(0,d.Z)().dotReplit,a=Lt(i.useState((null!==(t=null===n||void 0===n?void 0:n.args)&&void 0!==t?t:[]).join(" ")),2),c=a[0],l=a[1];i.useEffect((function(){n&&n.args?l((n.args&&n.args.length>=3&&"sh"===n.args[0]&&"-c"===n.args[1]?n.args.slice(2):n.args).join(" ")):l("")}),[n]);var u=(0,Bt.Z)(c,400);return i.useEffect((function(){u.length&&r.updateDotReplit([(0,Mt.KQ)(u)])}),[u,r]),(0,o.BX)(x.Z,{css:[w.l0.colWithGap(8)],children:[(0,o.tZ)(Dt,{field:"run",argumentType:bt.Command,docsLink:"https://docs.replit.com/programming-ide/configuring-repl#run",disabled:!1,setIsDisabled:function(){},description:(0,o.tZ)(o.HY,{children:"The command to run the repl."})}),(0,o.tZ)(It.ZP,{value:c,onChange:function(e){return l(e.target.value)},placeholder:"Enter a run command",size:c.length,css:[w.l0.width("fit-content"),{fontFamily:w.TV.fontFamilyCode}]})]})},Gt=n(31162),Ut=function(e){var t=e.children;return(0,o.tZ)(x.Z,{css:[{borderLeft:"1px solid var(--outline-dimmest)"},w.l0.colWithGap(8),w.l0.align.start,w.l0.pl(8),w.l0.width("100%")],children:t})},Xt=n(53818),Vt=n(57923);function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qt=(0,x.K)("a"),Yt=function(e){var t=e.initialChannel,n=(0,d.Z)(),r=n.dotReplit,a=n.container,c=(0,Xt.Z)(a),l=Kt(i.useState(void 0),2),u=l[0],s=l[1],f=Kt(i.useState([]),2),p=f[0],h=f[1],m=(0,Vt.Z)();return i.useEffect((function(){t&&p.length&&s(p.find((function(e){return e.value===t})))}),[t,p]),i.useEffect((function(){var e=function(){var e,t=(e=wt().mark((function e(){var t,n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({args:["sh","-c","ls /home/runner/.nix-defexpr/channels | grep nixpkgs-"]});case 2:if(t=e.sent,m.current&&t.output){e.next=5;break}return e.abrupt("return");case 5:n=t.output.trim().split("\n").map((function(e){return{title:e,value:e.replace("nixpkgs-","")}})),h(n);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Wt(i,r,o,a,c,"next",e)}function c(e){Wt(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[c,m]),(0,o.BX)(x.Z,{css:[w.l0.colWithGap(8),w.l0.align.start],children:[(0,o.tZ)(Tt.x,{variant:"subheadDefault",children:"[nix]"}),(0,o.tZ)(Ut,{children:(0,o.BX)(o.HY,{children:[(0,o.tZ)(Dt,{field:"channel",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#channel",argumentType:bt.String,disabled:!1,setIsDisabled:function(){},description:(0,o.BX)(o.HY,{children:["Where you specify a"," ",(0,o.tZ)(Qt,{href:"https://nixos.wiki/wiki/Nix_channels",target:"_blank",rel:"noopener noreferrer",css:{display:"inline"},children:"Nix channel"}),"."]})}),(0,o.tZ)(Gt.Z,{css:[w.l0.width(190)],items:p,placeholder:"Select a Nix channel",onChange:function(e){s(e),r.updateDotReplit([(0,Mt.cU)(e.value)])},initialSelectedItem:u},null===u||void 0===u?void 0:u.value)]})})]})},$t=n(90020),qt=n(37155);function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nn=function(e){var t=e.initialEntrypoint,n=e.disabled,r=e.setIsDisabled,a=(0,d.Z)(),c=a.dotReplit,l=a.fs,u=tn(i.useState(null!==t&&void 0!==t?t:""),2),s=u[0],f=u[1],p=tn(i.useState([]),2),h=p[0],m=p[1],v=(0,Bt.Z)(s,400),b=(0,qt.u)(),g=(0,Vt.Z)();i.useEffect((function(){var e=function(){var e,t=(e=wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&g){e.next=2;break}return e.abrupt("return");case 2:m(b);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){en(i,r,o,a,c,"next",e)}function c(e){en(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[b,l,g]),i.useEffect((function(){v&&c.updateDotReplit([(0,Mt.If)(v)])}),[v,c]);return(0,o.BX)(x.Z,{css:[w.l0.colWithGap(8),w.l0.align.start],children:[(0,o.tZ)(Dt,{field:"entrypoint",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#entrypoint",argumentType:bt.String,disabled:n,setIsDisabled:function(e){if(r(e),e)return c.updateDotReplit([(0,Mt.xz)("entrypoint")]),void f("");c.updateDotReplit([(0,Mt.If)(v)])},description:(0,o.tZ)(o.HY,{children:"The name of the main file including the extension. This is the file that will be run, and shown by default when opening the editor."})}),n?null:(0,o.tZ)($t.Z,{id:"visual-dotreplit-editor-entrypoint",options:h,onSelect:f,onInit:f,initialSelectedOption:null!==t&&void 0!==t?t:void 0})]})};function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function on(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cn=function(){return(0,o.tZ)(x.Z,{css:[w.l0.height(1),w.l0.backgroundColor.outlineDimmest]})},ln=function(){var e,t,n,r,a=an(i.useState(""),2),c=a[0],l=a[1],u=(0,C.b9)(j.MG),s=(0,d.Z)().dotReplit,f=an(i.useState(null),2),p=f[0],h=f[1];i.useEffect((function(){var e=function(){var e,t=(e=wt().mark((function e(){var t,n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,s.getConfig();case 3:n=e.sent,h(n),S(!(null===n||void 0===n||null===(t=n.config)||void 0===t?void 0:t.entrypoint));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){on(i,r,o,a,c,"next",e)}function c(e){on(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[s]);var m,v,b,g=an(i.useState(!0),2),y=g[0],S=g[1];return(0,o.BX)(x.Z,{css:[w.l0.p(32),w.l0.pt(24),w.l0.colWithGap(24)],children:[(0,o.BX)(x.Z,{css:[w.l0.rowWithGap(12),{flexWrap:"wrap"}],children:[(0,o.tZ)(x.Z,{css:[w.l0.flex.grow(1),{flexBasis:"fit-content"},w.l0.mt(8)],children:(0,o.tZ)(Zt.Z,{placeholder:"Search .replit settings",value:c,onChange:function(e){return l(e.target.value)},onClear:function(){return l("")}})}),(0,o.tZ)(k.ZP,{text:"Reset",iconLeft:(0,o.tZ)(kt.Z,{}),onClick:function(){},css:[w.l0.mt(8),{flexBasis:"fit-content"}]}),(0,o.tZ)(jt.Co,{text:"Open docs",href:"https://docs.replit.com/programming-ide/configuring-repl",target:"_blank",rel:"noopener noreferrer",iconLeft:(0,o.tZ)(St.Z,{}),css:[w.l0.mt(8),{flexBasis:"fit-content"}]}),(0,o.tZ)(k.ZP,{text:"Switch to code editor",iconLeft:(0,o.tZ)(Ct.Z,{}),onClick:function(){return u({pane:{type:"codeEditor",data:{path:Z.l}},match:function(e){return"codeEditor"===e.data.type},insertTrys:[{placement:"replace",match:function(e){return"dotReplitEditor"===e.data.type}}]})},css:[w.l0.mt(8),{flexBasis:"fit-content"}]})]}),(0,o.BX)(o.HY,{children:[(0,o.tZ)(cn,{}),(0,o.tZ)(Ft,{initialRunCommand:null!==(m=null===p||void 0===p||null===(e=p.config)||void 0===e?void 0:e.run)&&void 0!==m?m:null})]}),(0,o.BX)(o.HY,{children:[(0,o.tZ)(cn,{}),(0,o.tZ)(nn,{initialEntrypoint:null!==(v=null===p||void 0===p||null===(t=p.config)||void 0===t?void 0:t.entrypoint)&&void 0!==v?v:null,disabled:y,setIsDisabled:S})]}),(0,o.BX)(o.HY,{children:[(0,o.tZ)(cn,{}),(0,o.tZ)(Yt,{initialChannel:null!==(b=null===p||void 0===p||null===(n=p.config)||void 0===n||null===(r=n.nix)||void 0===r?void 0:r.channel)&&void 0!==b?b:""})]})]})},un={Content:function(){return(0,o.tZ)(ln,{})},Icon:function(e){var t=e.size;return(0,o.tZ)(yt.Z,{size:t})},getTitle:function(){return Z.l}};function sn(e){var t=e.path,n=e.visualDotReplitEditorEnabled,o=void 0!==n&&n;return t?(0,r.T3)(t)?"media":(0,r.sL)(t)?"draw":(0,r.IQ)(t)?"pedit":(0,r.Yj)(t)&&o?"dotReplitEditor":"codeEditor":"codeEditor"}function dn(e){return"codeEditor"===e||"media"===e||"pedit"===e||"draw"===e||"dotReplitEditor"===e}function fn(e){return"runnerOutput"===e||"shell"===e||"markdown"===e||"webview"===e||"instructions"===e}function pn(){return{filetree:p,codeEditor:A,webview:ce,media:je,pedit:Ae,vnc:de,unitTests:ze,autograder:Pe,education:Be,instructions:Ne,preferences:W,adminPanel:ot,runnerOutput:D,shell:be,packager:Y,envEditor:G,commands:ue,draw:we,git:Ie.z,database:J,markdown:l,kaboombar:Ge,debugger:at,tutorial:ut,config:ft,threadInbox:gt,dotReplitEditor:un}}},78914:function(e,t,n){n.d(t,{Z:function(){return f}});var r=function(){this.__data__=[],this.size=0},o=n(28107);var i=function(e,t){for(var n=e.length;n--;)if((0,o.Z)(e[n][0],t))return n;return-1},a=Array.prototype.splice;var c=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)};var l=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]};var u=function(e){return i(this.__data__,e)>-1};var s=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=r,d.prototype.delete=c,d.prototype.get=l,d.prototype.has=u,d.prototype.set=s;var f=d},48394:function(e,t,n){var r=n(55381),o=n(15445),i=(0,r.Z)(o.Z,"Map");t.Z=i},46898:function(e,t,n){n.d(t,{Z:function(){return k}});var r=(0,n(55381).Z)(Object,"create");var o=function(){this.__data__=r?r(null):{},this.size=0};var i=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},a=Object.prototype.hasOwnProperty;var c=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0},l=Object.prototype.hasOwnProperty;var u=function(e){var t=this.__data__;return r?void 0!==t[e]:l.call(t,e)};var s=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this};function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=o,d.prototype.delete=i,d.prototype.get=c,d.prototype.has=u,d.prototype.set=s;var f=d,p=n(78914),h=n(48394);var m=function(){this.size=0,this.__data__={hash:new f,map:new(h.Z||p.Z),string:new f}};var v=function(e){var t,n="undefined"===typeof e?"undefined":(t=e)&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e};var b=function(e,t){var n=e.__data__;return v(t)?n["string"==typeof t?"string":"hash"]:n.map};var g=function(e){var t=b(this,e).delete(e);return this.size-=t?1:0,t};var y=function(e){return b(this,e).get(e)};var x=function(e){return b(this,e).has(e)};var w=function(e,t){var n=b(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Z.prototype.clear=m,Z.prototype.delete=g,Z.prototype.get=y,Z.prototype.has=x,Z.prototype.set=w;var k=Z},66487:function(e,t){var n=/^(?:0|[1-9]\d*)$/;t.Z=function(e,t){var r,o="undefined"===typeof e?"undefined":(r=e)&&"undefined"!==typeof Symbol&&r.constructor===Symbol?"symbol":typeof r;return!!(t=null==t?9007199254740991:t)&&("number"==o||"symbol"!=o&&n.test(e))&&e>-1&&e%1==0&&e<t}},28107:function(e,t){t.Z=function(e,t){return e===t||e!==e&&t!==t}},7293:function(e,t,n){var r=n(90992),o=n(61857);t.Z=function(e){return null!=e&&(0,o.Z)(e.length)&&!(0,r.Z)(e)}},61857:function(e,t){t.Z=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}}]);
//# sourceMappingURL=153-1aac1ef446ff94b8.js.map