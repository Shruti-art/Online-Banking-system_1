"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6934],{59339:function(t,e,r){r.d(e,{Z:function(){return u}});var n=r(35944),i=(r(67294),r(94184)),a=r.n(i),o=r(23139);function u(t){return(0,n.tZ)("div",{className:a()("dialog",{"is-destructive":t.isDestructive}),children:(0,n.BX)(o.G7,{css:[o.l0.colWithGap(24)],children:[(0,n.tZ)(o.h4,{variant:"headerDefault",level:2,children:t.title}),"string"===typeof t.children?(0,n.tZ)(o.xv,{multiline:!0,children:t.children}):t.children,(0,n.BX)(o.G7,{css:[o.l0.rowWithGap(12),o.l0.justify.end],children:[(0,n.tZ)(o.zx,{onClick:t.onCancel,text:"Cancel"}),(0,n.tZ)(o.zx,{colorway:t.isDestructive?"negative":"primary",onClick:t.onConfirm,text:t.confirmLabel||"Confirm"})]})]})})}},38956:function(t,e,r){r.d(e,{Z:function(){return s}});var n=r(34051),i=r.n(n),a=r(67294),o=r(72829);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e,r,n,i,a,o){try{var u=t[a](o),c=u.value}catch(l){return void r(l)}u.done?e(c):Promise.resolve(c).then(n,i)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a=[],o=!0,u=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==r.return||r.return()}finally{if(u)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){var e=t.onUploadPreview,r=t.onUpload,n=t.onError,u=l(a.useState(!1),2),s=u[0],f=u[1],d=a.useCallback(function(){var t,a=(t=i().mark((function t(a,u){var c,l,s,d,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=2,t.next=5,(0,o.o1)(a);case 5:c=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),n(new Error("This image is over the ".concat(o.bq/1e6,"MB maximum"))),t.abrupt("return",!1);case 12:return e({dataUrl:c}),l=null,t.prev=14,t.next=17,(0,o.mh)(c,u);case 17:l=t.sent,t.next=25;break;case 20:return t.prev=20,t.t1=t.catch(14),s=t.t1.message.toLowerCase().includes("entity too large")?"This image is over the 1mb maximum":"Something went wrong",n(new Error(s)),t.abrupt("return",!1);case 25:if(d=l.id,h=l.url,"number"===typeof d){t.next=28;break}throw new Error("Expected id");case 28:if("string"===typeof h){t.next=30;break}throw new Error("Expected url");case 30:return f(!1),t.prev=31,t.next=34,r({id:d,url:h});case 34:t.next=40;break;case 36:return t.prev=36,t.t2=t.catch(31),n(t.t2),t.abrupt("return",!1);case 40:return t.abrupt("return",!0);case 41:case"end":return t.stop()}}),t,null,[[2,8],[14,20],[31,36]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){c(a,n,i,o,u,"next",t)}function u(t){c(a,n,i,o,u,"throw",t)}o(void 0)}))});return function(t,e){return a.apply(this,arguments)}}(),[n,r,e]);return{isLoading:s,uploadImage:d}}},11503:function(t,e,r){function n(t){var e=t.trim();return 0===e.length||e.startsWith("#")}function i(t,e){return t.split(e).length-1}function a(t){if(!t.includes("#"))return t;var e=t.split("#"),r=!1,n=[],a=!0,o=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value;(1===i(s,'"')||i(s,"'"))&&(r?(r=!1,n.push(s)):r=!0),(0===n.length||r)&&n.push(s)}}catch(f){o=!0,u=f}finally{try{a||null==l.return||l.return()}finally{if(o)throw u}}return n.join("#")}function o(t,e){var r=t.trim();if(0===r.length)return r;var n=r.length-1,i='"'===r[0]&&'"'===r[n],a="'"===r[0]&&"'"===r[n];return(a||i)&&(r=r.slice(1,-1)),i&&(r=(r=r.replace(/\\./g,(function(t){return"\\n"===t?"\n":"\\r"===t?"\r":t}))).replace(/\\([^$])/g,"$1")),a||(r=r.replace(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/g,(function(t){var r=t.match(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/);if(null===r)return t;if("\\"===r[1]||"("===r[2])return r[0].slice(1);var n=r[4];return""!==n?e[n]||"":t}))),r}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a=[],o=!0,u=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==r.return||r.return()}finally{if(u)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(e,{Z:function(){return l}});var l={parse:function(t){var e={},r=t.split(/\n|\r|\r\n/),i=!0,u=!1,c=void 0;try{for(var l,s=r[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var f=l.value;if(!n(f)){var d=(f=a(f)).indexOf("="),h=f.indexOf(":");if(-1!==h||-1!==d){var p=d;-1!==h&&(h<d||-1===d)&&(p=h);var v=f.slice(0,p).replace(/^\s*(?:export\s+)?(.*?)\s*$/,"$1"),m=o(f.slice(p+1),e);e[v]=m}}}}catch(y){u=!0,c=y}finally{try{i||null==s.return||s.return()}finally{if(u)throw c}}return e},serialize:function(t){return Object.entries(t).reduce((function(t,e){var r=c(e,2),n=r[0],i=r[1].replace(/\\([^$])/g,"\\\\$1").replace(/\$/g,"\\\\$$").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r");return t+="".concat(n,'="').concat(i,'"\n')}),"")}}},72829:function(t,e,r){r.d(e,{W9:function(){return m},bq:function(){return l},lU:function(){return d},mh:function(){return p},o1:function(){return s}});var n=r(34051),i=r.n(n),a=r(48010),o=r(96076);function u(t,e,r,n,i,a,o){try{var u=t[a](o),c=u.value}catch(l){return void r(l)}u.done?e(c):Promise.resolve(c).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){u(a,n,i,o,c,"next",t)}function c(t){u(a,n,i,o,c,"throw",t)}o(void 0)}))}}var l=1e7;function s(t){return f.apply(this,arguments)}function f(){return(f=c(i().mark((function t(e){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.L0)(e);case 2:if(r=t.sent,!(e.size>l)){t.next=5;break}throw new Error("This image is over the ".concat(l/1e6,"MB maximum"));case 5:if(r){t.next=7;break}throw new Error("Expected file");case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t,e){return h.apply(this,arguments)}function h(){return(h=c(i().mark((function t(e,r){var n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e);case 2:return n=t.sent,t.next=5,p(n,r);case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e){return v.apply(this,arguments)}function v(){return(v=c(i().mark((function t(e,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.uz)("/data/images/upload",{image:e,context:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var m=["image/png","image/jpeg","image/gif","image/webp"]},38732:function(t,e,r){r.d(e,{Z:function(){return O}});var n=r(34051),i=r.n(n),a=r(35944),o=r(67294),u=r(1864),c=r.n(u),l=r(67289),s=r(46846),f=r(23139),d=r(1517),h=r(35060),p=r(88457),v=r(46010);function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e,r,n,i,a,o){try{var u=t[a](o),c=u.value}catch(l){return void r(l)}u.done?e(c):Promise.resolve(c).then(n,i)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){y(a,n,i,o,u,"next",t)}function u(t){y(a,n,i,o,u,"throw",t)}o(void 0)}))}}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){g(t,e,r[e])}))}return t}function x(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a=[],o=!0,u=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==r.return||r.return()}finally{if(u)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k,S=RegExp("^(https:\\/\\/)?(www\\.youtube\\.com\\/watch\\?v=|youtu\\.be\\/)(?<id>[A-Za-z0-9_-]{11})$");function C(t){return E.apply(this,arguments)}function E(){return(E=b(i().mark((function t(e){var n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([r.e(2738),r.e(4474)]).then(r.t.bind(r,74474,23));case 3:return n=t.sent.exportToSvg,a=n({elements:JSON.parse(e).elements,appState:{exportBackground:!1}}),t.abrupt("return",window.btoa(window.unescape(window.encodeURIComponent(a.outerHTML))));case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function O(t,e){var r=function(t){var e=t.fs,r=Z(o.useState({}),2),n=r[0],a=r[1];return o.useCallback((function(t){var r=function(){var r=b(i().mark((function r(){var o,u,c,f,d;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.stat(t);case 2:if(o=r.sent,u=n[t],o.exists&&o.type===s.Tv.File){r.next=7;break}return(null===u||void 0===u?void 0:u.state)!==k.Error&&a((function(e){return w({},e,g({},t,{state:k.Error}))})),r.abrupt("return");case 7:if(!u){r.next=14;break}if(u.state!==k.Ready){r.next=13;break}if(u.lastModified.getTime()!==o.lastModified.getTime()){r.next=11;break}return r.abrupt("return");case 11:r.next=14;break;case 13:return r.abrupt("return");case 14:return a((function(e){return w({},e,g({},t,{state:k.Loading}))})),r.next=17,e.readFile(t);case 17:if((c=r.sent).error){r.next=33;break}if(!(0,l.sL)(t)){r.next=29;break}return r.next=23,C(c.content.toString());case 23:if(d=r.sent){r.next=26;break}return r.abrupt("return");case 26:f=d,r.next=30;break;case 29:f=c.content.toString("base64");case 30:a((function(e){return w({},e,g({},t,{content:f,lastModified:o.lastModified,state:k.Ready}))})),r.next=34;break;case 33:a((function(e){return w({},e,g({},t,{state:k.Error}))}));case 34:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return r(),n[t]}),[n,e])}({fs:t});return o.useCallback((function(t){return(0,a.tZ)(P,w({},t,{previewFilePath:e,getCachedImage:r}))}),[r,e])}function j(t){var e=t.id,r=t.title,n=Z(o.useState(!0),2),i=n[0],u=n[1];return o.useEffect((function(){var t=setTimeout((function(){u(!1)}),150+5*Math.random());return function(){return clearTimeout(t)}}),[]),i?(0,a.tZ)(f.G7,{css:[f.l0.width("100%"),f.l0.height(320),{background:"transparent"}]}):(0,a.tZ)("iframe",{css:[f.l0.maxWidth("100%"),f.l0.display.block,f.l0.borderRadius(4),{margin:"0 auto"}],width:"540",height:"320",src:"https://www.youtube.com/embed/".concat(e),title:r,frameBorder:"0"})}function P(t){var e,r=t.previewFilePath,n=t.src,i=void 0===n?"":n,u=t.alt,s=void 0===u?"":u,m=t.getCachedImage,y=x(t,["previewFilePath","src","alt","getCachedImage"]),b=(0,v.vt)(i),g=(0,l.sL)(i),Z=g?"image/svg+xml":(0,l.yC)(i),C=null===Z||void 0===Z?void 0:Z.startsWith("image/"),E=null===Z||void 0===Z?void 0:Z.startsWith("video/"),O=(0,p.Fg)(),P=O===p.V2.replitDark||O===p.V2.replitSpooky,A=o.useMemo((function(){return S.exec(b)}),[b]);if(null===A||void 0===A||null===(e=A.groups)||void 0===e?void 0:e.id)return(0,a.tZ)(j,{id:A.groups.id,title:s});if(!Z||!C&&!E&&!g||!r)return(0,a.tZ)(a.HY,{children:i});var I=""===b,D="",T=k.Loading;if(I){var M=c().dirname(r),R=c().resolve(M,i);0===R.indexOf("/")&&(R=R.substr(1));var U=m(R);U&&(T=U.state,U.state===k.Ready&&(D="data:".concat(Z,";base64,").concat(U.content)))}else D=(0,v.dK)({url:b}),T=k.Ready;return T===k.Loading?(0,a.tZ)(f.G7,{css:[f.l0.center,f.l0.py(8),f.l0.flex.growAndShrink(1)],children:(0,a.tZ)(d.Z,{})}):T===k.Error?(0,a.BX)(f.G7,{css:[f.l0.center,f.l0.py(8),f.l0.flex.growAndShrink(1),f.l0.colWithGap(8)],children:[(0,a.tZ)(h.Z,{}),(0,a.tZ)(f.xv,{color:"dimmest",children:'Failed to load "'.concat(i,'"')})]}):(0,a.BX)(f.G7,{tag:"figure",css:[f.l0.flex.growAndShrink(1),f.l0.center,f.l0.py(8),f.l0.colWithGap(8)],children:[E?(0,a.tZ)("video",w({},y,{src:D,width:"540",controls:!0,css:[f.l0.maxWidth("100%"),f.l0.borderRadius(4)]})):(0,a.tZ)("img",w({},y,{css:[f.l0.maxWidth("100%"),f.l0.borderRadius(4),g&&P?{filter:"invert(100%)"}:{}],src:D,alt:s})),s&&(0,a.tZ)("figcaption",{children:(0,a.tZ)(f.xv,{color:"dimmest",children:s})})]})}!function(t){t.Ready="READY",t.Loading="LOADING",t.Error="ERROR"}(k||(k={}))},53009:function(t,e,r){r.d(e,{LN:function(){return m},ZP:function(){return v}});var n=r(35944),i=(r(67294),r(66552)),a=r(3204),o=r(54929),u=r(79744),c=r(70917),l=r(1517);function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){s(t,e,r[e])}))}return t}function d(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var h=(0,c.iv)([a.l0.overflow("hidden"),a.l0.position.relative,{border:"1px solid "+a.TV.outlineDimmest}]),p={16:4,24:4,32:4,64:8,84:16};function v(t){var e=t.alt,r=t.iconUrl,c=t.size,l=void 0===c?32:c,s=d(t,["alt","iconUrl","size"]),v=l<32?4:8;if(r.endsWith(".svg")){var m=p[l],y=l-2*m;return(0,n.tZ)(i.Z,f({elevated:!0,css:[a.l0.p(m),a.l0.borderRadius(v),h,a.l0.width(l),a.l0.height(l)]},s,{children:(0,n.tZ)(o.Z,{css:[a.l0.position.relative,a.l0.width(y),a.l0.height(y)],children:(0,n.tZ)(u.Z,{alt:e,src:r,layout:"fill",objectFit:"contain"})})}))}return(0,n.tZ)(i.Z,{elevated:!0,css:[h,a.l0.borderRadius(v),a.l0.width(l),a.l0.height(l)],children:(0,n.tZ)(u.Z,{alt:e,src:r,layout:"fill",objectFit:"cover"})})}function m(t){var e=t.isLoading,r=t.alt,u=t.iconUrl,c=t.size,s=void 0===c?32:c,h=d(t,["isLoading","alt","iconUrl","size"]),p=u?(0,n.tZ)(v,f({alt:r,iconUrl:u,size:s},h)):null;return!e&&p?p:(0,n.BX)(o.Z,{css:[a.l0.position.relative,a.l0.width(s),a.l0.height(s)],children:[p,(0,n.tZ)(i.Z,{elevated:!0,css:[a.l0.borderRadius(8),a.l0.coverContainer,{opacity:.8}]}),e?(0,n.tZ)(o.Z,{css:[a.l0.coverContainer,a.l0.center,a.l0.color.accentPrimaryDefault],children:(0,n.tZ)(l.Z,{})}):null]})}},45421:function(t,e,r){r.d(e,{D:function(){return n},V:function(){return a}});var n,i=r(67289);function a(t){return t.endsWith(".md")?n.Markdown:(0,i.sL)(t)?n.Draw:(0,i.IQ)(t)?n.Pedit:(0,i.T3)(t)?n.Media:n.Code}!function(t){t.Media="Media",t.Code="Code",t.Markdown="Markdown",t.Draw="Draw",t.Pedit="Pedit"}(n||(n={}))},24039:function(t,e,r){r.d(e,{Z:function(){return c}});var n=r(35944),i=(r(67294),r(24561)),a=r(66552),o=r(3204),u=(0,r(70917).F4)({"0%":{opacity:0},"100%":{opacity:1}});function c(){return(0,n.tZ)(a.Z,{background:"default",css:[o.l0.p(16),{overflow:"hidden",height:"100%",width:"100%",opacity:0,animation:"".concat(u," ease 0s forwards"),animationDelay:"200ms","> svg":{maxWidth:640,minWidth:500,height:"auto"},"@media (min-width: 900px)":o.l0.pl(32)}],children:(0,n.BX)(i.ZP,{primaryColor:o.TV.backgroundHighest,secondaryColor:o.TV.backgroundHigher,uniquekey:"editorLoader",children:[(0,n.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10"}),(0,n.tZ)("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10"}),(0,n.tZ)("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10"}),(0,n.tZ)("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10"}),(0,n.tZ)("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10"}),(0,n.tZ)("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10"}),(0,n.tZ)("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10"}),(0,n.tZ)("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10"}),(0,n.tZ)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10"}),(0,n.tZ)("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10"}),(0,n.tZ)("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10"}),(0,n.tZ)("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10"}),(0,n.tZ)("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10"}),(0,n.tZ)("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10"}),(0,n.tZ)("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10"})]})})}},24931:function(t,e,r){r.d(e,{Z:function(){return u}});var n=r(35944),i=(r(67294),r(88534)),a=r(38732),o=r(22785);function u(t){var e=t.source,r=t.sourcePos,u=t.fs,c=t.path,l=(0,a.Z)(u,c);return(0,n.tZ)(i.Z,{linkTarget:"_blank",asyncCodeHighlighting:!0,components:{img:l,a:o.Z},sourcePos:r,children:e})}},62208:function(t,e,r){r.d(e,{A:function(){return s},Z:function(){return l}});var n=r(35944),i=r(67294),a=r(67289),o=r(23139),u=r(6988),c=r(1517);function l(t){var e=t.fs,r=t.filePath,l=(0,i.useState)(null),f=l[0],d=l[1],h=(0,i.useState)(!0),p=h[0],v=h[1];return(0,i.useEffect)((function(){var t=e.watchFile(r,{onChange:function(t){d(t.toString("base64")),v(!1)},onError:function(){d(null),v(!1)},onMoveOrDelete:function(){d(null),v(!1)}});return function(){t(),v(!0),d(null)}}),[e,r]),p?(0,n.tZ)(c.Z,{}):f?(0,n.BX)(n.HY,{children:[(0,n.tZ)(s,{content:f,mime:(0,a.yC)(r)}),(0,n.tZ)(o.hU,{alt:"Download",css:[o.l0.position.absolute,o.l0.bottom(8),o.l0.right(8),o.l0.p(16)],children:(0,n.tZ)("a",{href:"data:text/plain;base64,".concat(f),download:(0,a.UO)(r),css:[o.l0.color.foregroundDimmer],children:(0,n.tZ)(u.Z,{})})})]}):(0,n.tZ)(o.xv,{children:"Failed to load media file"})}var s=function(t){var e=t.content,r=t.mime,i=void 0===r?"":r;if(i.startsWith("video/"))return(0,n.tZ)("video",{src:"data:".concat(i,";base64,").concat(e),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0});if(i.startsWith("image/"))return(0,n.tZ)("img",{src:"data:".concat(i,";base64,").concat(e),css:{width:"80%",height:"80%",objectFit:"contain",imageRendering:"pixelated"}});if(i.startsWith("audio/")){var a=i;return"audio/wave"===a&&(a="audio/wav"),(0,n.tZ)("audio",{src:"data:".concat(a,";base64,").concat(e),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0})}return"application/pdf"===i?(0,n.tZ)("object",{data:"data:".concat(i,";base64,").concat(e),type:"application/pdf",css:{width:"100%",height:"100%",flex:1},children:(0,n.tZ)("embed",{src:"data:".concat(i,";base64,").concat(e),type:"application/pdf",css:{width:"100%",height:"100%"}})}):(0,n.tZ)(o.xv,{children:"File type not supported."})}},77346:function(t,e,r){r.d(e,{Z:function(){return w}});var n,i=r(34051),a=r.n(i),o=r(35944),u=r(79547),c=r.n(u),l=r(67294),s=r(50658),f=r(28593),d=r(85252),h=r(56834),p=r(11503),v=r(27754);function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e,r,n,i,a,o){try{var u=t[a](o),c=u.value}catch(l){return void r(l)}u.done?e(c):Promise.resolve(c).then(n,i)}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a=[],o=!0,u=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==r.return||r.return()}finally{if(u)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(t){t.Connecting="Connecting",t.Connected="Connected",t.Disconnected="Disconnected"}(n||(n={}));var g="VNC_PASSWORD";function w(t){var e=t.fs,i=t.container,u=b(l.useState(null),2),m=u[0],w=u[1],x=b(l.useState(void 0),2),Z=x[0],k=x[1],S=b(l.useState(n.Connecting),2),C=S[0],E=S[1],O=b(l.useState(null),2),j=O[0],P=O[1],A=b(l.useState(!1),2),I=A[0],D=A[1],T=b(l.useState(!1),2),M=T[0],R=T[1],U=b(l.useState(null),2),W=U[0],L=U[1];(0,h.j)(h.U3.VNC_OPENED),l.useEffect((function(){if(i.getConnectionState()!==v.e.CONNECTED)return i.onConnectionStateChanged((function(t){t===v.e.CONNECTED&&L(i.getVncUrl())}));L(i.getVncUrl())}),[i]);var N=b(l.useState(null),2),F=N[0],_=N[1],$=l.useRef((function(){return null}));l.useEffect((function(){$.current()}),[F]);var z=(0,d.Z)((function(t){return _(t.width&&t.height?{width:t.width,height:t.height}:null)}),{type:"throttle",wait:100}),B=l.useRef((function(t){}));return l.useEffect((function(){B.current(M)}),[M]),l.useEffect((function(){if(!m){var t=!1;return r.e(581).then(r.bind(r,80581)).then((function(e){t||w(e)})),function(){t=!0}}}),[m]),l.useEffect((function(){if(W&&j&&m){var t=!1,r=m.default,o=i.getConnectionMetadata(),u={credentials:{username:null===o||void 0===o?void 0:o.token,password:Z||""}};(0,h.j)(h.U3.VNC_CONNECTED);var c=new r(j,W,u);c.scaleViewport=!0,c.resizeSession=!0;var l=function(){t||E(n.Connected)},f=function(t){var e=t.detail.capabilities.audio;D(void 0!==window.MediaSource&&!!e)},d=function(){t||E(n.Disconnected)},v=function(){if(!t){var r=function(){var t=window.prompt("The output is password protected, please input it:");t&&k(t)},n=function(){var n,i=(n=a().mark((function n(){var i,o,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.readFile(".env");case 2:if(i=n.sent,!t){n.next=5;break}return n.abrupt("return");case 5:if(!i.error){n.next=8;break}return r(),n.abrupt("return");case 8:if(o=i.content.toString("utf8"),u=p.Z.parse(o),g in u){n.next=13;break}return r(),n.abrupt("return");case 13:k(u.VNC_PASSWORD);case 14:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,i){var a=n.apply(t,e);function o(t){y(a,r,i,o,u,"next",t)}function u(t){y(a,r,i,o,u,"throw",t)}o(void 0)}))});return function(){return i.apply(this,arguments)}}();n().catch((function(t){return s.Tb(t)}))}};return c.addEventListener("connect",l),c.addEventListener("capabilities",f),c.addEventListener("disconnect",d),c.addEventListener("securityfailure",v),$.current=function(){return c._windowResize()},D(!1),R(!1),B.current=function(t){t?((0,h.j)(h.U3.VNC_AUDIO_ENABLED),c.enableAudio(2,window.MediaSource.isTypeSupported("audio/webm;codecs=opus")?r.audioCodecs.OpusWebM:r.audioCodecs.MP3,32768)):c.disableAudio()},function(){t=!0,$.current=function(){return null},B.current=function(t){},c.disconnect(),c.removeEventListener("securityfailure",v),c.removeEventListener("disconnect",d),c.removeEventListener("capabilities",f),c.removeEventListener("connect",l)}}}),[m,j,i,W,e,Z]),(0,o.BX)("div",{className:"jsx-612fb0831fb3a82c vnc",children:[I?(0,o.BX)("label",{className:"jsx-612fb0831fb3a82c vnc-audio",children:["\ud83c\udfa7"," ",(0,o.tZ)("input",{type:"checkbox",checked:M,onChange:function(t){return R(t.target.checked)},className:"jsx-612fb0831fb3a82c"})]}):null,(0,o.tZ)("div",{ref:function(t){z(t),P(t)},className:"jsx-612fb0831fb3a82c vnc-target"}),C!==n.Connected&&(0,o.tZ)("div",{className:"jsx-612fb0831fb3a82c vnc-overlay",children:(0,o.tZ)(f.Z,{})}),(0,o.tZ)(c(),{id:"612fb0831fb3a82c",children:".vnc.jsx-612fb0831fb3a82c{position:relative}.vnc.jsx-612fb0831fb3a82c,.vnc-target.jsx-612fb0831fb3a82c{height:100%;width:100%}.vnc-audio.jsx-612fb0831fb3a82c{position:absolute;bottom:0;right:0;padding:.2em}.vnc-overlay.jsx-612fb0831fb3a82c{top:0;position:absolute;height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:rgba(0,0,0,.85);color:var(--white)}"})]})}},73049:function(t,e,r){r.d(e,{YM:function(){return w},mv:function(){return b},u9:function(){return y}});var n=r(34051),i=r.n(n),a=r(46846);function o(t,e,r,n,i,a,o){try{var u=t[a](o),c=u.value}catch(l){return void r(l)}u.done?e(c):Promise.resolve(c).then(n,i)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function u(t){o(a,n,i,u,c,"next",t)}function c(t){o(a,n,i,u,c,"throw",t)}u(void 0)}))}}var c=/^\d+$/,l=function(t){return 0===t.length||t.startsWith("/")},s=function(t){return t.startsWith("./")?t.slice(2):t},f=function(t){if(t)return c.test(t)?parseInt(t,10):void 0},d=function(t){return t.split(":").length-1};function h(t,e){return p.apply(this,arguments)}function p(){return(p=u(i().mark((function t(e,r){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,e.stat(r);case 4:if((n=t.sent).exists){t.next=7;break}return t.abrupt("return",!1);case 7:return t.abrupt("return",n.type===a.Tv.File);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e){return m.apply(this,arguments)}function m(){return(m=u(i().mark((function t(e,r){var n,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e,r);case 2:if(!t.sent){t.next=4;break}return t.abrupt("return",{path:r});case 4:if(0!==d(r)){t.next=6;break}return t.abrupt("return",{});case 6:return n=r.split(":"),a=f(n.pop()),r=n.join(":"),t.next=11,h(e,r);case 11:if(!t.sent){t.next=13;break}return t.abrupt("return",{path:r,line:a});case 13:if(0!==d(r)){t.next=15;break}return t.abrupt("return",{});case 15:return o=a,a=f(n.pop()),r=n.join(":"),t.next=20,h(e,r);case 20:if(!t.sent){t.next=22;break}return t.abrupt("return",{path:r,line:a,col:o});case 22:return t.abrupt("return",{});case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){return window.location.hash.length>1}function b(t){return g.apply(this,arguments)}function g(){return(g=u(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=window.location.hash.slice(1);try{r=window.decodeURI(r)}catch(i){}if(n=s(r),!l(n)){t.next=5;break}return t.abrupt("return",{});case 5:return t.abrupt("return",v(e,n));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){var e=t.path,r=t.line,n=t.col,i="#".concat(e);return r?n?"".concat(i,":").concat(r,":").concat(n):"".concat(i,":").concat(r):i}},91272:function(t,e,r){r.d(e,{T:function(){return g},W:function(){return w}});var n=r(34051),i=r.n(n),a=r(27740),o=r.n(a),u=r(62776),c=r(46846),l=r(41045),s=r(87152),f=r(88768),d=r(67289);function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e,r,n,i,a,o){try{var u=t[a](o),c=u.value}catch(l){return void r(l)}u.done?e(c):Promise.resolve(c).then(n,i)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){p(a,n,i,o,u,"next",t)}function u(t){p(a,n,i,o,u,"throw",t)}o(void 0)}))}}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a=[],o=!0,u=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==r.return||r.return()}finally{if(u)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=".replit",b="replit.nix";function g(t,e){var r=e.startsWith("nix"),n=r?null:o().getMainFileName(e);if(n&&o().usesInterpreter(e)&&t.includes(n))return n;if(t.includes("Makefile"))return"Makefile";if(n&&t.includes(n))return n;if(!r&&t.includes(y))return".replit";var i=t.find((function(t){return t.endsWith(".md")}));return i||t.find((function(t){return(!r||![y,b].includes(t))&&!(0,u.isHiddenFile)(t)}))}function w(t){return x.apply(this,arguments)}function x(){return x=v(i().mark((function t(e){var r,n,a,o,u,h,p,y,b,w,x,Z,k,S,C,E;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k=function(){return S.apply(this,arguments)},S=function(){return(S=v(i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null===b||void 0===b?void 0:b.entrypoint){t.next=3;break}return t.abrupt("return",null);case 3:if((0,d.Il)(e)){t.next=6;break}return t.abrupt("return",Z.includes(e)?e:null);case 6:return t.next=8,n.stat(e);case 8:return r=t.sent,t.abrupt("return",r.exists&&r.type===c.Tv.File?e:null);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)},r=e.dotReplit,n=e.fs,a=e.replId,s.l){t.next=6;break}throw new Error("Expected apollo client");case 6:return t.t0=m,t.next=9,Promise.all([s.l.query({query:f.orp,variables:{replId:a}}),n.readDir(l.Q),r.getConfig()]);case 9:if(t.t1=t.sent,u=(0,t.t0)(t.t1,3),h=u[0].data,p=u[1],y=u[2],b=y.config,p&&!p.error){t.next=17;break}throw new Error("Could not read files");case 17:return w=p.children,x=w.find((function(t){return t.type===c.Tv.File&&t.filename.toLowerCase().endsWith("readme.md")})),Z=w.filter((function(t){return t.type===c.Tv.File})).map((function(t){return t.filename})),t.next=24,k();case 24:if(!(C=t.sent)){t.next=27;break}return t.abrupt("return",{entrypoint:C,readmeFile:null===x||void 0===x?void 0:x.filename});case 27:if(E="Repl"===h.repl.__typename?h.repl.language:"","CurrentUser"===(null===(o=h.currentUser)||void 0===o?void 0:o.__typename)&&h.currentUser.flagReadmePreview||!(null===x||void 0===x?void 0:x.filename)){t.next=31;break}return t.abrupt("return",{entrypoint:x.filename,readmeFile:x.filename});case 31:return t.abrupt("return",{entrypoint:g(Z,E),readmeFile:null===x||void 0===x?void 0:x.filename});case 32:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}},51409:function(t,e,r){function n(t){var e=document.createElement("canvas"),r=e.getContext("2d");if(e.width=t.width,e.height=t.height,!r)throw new Error("failed to get canvas ctx");return{version:"1",width:t.width,height:t.height,palette:[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],anims:{},frames:t.frames.map((function(n){var i=new window.ImageData(new Uint8ClampedArray(n.pixels),t.width,t.height);return r.putImageData(i,0,0),e.toDataURL()}))}}function i(t){return new Promise((function(e,r){var n=new window.Image;n.src=t,n.onload=function(){e(n)},n.onerror=r}))}function a(t){return new Promise((function(e,r){Promise.all(t.frames.map(i)).then((function(n){var i=document.createElement("canvas");i.width=t.width,i.height=t.height;var a=i.getContext("2d");if(a){var o=n.map((function(e){return a.drawImage(e,0,0),{pixels:Array.from(a.getImageData(0,0,t.width,t.height).data),width:t.width,height:t.height}}));e({frames:o,preview:t.frames[0],width:t.width,height:t.height})}else r(new Error("failed to get canvas ctx"))})).catch(r)}))}r.d(e,{C:function(){return n},u:function(){return a}})},45309:function(t,e,r){var n;r.d(e,{N:function(){return n}}),function(t){t.AdminTutorialUpdate="admin-tutorial-update",t.CommunityPost="community-post",t.ProfileImage="profile-image",t.ProfileCoverImage="profile-cover-image",t.TemplateIcon="template-icon",t.ReplIcon="repl-icon",t.ReplCoverImage="repl-cover-image"}(n||(n={}))}}]);
//# sourceMappingURL=6934-cc167f53420477a8.js.map